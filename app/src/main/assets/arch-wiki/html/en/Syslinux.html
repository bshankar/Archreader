<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Syslinux - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Syslinux skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Syslinux</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div style="width:45%; margin: 0 0 0.5em 0.5em;">
<p style="background:#333; color:white; padding:0.2em; border-bottom:5px #08c solid; margin:0; text-align:center; font-weight:bold;">Related articles</p>
<ul style="list-style-type:none; margin:0; padding:0.3em;">
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Arch_boot_process.html" title="Arch boot process">Arch boot process</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Boot_loaders.html" title="Boot loaders" class="mw-redirect">Boot loaders</a></li>
</ul>
</div>
<p><a href="https://en.wikipedia.org/wiki/SYSLINUX" class="extiw" title="wikipedia:SYSLINUX">Syslinux</a> is a collection of boot loaders capable of booting from drives, CDs, and over the network via <a href="../en/PXE.html" title="PXE">PXE</a>. Some of the supported <a href="../en/File_systems.html" title="File systems">file systems</a> are <a href="https://en.wikipedia.org/wiki/File_Allocation_Table" class="extiw" title="wikipedia:File Allocation Table">FAT</a>, <a href="https://en.wikipedia.org/wiki/ext2" class="extiw" title="wikipedia:ext2">ext2</a>, <a href="../en/Ext3.html" title="Ext3">ext3</a>, <a href="../en/Ext4.html" title="Ext4">ext4</a>, and uncompressed single-device <a href="../en/Btrfs.html" title="Btrfs">Btrfs</a>.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;">
<strong> Warning: </strong>As of Syslinux 6.03, some of the features of the supported file systems are not supported by the bootloader; for example, the "64bit" feature of ext4 (boot) volumes. See <a rel="nofollow" class="external autonumber" href="http://www.syslinux.org/wiki/index.php/Filesystem">[1]</a> for more information.</div>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Syslinux, by itself, cannot access files from partitions other than its own. See <a href="#Chainloading">#Chainloading</a> on how to work around this.</div>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#BIOS_Systems"><span class="tocnumber">1</span> <span class="toctext">BIOS Systems</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Boot_process_overview"><span class="tocnumber">1.1</span> <span class="toctext">Boot process overview</span></a></li>
<li class="toclevel-2 tocsection-3">
<a href="#Installation_on_BIOS"><span class="tocnumber">1.2</span> <span class="toctext">Installation on BIOS</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#Automatic_Install"><span class="tocnumber">1.2.1</span> <span class="toctext">Automatic Install</span></a></li>
<li class="toclevel-3 tocsection-5">
<a href="#Manual_install"><span class="tocnumber">1.2.2</span> <span class="toctext">Manual install</span></a>
<ul>
<li class="toclevel-4 tocsection-6"><a href="#MBR_partition_table"><span class="tocnumber">1.2.2.1</span> <span class="toctext">MBR partition table</span></a></li>
<li class="toclevel-4 tocsection-7"><a href="#GUID_partition_table"><span class="tocnumber">1.2.2.2</span> <span class="toctext">GUID partition table</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-8">
<a href="#UEFI_Systems"><span class="tocnumber">2</span> <span class="toctext">UEFI Systems</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Limitations_of_UEFI_Syslinux"><span class="tocnumber">2.1</span> <span class="toctext">Limitations of UEFI Syslinux</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Installation_on_UEFI"><span class="tocnumber">2.2</span> <span class="toctext">Installation on UEFI</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11">
<a href="#Configuration"><span class="tocnumber">3</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-12">
<a href="#Examples"><span class="tocnumber">3.1</span> <span class="toctext">Examples</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#Boot_prompt"><span class="tocnumber">3.1.1</span> <span class="toctext">Boot prompt</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#Text_boot_menu"><span class="tocnumber">3.1.2</span> <span class="toctext">Text boot menu</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#Graphical_boot_menu"><span class="tocnumber">3.1.3</span> <span class="toctext">Graphical boot menu</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-16"><a href="#Kernel_parameters"><span class="tocnumber">3.2</span> <span class="toctext">Kernel parameters</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Auto_boot"><span class="tocnumber">3.3</span> <span class="toctext">Auto boot</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Security"><span class="tocnumber">3.4</span> <span class="toctext">Security</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Chainloading"><span class="tocnumber">3.5</span> <span class="toctext">Chainloading</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Chainloading_other_Linux_systems"><span class="tocnumber">3.6</span> <span class="toctext">Chainloading other Linux systems</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Using_memtest"><span class="tocnumber">3.7</span> <span class="toctext">Using memtest</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#HDT"><span class="tocnumber">3.8</span> <span class="toctext">HDT</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Reboot_and_power_off"><span class="tocnumber">3.9</span> <span class="toctext">Reboot and power off</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Clear_menu"><span class="tocnumber">3.10</span> <span class="toctext">Clear menu</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Keyboard_layout"><span class="tocnumber">3.11</span> <span class="toctext">Keyboard layout</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#Hiding_the_menu"><span class="tocnumber">3.12</span> <span class="toctext">Hiding the menu</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#Pxelinux"><span class="tocnumber">3.13</span> <span class="toctext">Pxelinux</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Booting_ISO9660_image_files_with_memdisk"><span class="tocnumber">3.14</span> <span class="toctext">Booting ISO9660 image files with memdisk</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#Serial_console"><span class="tocnumber">3.15</span> <span class="toctext">Serial console</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-30">
<a href="#Troubleshooting"><span class="tocnumber">4</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-31"><a href="#Using_the_Syslinux_prompt"><span class="tocnumber">4.1</span> <span class="toctext">Using the Syslinux prompt</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#Fsck_fails_on_root_partition"><span class="tocnumber">4.2</span> <span class="toctext">Fsck fails on root partition</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#No_Default_or_UI_found_on_some_computers"><span class="tocnumber">4.3</span> <span class="toctext">No Default or UI found on some computers</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#Missing_operating_system"><span class="tocnumber">4.4</span> <span class="toctext">Missing operating system</span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#Windows_boots_up.2C_ignoring_Syslinux"><span class="tocnumber">4.5</span> <span class="toctext">Windows boots up, ignoring Syslinux</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#Menu_entries_do_nothing"><span class="tocnumber">4.6</span> <span class="toctext">Menu entries do nothing</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#Cannot_remove_ldlinux.sys"><span class="tocnumber">4.7</span> <span class="toctext">Cannot remove ldlinux.sys</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#White_block_in_upper_left_corner_when_using_vesamenu"><span class="tocnumber">4.8</span> <span class="toctext">White block in upper left corner when using vesamenu</span></a></li>
<li class="toclevel-2 tocsection-39"><a href="#Chainloading_Windows_does_not_work.2C_when_it_is_installed_on_another_drive"><span class="tocnumber">4.9</span> <span class="toctext">Chainloading Windows does not work, when it is installed on another drive</span></a></li>
<li class="toclevel-2 tocsection-40"><a href="#Read_bootloader_log"><span class="tocnumber">4.10</span> <span class="toctext">Read bootloader log</span></a></li>
<li class="toclevel-2 tocsection-41"><a href="#Btrfs_compression"><span class="tocnumber">4.11</span> <span class="toctext">Btrfs compression</span></a></li>
<li class="toclevel-2 tocsection-42"><a href="#Btrfs_multi-device"><span class="tocnumber">4.12</span> <span class="toctext">Btrfs multi-device</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-43"><a href="#See_also"><span class="tocnumber">5</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="BIOS_Systems">BIOS Systems</span></h2>
<h3><span class="mw-headline" id="Boot_process_overview">Boot process overview</span></h3>
<ol>
<li> <b>Stage 1 : Part 1</b> - <b>Load MBR</b> - At boot, the BIOS loads the 440 byte <a href="../en/Partitioning.html#Master_Boot_Record" title="MBR" class="mw-redirect">MBR</a> boot code at the start of the disk (<code>/usr/lib/syslinux/bios/mbr.bin</code> or <code>/usr/lib/syslinux/bios/gptmbr.bin</code>). </li>
<li> <b>Stage 1 : Part 2</b> - <b>Search active partition</b>. The <b>Stage 1 MBR boot code</b> looks for the partition that is marked as active (boot flag in MBR disks). Let us assume this is the <code>/boot</code> partition, for example.</li>
<li> <b>Stage 2 : Part 1</b> - <b>Execute volume boot record</b> - The <b>Stage 1 MBR boot code</b> executes the Volume Boot Record (VBR) of the <code>/boot</code> partition. In the case of Syslinux, the VBR boot code is the starting sector of <code>/boot/syslinux/ldlinux.sys</code> which is created by the <code>extlinux --install</code> command. Note that <code>ldlinux.sys</code> is not the same as <code>ldlinux.c32</code>.</li>
<li> <b>Stage 2 : Part 2</b> - <b>Execute <code>/boot/syslinux/ldlinux.sys</code></b> - The VBR will load the rest of <code>/boot/syslinux/ldlinux.sys</code>. The sector location of <code>/boot/syslinux/ldlinux.sys</code> should not change, otherwise syslinux will not boot. <div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>In the case of <a href="../en/Btrfs.html" title="Btrfs">Btrfs</a>, the above method will not work since files move around resulting in changing of the sector location of <code>ldlinux.sys</code>. Therefore, in Btrfs the entire <code>ldlinux.sys</code> code is embedded in the space following the VBR and is not installed at <code>/boot/syslinux/ldlinux.sys</code> unlike the case of other filesystems.</div>
</li>
<li> <b>Stage 3</b> - <b>Load <code>/boot/syslinux/ldlinux.c32</code></b> - The <code>/boot/syslinux/ldlinux.sys</code> will load the <code>/boot/syslinux/ldlinux.c32</code> (core module) that contains the rest of the <b>core</b> part of syslinux that could not be fit into <code>ldlinux.sys</code> (due to file-size constraints). The <code>ldlinux.c32</code> file should be present in every Syslinux installation and should match the version of <code>ldlinux.sys</code> installed in the partition. Otherwise Syslinux will fail to boot. See <a rel="nofollow" class="external free" href="http://bugzilla.syslinux.org/show_bug.cgi?id=7">http://bugzilla.syslinux.org/show_bug.cgi?id=7</a> for more info.</li>
<li> <b>Stage 4</b> - <b>Search and Load configuration file</b> - Once Syslinux is fully loaded, it looks for <code>/boot/syslinux/syslinux.cfg</code> (or <code>/boot/syslinux/extlinux.conf</code> in some cases) and loads it if it is found. If no configuration file is found, you will be dropped to a Syslinux <code>boot:</code> prompt. This step and the rest of <b>non-core</b> parts of Syslinux (<code>/boot/syslinux/*.c32</code> modules, excluding <code>lib*.c32</code> and <code>ldlinux.c32</code>) require <code>/boot/syslinux/lib*.c32</code> (library) modules to be present (<a rel="nofollow" class="external free" href="http://www.syslinux.org/wiki/index.php/Common_Problems#ELF">http://www.syslinux.org/wiki/index.php/Common_Problems#ELF</a>). The <code>lib*.c32</code> library modules and non-core <code>*.c32</code> modules should match the version of <code>ldlinux.sys</code> installed in the partition.</li>
</ol>
<h3><span class="mw-headline" id="Installation_on_BIOS">Installation on BIOS</span></h3>
<p><a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=syslinux">syslinux</a></span> package.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>
<ul>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=gptfdisk">gptfdisk</a></span> is required for <a href="https://en.wikipedia.org/wiki/GUID_Partition_Table" class="extiw" title="wikipedia:GUID Partition Table">GPT</a> support using the automated script.</li>
<li> If your boot partition is FAT, you will also need <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=mtools">mtools</a></span>.</li>
</ul>
</div>
<p>Installing the package is not the same as installing the bootloader. After installing the relevant package(s), the bootloader code itself needs to be installed (to the adequate area, usually the VBR) so to be able to boot the system; the following sections provide alternative instructions depending on the characteristics of your particular system.
</p>
<h4><span class="mw-headline" id="Automatic_Install">Automatic Install</span></h4>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>The <code>syslinux-install_update</code> script is Arch specific, and is not provided/supported by Syslinux upstream. Please direct any bug reports specific to the script to the Arch Bug Tracker and not upstream.
</div>
<ul><li> After executing the <code>syslinux-install_update</code> script, do not forget to edit <code>/boot/syslinux/syslinux.cfg</code> by following <a href="#Configuration">#Configuration</a> and <a href="#Kernel_parameters">#Kernel parameters</a>.</li></ul>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;">
<strong> Warning: </strong>The <code>syslinux-install_update</code> script sets a default root partition that possibly will not match your particular system. It is important to point Syslinux to the correct root partition by editing <code>/boot/syslinux/syslinux.cfg</code>, or the OS will fail to boot. See <a href="#Kernel_parameters">#Kernel parameters</a>.</div>
<p>The <code>syslinux-install_update</code> script will install Syslinux, copy <code>*.c32</code> modules to <code>/boot/syslinux</code>, set the boot flag and install the boot code in the MBR. It can handle <a href="../en/Partitioning.html#Master_Boot_Record" title="MBR" class="mw-redirect">MBR</a> and <a href="../en/Partitioning.html#GUID_Partition_Table" title="GPT" class="mw-redirect">GPT</a> disks along with software RAID:
</p>
<p>If you use a separate boot partition, make sure that it is mounted. Check with <code>lsblk</code>; if you do not see a <code>/boot</code> mountpoint, mount it before you go any further.
</p>
<ul><li> Run <code>syslinux-install_update</code> with flags: <code>-i</code> (install the files), <code>-a</code> (mark the partition <i>active</i> with the <i>boot</i> flag), <code>-m</code> (install the <i>MBR</i> boot code): <pre># syslinux-install_update -i -a -m</pre> If this command fails with <i>Syslinux BIOS install failed</i>, the problem is likely that the <code>extlinux</code> binary could not find the partition containing <code>/boot</code>: </li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># extlinux --install /boot/syslinux/</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
extlinux: cannot find device for path /boot/syslinux
extlinux: cannot open device (null)
</pre> 
<p>This can happen, for example, when upgrading from <a href="../en/LILO.html" title="LILO">LILO</a> which, while booting a current custom kernel, turned a kernel command line parameter of say <code>root=/dev/sda1</code> into its numeric equivalent <code>root=801</code>, as evidenced by <code>/proc/cmdline</code> and the output of the <code>mount</code> command. Remedy the situation by either continuing with the manual install described below while specifying <code>--device=/dev/sda1</code> to <code>extlinux</code>, or simply by first rebooting into a stock Arch Linux kernel; its use of an initramfs avoids the problem.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>
<ul>
<li> If you rebooted your system now, you would get a Syslinux prompt. To automatically boot your system or get a boot menu, you need to create (edit) the configuration file.</li>
<li> If you are on another root directory (e.g. from an install disk) install SYSLINUX by directing to the chroot:</li>
</ul>
<pre># syslinux-install_update -i -a -m -c /mnt/
</pre>
</div>
<ul><li> Now is the time to edit <code>/boot/syslinux/syslinux.cfg</code> by following <a href="#Configuration">#Configuration</a> and <a href="#Kernel_parameters">#Kernel parameters</a>.</li></ul>
<h4><span class="mw-headline" id="Manual_install">Manual install</span></h4>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>
<ul><li> If you are unsure of which partition table you are using (MBR or GPT), you can check using the following command</li></ul>
<pre># blkid -s PTTYPE -o value /dev/sda
gpt
</pre>
<ul><li> If you are trying to rescue an installed system with a live CD, be sure to <a href="../en/Change_root.html" title="Chroot" class="mw-redirect">chroot</a> into it before executing these commands. If you do not chroot first, you must prepend all file paths (not <code>/dev/</code> paths) with the mount point.</li></ul>
</div>
<p>Your boot partition, on which you plan to install Syslinux, must contain a FAT, ext2, ext3, ext4, or Btrfs file system. You should install it on a mounted directory—not a <code>/dev/sdXY</code> device. You do not have to install it on the root directory of a file system, e.g., with device <code>/dev/sda1</code> mounted on <code>/boot</code>. You can install Syslinux in the <code>syslinux</code> directory:
</p>
<pre># mkdir /boot/syslinux
# cp /usr/lib/syslinux/bios/*.c32 /boot/syslinux/                           ## copy ALL the *.c32 files from /usr/lib/syslinux/bios/, DO NOT SYMLINK
# extlinux --install /boot/syslinux/
</pre>
<p>After this, proceed to install the Syslinux boot code (<code>mbr.bin</code> or <code>gptmbr.bin</code>) to the Master Boot Record 440-byte boot code region (not to be confused with MBR aka msdos partition table) of the disk, as described in the next sections, respectively.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>For a partitionless install, there is no need to install the Syslinux boot code to the MBR. You could skip below and jump to <a href="#Configuration">#Configuration</a>. See <a rel="nofollow" class="external autonumber" href="https://unix.stackexchange.com/questions/103501/boot-partiotionless-disk-with-syslinux">[2]</a>.</div>
<h5><span class="mw-headline" id="MBR_partition_table">MBR partition table</span></h5>
<p>See the main article: <a href="../en/Partitioning.html#Master_Boot_Record" title="Master Boot Record" class="mw-redirect">Master Boot Record</a>.
</p>
<p>Next, you need to mark your boot partition as "active" in your partition table. Applications capable of doing this include <code>fdisk</code>, <code>cfdisk</code>, <code>sfdisk</code>, <code>parted/gparted</code> ("boot" flag). It should look like this:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># fdisk -l /dev/sda</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
[...]
  Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *        2048      104447       51200   83  Linux
/dev/sda2          104448   625142447   312519000   83  Linux
</pre>
<p>Install the MBR:
</p>
<pre># dd bs=440 count=1 if=/usr/lib/syslinux/bios/mbr.bin of=/dev/sda
</pre>
<p>An alternative MBR which Syslinux provides is: <code>altmbr.bin</code>. This MBR does <i>not</i> scan for bootable partitions; instead, the last byte of the MBR is set to a value indicating which partition to boot from. Here is an example of how <code>altmbr.bin</code> can be copied into position:
</p>
<pre># printf '\x5' | cat /usr/lib/syslinux/bios/altmbr.bin - | dd bs=440 count=1 iflag=fullblock of=/dev/sda
</pre>
<p>In this case, a single byte of value 5 (hexadecimal) is appended to the contents of <code>altmbr.bin</code> and the resulting 440 bytes are written to the MBR on device <code>sda</code>. Syslinux was installed on the first logical partition (<code>/dev/sda5</code>) of the disk.
</p>
<h5><span class="mw-headline" id="GUID_partition_table">GUID partition table</span></h5>
<p>See the main article: <a href="../en/Partitioning.html#GUID_Partition_Table" title="GUID Partition Table" class="mw-redirect">GUID Partition Table</a>.
</p>
<p>Bit 2 of the attributes ("legacy_boot" attribute) needs to be set for the <code>/boot</code> partition:.
</p>
<pre># sgdisk /dev/sda --attributes=1:set:2
</pre>
<p>This would toggle the attribute <i>legacy BIOS bootable</i> on partition 1. To check:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># sgdisk /dev/sda --attributes=1:show</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
 1:2:1 (legacy BIOS bootable)
</pre>
<p>Install the MBR:
</p>
<pre># dd bs=440 conv=notrunc count=1 if=/usr/lib/syslinux/bios/gptmbr.bin of=/dev/sda
</pre>
<p>If this does not work, you can also try:
</p>
<pre># syslinux-install_update -i -m
</pre>
<h2><span class="mw-headline" id="UEFI_Systems">UEFI Systems</span></h2>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>
<ul><li> <code>efi64</code> denotes x86_64 UEFI systems, for IA32 (32-bit) EFI replace <code>efi64</code> with <code>efi32</code> in the below commands.</li></ul>
<ul><li> For Syslinux, the kernel and initramfs files need to be in the <a href="../en/EFI_System_Partition.html" title="EFI System Partition">EFI System Partition</a> (aka ESP), as Syslinux does not (currently) have the ability to access files outside its own partition (i.e. outside ESP in this case). For this reason, it is recommended to mount ESP at <code>/boot</code>.</li></ul>
<ul><li> The automatic install script <code>/usr/bin/syslinux-install_update</code> does not support UEFI install.</li></ul>
<ul><li> The configuration syntax of <code>syslinux.cfg</code> for UEFI is same as that of BIOS.</li></ul>
</div>
<h3><span class="mw-headline" id="Limitations_of_UEFI_Syslinux">Limitations of UEFI Syslinux</span></h3>
<ul>
<li> UEFI Syslinux application <code>syslinux.efi</code> cannot be signed by <code>sbsign</code> (from sbsigntool) for UEFI Secure Boot. Bug report: <a rel="nofollow" class="external autonumber" href="http://bugzilla.syslinux.org/show_bug.cgi?id=8">[3]</a>
</li>
<li> Using TAB to edit kernel parameters in UEFI Syslinux menu might lead to garbaged display (text on top of one another). Bug report: <a rel="nofollow" class="external autonumber" href="http://bugzilla.syslinux.org/show_bug.cgi?id=9">[4]</a>
</li>
<li> UEFI Syslinux does not support chainloading other EFI applications like <code>UEFI Shell</code> or <code>Windows Boot Manager</code>. Enhancement request: <a rel="nofollow" class="external autonumber" href="http://bugzilla.syslinux.org/show_bug.cgi?id=17">[5]</a>
</li>
<li> In some cases, UEFI Syslinux might not boot in some Virtual Machines like QEMU/OVMF or VirtualBox or some VMware products/versions and in some UEFI emulation environments like DUET. A Syslinux contributor has confirmed no such issues present on VMware Workstation 10.0.2 and Syslinux-6.02 or later. Bug reports: <a rel="nofollow" class="external autonumber" href="http://bugzilla.syslinux.org/show_bug.cgi?id=21">[6]</a>, <a rel="nofollow" class="external autonumber" href="http://bugzilla.syslinux.org/show_bug.cgi?id=23">[7]</a> and <a rel="nofollow" class="external autonumber" href="http://bugzilla.syslinux.org/show_bug.cgi?id=72">[8]</a>
</li>
<li> Memdisk is not available for UEFI. Enhancement request: <a rel="nofollow" class="external autonumber" href="http://bugzilla.syslinux.org/show_bug.cgi?id=30">[9]</a>
</li>
</ul>
<h3><span class="mw-headline" id="Installation_on_UEFI">Installation on UEFI</span></h3>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>In the commands related to UEFI, <code><i>esp</i></code> denotes the mountpoint of the <a href="../en/EFI_System_Partition.html" title="EFI System Partition">EFI System Partition</a> aka ESP.</div>
<ul><li> Install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=syslinux">syslinux</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=efibootmgr">efibootmgr</a></span> packages from the <a href="../en/Official_repositories.html" title="Official repositories">official repositories</a>.  Then setup Syslinux in the ESP as follows:</li></ul>
<ul><li> Copy Syslinux files to ESP:</li></ul>
<pre># mkdir -p <i>esp</i>/EFI/syslinux
# cp -r /usr/lib/syslinux/efi64/* <i>esp</i>/EFI/syslinux/
</pre>
<ul><li> Setup boot entry for Syslinux using <a href="../en/Unified_Extensible_Firmware_Interface.html#efibootmgr" title="Unified Extensible Firmware Interface">efibootmgr</a>:</li></ul>
<pre># efibootmgr -c -d /dev/sdX -p Y -l /EFI/syslinux/syslinux.efi -L "Syslinux"
</pre>
<p>where <code>/dev/sdXY</code> is the partition containing the bootloader.
</p>
<ul><li> Create or edit <code><i>esp</i>/EFI/syslinux/syslinux.cfg</code> by following <a href="#Configuration">#Configuration</a>.</li></ul>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>The config file for UEFI is <code><i>esp</i>/EFI/syslinux/syslinux.cfg</code>, not <code>/boot/syslinux/syslinux.cfg</code>. Files in <code>/boot/syslinux/</code> are BIOS specific and not related to UEFI Syslinux.</div>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>When booted in BIOS mode, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=efibootmgr">efibootmgr</a></span> will not be able to set EFI nvram entry for <code>/efi/syslinux/syslinux.efi</code>. To work around, place resources at the default EFI location: <code><i>esp</i>/EFI/syslinux/* -&gt; <i>esp</i>/EFI/BOOT/*</code> and <code><i>esp</i>/EFI/syslinux/syslinux.efi -&gt; <i>esp</i>/EFI/BOOT/bootx64.efi</code>
</div>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>The Syslinux configuration file, <code>syslinux.cfg</code>, should be created in the same directory where you installed Syslinux. In our case, <code>/boot/syslinux/</code> for BIOS systems and <code><i>esp</i>/EFI/syslinux/</code> for UEFI systems.
</p>
<p>The bootloader will look for either <code>syslinux.cfg</code> (preferred) or <code>extlinux.conf</code>
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDFFDD; border: thin solid #BBDDBB; overflow: hidden;">
<strong> Tip: </strong>
<ul>
<li> Instead of <code>LINUX</code>, the keyword <code>KERNEL</code> can also be used. <code>KERNEL</code> tries to detect the type of the file, while <code>LINUX</code> always expects a Linux kernel. </li>
<li> <code>TIMEOUT</code> value is in units of <b>0.1 seconds</b>.</li>
</ul>
</div>
<h3><span class="mw-headline" id="Examples">Examples</span></h3>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>
<ul>
<li> Any configuration file found in the examples needs to be edited to set the proper kernel parameters. See section <a href="#Kernel_parameters">#Kernel parameters</a>.</li>
<li> Please, pay close attention to the paths. The examples may not be suitable for your installation, especially when using UEFI.</li>
</ul>
</div>
<h4><span class="mw-headline" id="Boot_prompt">Boot prompt</span></h4>
<p>This is a simple configuration file that will show a <code>boot:</code> prompt and will automatically boot after 5 seconds. If you want to boot directly without seeing a prompt, set <code>PROMPT</code> to <code>0</code>.
</p>
<p>Configuration:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/syslinux/syslinux.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
 PROMPT 1
 TIMEOUT 50
 DEFAULT arch
 
 LABEL arch
         LINUX ../vmlinuz-linux
         APPEND root=/dev/sda2 rw
         INITRD ../initramfs-linux.img
 
 LABEL archfallback
         LINUX ../vmlinuz-linux
         APPEND root=/dev/sda2 rw
         INITRD ../initramfs-linux-fallback.img
</pre>
<h4><span class="mw-headline" id="Text_boot_menu">Text boot menu</span></h4>
<p>Syslinux also allows you to use a boot menu. To use it, copy the <code>menu</code> module to your Syslinux directory:
</p>
<pre># cp /usr/lib/syslinux/bios/menu.c32 /boot/syslinux/
</pre>
<p>Copying additional <code>lib*.c32</code> library modules might be needed too.
</p>
<p>Configuration:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/syslinux/syslinux.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
 UI menu.c32
 PROMPT 0
 
 MENU TITLE Boot Menu
 TIMEOUT 50
 DEFAULT arch
 
 LABEL arch
         MENU LABEL Arch Linux
         LINUX ../vmlinuz-linux
         APPEND root=/dev/sda2 rw
         INITRD ../initramfs-linux.img
 
 LABEL archfallback
         MENU LABEL Arch Linux Fallback
         LINUX ../vmlinuz-linux
         APPEND root=/dev/sda2 rw
         INITRD ../initramfs-linux-fallback.img
</pre>
<p>For more details about the menu system, see <a rel="nofollow" class="external text" href="http://www.syslinux.org/wiki/index.php/Menu">the Syslinux wiki</a>.
</p>
<h4><span class="mw-headline" id="Graphical_boot_menu">Graphical boot menu</span></h4>
<p>Syslinux also allows you to use a graphical boot menu. To use it, copy the <code>vesamenu</code> COM32 module to your Syslinux folder:
</p>
<pre># cp /usr/lib/syslinux/bios/vesamenu.c32 /boot/syslinux/
</pre>
<p>Copying additional <code>lib*.c32</code> library modules might be needed too.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong> If you are using <a href="../en/Unified_Extensible_Firmware_Interface.html" title="UEFI" class="mw-redirect">UEFI</a>, make sure to copy from <code>/usr/lib/syslinux/efi64/</code> (<code>efi32</code> for i686 systems), otherwise you will be presented with a black screen. In that case, boot from a live medium and use <a href="../en/Change_root.html" title="Chroot" class="mw-redirect">chroot</a> to make the appropriate changes.</div>
<p>This configuration uses the same menu design as the Arch Install CD, its config can be found at <a rel="nofollow" class="external text" href="https://projects.archlinux.org/archiso.git/tree/configs/releng/syslinux">projects.archlinux.org</a>. The <a rel="nofollow" class="external text" href="https://projects.archlinux.org/archiso.git/plain/configs/releng/syslinux/splash.png">Arch Linux background image</a> can be downloaded from there, too. Copy the image to <code>/boot/syslinux/splash.png</code>.
</p>
<p>Configuration:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/syslinux/syslinux.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
 UI vesamenu.c32
 DEFAULT arch
 PROMPT 0
 MENU TITLE Boot Menu
 MENU BACKGROUND splash.png
 TIMEOUT 50
 
 MENU WIDTH 78
 MENU MARGIN 4
 MENU ROWS 5
 MENU VSHIFT 10
 MENU TIMEOUTROW 13
 MENU TABMSGROW 11
 MENU CMDLINEROW 11
 MENU HELPMSGROW 16
 MENU HELPMSGENDROW 29
 
 # Refer to http://www.syslinux.org/wiki/index.php/Comboot/menu.c32
 
 MENU COLOR border       30;44   #40ffffff #a0000000 std
 MENU COLOR title        1;36;44 #9033ccff #a0000000 std
 MENU COLOR sel          7;37;40 #e0ffffff #20ffffff all
 MENU COLOR unsel        37;44   #50ffffff #a0000000 std
 MENU COLOR help         37;40   #c0ffffff #a0000000 std
 MENU COLOR timeout_msg  37;40   #80ffffff #00000000 std
 MENU COLOR timeout      1;37;40 #c0ffffff #00000000 std
 MENU COLOR msg07        37;40   #90ffffff #a0000000 std
 MENU COLOR tabmsg       31;40   #30ffffff #00000000 std
 
 
 LABEL arch
         MENU LABEL Arch Linux
         LINUX ../vmlinuz-linux
         APPEND root=/dev/sda2 rw
         INITRD ../initramfs-linux.img
 
 
 LABEL archfallback
         MENU LABEL Arch Linux Fallback
         LINUX ../vmlinuz-linux
         APPEND root=/dev/sda2 rw
         INITRD ../initramfs-linux-fallback.img
</pre>
<p>Since Syslinux 3.84, <code>vesamenu.c32</code> supports the <code>MENU RESOLUTION $WIDTH $HEIGHT</code> directive.
To use it, insert <code>MENU RESOLUTION 1440 900</code> into your config for a 1440x900 resolution.
However, the background picture has to have exactly the right resolution, as Syslinux will otherwise refuse to load the menu.
</p>
<p>To center the menu and adjust resolution, use <code>MENU RESOLUTION</code>, <code>MENU HSHIFT $N</code> and <code>MENU VSHIFT $N</code> where <code>$N</code> is a positive number. The default values are both <code>0</code> which is the upper-left hand corner of your monitor. Conversely, a negative number starts from the opposite end of the screen (e.g. <code>VHSHIFT -4</code> would be 4 rows from the bottom of the screen).
</p>
<p>To move the menu to the center, add or edit these values:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/syslinux/syslinux.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
MENU RESOLUTION 800 600 # or whatever your screen resolution is
MENU WIDTH 78           # width of the menu also required to bring the menu box to size
MENU VSHIFT 10          # moves menu down
MENU HSHIFT 10          # moves menu right

</pre>
<p>VESA standards are commonly a maximum of 25 rows and 80 columns, so going higher than those values might move the menu off the screen, potentially requiring editing from a rescue CD.
</p>
<h3><span class="mw-headline" id="Kernel_parameters">Kernel parameters</span></h3>
<p>The <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a> are set using the <code>APPEND</code> line in <code>syslinux.cfg</code>. It is recommended to make the following changes for the fallback entry as well.
</p>
<p><b>In the simplest case</b>, the partition name in the <code>root</code> parameter needs to be replaced. Change <code>/dev/sda2</code> to point to the correct root partition.
</p>
<pre>APPEND root=/dev/sda2
</pre>
<p><b>If you want to use <a href="../en/Persistent_block_device_naming.html#by-uuid" title="UUID" class="mw-redirect">UUID</a></b> for <a href="../en/Persistent_block_device_naming.html" title="Persistent block device naming">persistent block device naming</a> change the <code>APPEND</code> line as follows, substituting <code>1234</code> with the <code>UUID</code> of your root partition:
</p>
<pre>APPEND root=UUID=<i>1234</i> rw
</pre>
<p><b>If you use encryption</b> <a href="../en/Dm-crypt.html" title="LUKS" class="mw-redirect">LUKS</a> change the <code>APPEND</code> line to use your encrypted volume:
</p>
<pre>APPEND root=/dev/mapper/<i>group</i>-<i>name</i> cryptdevice=/dev/sda2:<i>name</i> rw
</pre>
<p><b>If you are using software</b> <a href="https://en.wikipedia.org/wiki/RAID" class="extiw" title="wikipedia:RAID">RAID</a> using <a rel="nofollow" class="external text" href="http://neil.brown.name/blog/mdadm">mdadm</a>, change the <code>APPEND</code> line to accommodate your RAID arrays. As an example the following accommodates three RAID 1 arrays and sets the appropriate one as root:
</p>
<pre>APPEND root=/dev/md1 rw md=0,/dev/sda2,/dev/sdb2 md=1,/dev/sda3,/dev/sdb3 md=2,/dev/sda4,/dev/sdb4
</pre>
<p>If booting from a software raid partition fails using the kernel device node method above an alternative, a more reliable, way is to use partition labels:
</p>
<pre>APPEND root=LABEL=THEROOTPARTITIONLABEL rw
</pre>
<p><b>If booting a <a href="../en/Btrfs.html" title="Btrfs">btrfs</a> subvolume</b>, amend the <code>APPEND</code> line with <code>rootflags=subvol=&lt;root subvolume&gt;</code>. For example, where <code>/dev/sda2</code> has been mounted as a btrfs subvolume called 'ROOT' (e.g. <code>mount -o noatime,subvol=ROOT /dev/sda2 /mnt</code>), then the <code>APPEND</code> line would need to be modified as follows:
</p>
<pre>APPEND root=/dev/sda2 rw rootflags=subvol=ROOT
</pre>
<p>A failure to do so will otherwise result in the following error message: <code>ERROR: Root device mounted successfully, but /sbin/init does not exist.</code>
</p>
<h3><span class="mw-headline" id="Auto_boot">Auto boot</span></h3>
<p>If you do not want to see the Syslinux menu at all, use the <a href="#Boot_prompt">#Boot prompt</a>, and set <code>PROMPT</code> to <code>0</code> and comment out any <code>UI</code> menu entries. Setting the <code>TIMEOUT</code> variable to <code>0</code> might also be a good idea. Make sure there is a <code>DEFAULT</code> set in your <code>syslinux.cfg</code>. Holding either <code>Shift</code> or <code>Alt</code>, or setting either <code>Caps Lock</code> or <code>Scroll Lock</code>, during boot will allow for options other than default to be used.
See the <a rel="nofollow" class="external text" href="http://www.syslinux.org/wiki/index.php/Directives/special_keys">upstream wiki</a> for additional alternatives.
</p>
<h3><span class="mw-headline" id="Security">Security</span></h3>
<p>Syslinux has two levels of bootloader security: a menu master password, and a per-menu-item password. In <code>syslinux.cfg</code>, use
</p>
<pre>
MENU MASTER PASSWD passwd 
</pre>
<p>to set a master bootloader password, and
</p>
<pre>
MENU PASSWD passwd 
</pre>
<p>within a <code>LABEL</code> block to password-protect individual boot items.
</p>
<p>The passwd can be either a cleartext password or hashed: <a rel="nofollow" class="external text" href="http://www.syslinux.org/wiki/index.php/Comboot/menu.c32">see official documentation</a>.
</p>
<h3><span class="mw-headline" id="Chainloading">Chainloading</span></h3>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Syslinux BIOS cannot directly chainload files located on other partitions; however, <code>chain.c32</code> can boot a partition boot sector (VBR).</div>
<p>If you want to chainload other operating systems (such as Windows) or boot loaders, copy the <code>chain.c32</code> module to the Syslinux directory (additional <code>lib*.c32</code> library modules might be needed too; for details, see the instructions in the previous section). Then create a section in the configuration file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/syslinux/syslinux.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
...
 LABEL windows
         MENU LABEL Windows
         COM32 chain.c32
         APPEND hd0 3
...
</pre>
<p><code>hd0 3</code> is the third partition on the first BIOS drive - drives are counted from zero, but partitions are counted from one. 
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>For Windows, this skips the system's own boot manager (<code>bootmgr</code>), which is required for a few important updates (<a rel="nofollow" class="external text" href="http://support.microsoft.com/kb/2883200">eg.</a>) to complete. In such cases it may be advisable to temporarily set the MBR boot flag to the Windows partition (eg. with <a href="../en/GNU_Parted.html" title="GParted" class="mw-redirect">GParted</a>), let the update finish installing, and then reset the flag to the Syslinux partition (eg. with Windows's own <a rel="nofollow" class="external text" href="http://www.online-tech-tips.com/computer-tips/set-active-partition-vista-xp">DiskPart</a>).</div>
<p>If you are unsure about which drive your BIOS thinks is "first", you can instead use the MBR identifier, or if you are using GPT, the filesystem labels. To use the MBR identifier, run the command
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># fdisk -l /dev/sdb</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
 Disk /dev/sdb: 128.0 GB, 128035676160 bytes 
 255 heads, 63 sectors/track, 15566 cylinders, total 250069680 sectors
 Units = sectors of 1 * 512 = 512 bytes
 Sector size (logical/physical): 512 bytes / 512 bytes
 I/O size (minimum/optimal): 512 bytes / 512 bytes
 Disk identifier: 0xf00f1fd3
  
 Device Boot      Start         End      Blocks   Id  System
 /dev/sdb1            2048     4196351     2097152    7  HPFS/NTFS/exFAT
 /dev/sdb2         4196352   250066943   122935296    7  HPFS/NTFS/exFAT
</pre>
<p>replacing <code>/dev/sdb</code> with the drive you wish to chainload. Using the hexadecimal number under Disk identifier: <code>0xf00f1fd3</code> in this case, the syntax in <code>syslinux.cfg</code> is
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/syslinux/syslinux.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
...
 LABEL windows
         MENU LABEL Windows
         COM32 chain.c32
         APPEND mbr:0xf00f1fd3
...
</pre>
<p>For more details about chainloading, see <a rel="nofollow" class="external text" href="http://www.syslinux.org/wiki/index.php/Comboot/chain.c32">the Syslinux wiki</a>.
</p>
<p>If you have <a href="../en/GRUB.html" title="GRUB">GRUB</a> installed on the same partition, you can chainload it by using: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/syslinux/syslinux.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
...
 LABEL grub2
        MENU LABEL Grub2
        COM32 chain.c32
        append file=../grub/boot.img
...
</pre>
<p>Alternatively, it is also possible to load <a href="../en/GRUB.html" title="GRUB">GRUB</a> as a linux kernel by prepending <code>lnxboot.img</code> to <code>core.img</code>. The file <code>lnxboot.img</code> is part of <code>core/grub</code> and can be found in <code>/usr/lib/grub/i386-pc</code>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/syslinux/syslinux.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
...
 LABEL grub2lnx
        MENU LABEL Grub2 (lnxboot)
        LINUX ../grub/i386-pc/lnxboot.img
        INITRD ../grub/i386-pc/core.img
...
</pre>
<p>This may be required for booting from ISO images.
</p>
<h3><span class="mw-headline" id="Chainloading_other_Linux_systems">Chainloading other Linux systems</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Among other inaccuracies... 1_ There is no obligation to install yet another boot loader if you already have one related to the other partition/OS (e.g. GRUB2 installed in the MBR or in the VBR of the partition being chainloaded to). 2_ Syslinux (in any of its derivatives) is never "installed to the MBR", so mentioning the MBR in this section without any explanation of what it is being meant or how to do it in practical terms is just adding confusion. 3_ Typos and misspelling. 4_No need to explain (yet again) how to install some (other) bootloader to some (other) partition / OS; just how to chainload from Syslinux to that other partition / bootloader / OS. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Syslinux">Talk:Syslinux#</a>)</div>
</div>
<p>Chainloading another bootloader such as Windows' is pretty obvious, as there is a definite bootloader to chain to.  But with Syslinux, it is only able to load files residing on the same partition as the configuration file.  Thus, if you have another version of Linux on a separate partition, without a shared <code>/boot</code>, it becomes <i>necessary</i> to employ EXTLINUX rather than the other OS's default bootloader (eg. GRUB2). Essentially, EXTLINUX can be installed on the partition superblock/<a href="https://en.wikipedia.org/wiki/Volume_boot_record" class="extiw" title="wikipedia:Volume boot record">VBR</a> and be called as a <i>separate bootloader</i> right from the MBR installed by Syslinux. EXTLINUX is part of The Syslinux Project and is included with the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=syslinux">syslinux</a></span> package.
</p>
<p>The following instructions assume you have Syslinux installed already. These instructions will also assume that the typical Arch Linux configuration path of <code>/boot/syslinux</code> is being used and the chainloaded system's <code>/</code> is on <code>/dev/sda3</code>.  
</p>
<p>From a booted Linux (likely the partition that Syslinux is set up to boot), mount the other system's root partition to your desired mount point. In this example this will be <code>/mnt</code>. Also, if a separate <code>/boot</code> partition is used on the second operating system, that will also need to be mounted.  The example assumes this is <code>/dev/sda2</code>.
</p>
<pre># mount /dev/sda3 /mnt
# mount /dev/sda2 /mnt/boot (only necessary for separate /boot)
</pre>
<p>Install EXTLINUX to the partition VBR, and copy necessary <code>*.c32</code> files
</p>
<pre># extlinux -i /mnt/boot/syslinux/ (first create the directory if necessary)
# cp /usr/lib/syslinux/bios/*.c32 /mnt/boot/syslinux
</pre>
<p>Create <code>/mnt/boot/syslinux/syslinux.cfg</code>. You can use the other Linux's bootloader menu file for reference. Below is an example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/mnt/boot/syslinux/syslinux.cfg <b>on /dev/sda3</b></pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
timeout 10

ui menu.c32

label OtherLinux
    linux /boot/vmlinuz-linux
    initrd /boot/initramfs-linux.img
    append root=/dev/sda3 rw quiet

label MAIN
    com32 chain.c32
    append hd0 0
</pre>
<p>And then add an entry to your main syslinux.cfg 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/syslinux/syslinux.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
label OtherLinux
    com32 chain.c32
    append hd0 3
</pre>
<p>taken from <a href="../User:Djgera.html" title="User:Djgera">Djgera's user wiki page</a>.
</p>
<p>Note that the other Linux entry in <code>&lt;other-OS&gt;/boot/syslinux/syslinux.cfg</code> will need to be edited each time you update this OS's kernel unless it has symlinks to its latest kernel and initrd in <b>/</b>. Since we are booting the kernel directly and not chainloading the other-OS's default bootloader.
</p>
<h3><span class="mw-headline" id="Using_memtest">Using memtest</span></h3>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=memtest86%2B">memtest86+</a></span> from the <a href="../en/Official_repositories.html" title="Official repositories">official repositories</a>.
</p>
<p>Use this <code>LABEL</code> section to launch <a href="https://en.wikipedia.org/wiki/Memtest86" class="extiw" title="wikipedia:Memtest86">memtest</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/syslinux/syslinux.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
...
 LABEL memtest
         MENU LABEL Memtest86+
         LINUX ../memtest86+/memtest.bin
...
</pre>
<p>
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>If you are using PXELINUX, change the name from <i>memtest.bin</i> to <i>memtest</i> since PXELINUX treats the file with .bin extension as a boot sector and loads only 2KB of it.</div>
<h3><span class="mw-headline" id="HDT">HDT</span></h3>
<p><a rel="nofollow" class="external text" href="http://hdt-project.org/">HDT (Hardware Detection Tool)</a> displays hardware information. Like before, the <code>.c32</code> file has to be copied from <code>/boot/syslinux/</code>. Additional <code>lib*.c32</code> library modules might be needed too.
For PCI info, copy <code>/usr/share/hwdata/pci.ids</code> to <code>/boot/syslinux/pci.ids</code> and add the following to your configuration file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/syslinux/syslinux.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
 LABEL hdt
         MENU LABEL Hardware Info
         COM32 hdt.c32
</pre>
<h3><span class="mw-headline" id="Reboot_and_power_off">Reboot and power off</span></h3>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>As of Syslinux 6.03, <code>poweroff.c32</code> only works with APM and not with ACPI. For a possible solution, see <a rel="nofollow" class="external text" href="http://www.syslinux.org/archives/2012-March/017661.html">this thread</a> .</div>
<p>Use the following sections to reboot or power off your machine:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/syslinux/syslinux.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
 LABEL reboot
         MENU LABEL Reboot
         COM32 reboot.c32
 
 LABEL poweroff
         MENU LABEL Power Off
         COM32 poweroff.c32
</pre>
<h3><span class="mw-headline" id="Clear_menu">Clear menu</span></h3>
<p>To clear the screen when exiting the menu, add the following line:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/syslinux/syslinux.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
 MENU CLEAR
</pre>
<h3><span class="mw-headline" id="Keyboard_layout">Keyboard layout</span></h3>
<p>If you often have to edit your boot command with diverse parameters in the Syslinux boot prompt, then you might want to remap your keyboard layout. This allows you to enter "=", "/" and other characters easily on a non-US keyboard.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>keytab-lilo is a perl script invoking the "loadkeys" program.</div>
<p>To create a compatible keymap (e.g. a german one) run:
</p>
<pre># keytab-lilo /usr/share/kbd/keymaps/i386/qwerty/us.kmap.gz /usr/share/kbd/keymaps/i386/qwertz/de.kmap.gz &gt; /boot/syslinux/de.ktl
</pre>
<p>Now edit <code>syslinux.cfg</code> and add:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/syslinux/syslinux.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
KBDMAP de.ktl
</pre>
<p>See the <a rel="nofollow" class="external text" href="http://www.syslinux.org/wiki/index.php/Directives/kbdmap">Syslinux wiki</a> for more details.
</p>
<h3><span class="mw-headline" id="Hiding_the_menu">Hiding the menu</span></h3>
<p>Use the option:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/boot/syslinux/syslinux.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
 MENU HIDDEN
</pre>
<p>to hide the menu while displaying only the timeout. Press any key to bring up the menu.
</p>
<h3><span class="mw-headline" id="Pxelinux">Pxelinux</span></h3>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>For UEFI, Syslinux uses the same binary for disk booting and network booting.  Loading files from TFTP or other network protocols will require network booting Syslinux.  </div>
<p><strong class="selflink">PXELINUX</strong> is provided by the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=syslinux">syslinux</a></span> package.
</p>
<p>For BIOS clients, copy the <code>{l,}pxelinux.0</code> bootloader to the boot directory of the client. For version 5.00 and newer, also copy <code>ldlinux.c32</code> from the same package:
</p>
<pre># cp /usr/lib/syslinux/bios/pxelinux.0 "<i>TFTP_root</i>/boot"
# cp /usr/lib/syslinux/bios/ldlinux.c32 "<i>TFTP_root</i>/boot"
# mkdir "<i>TFTP_root</i>/boot/pxelinux.cfg"
</pre>
<p>We also created the <code>pxelinux.cfg</code> directory, which is where PXELINUX searches for configuration files by default. Because we do not want to discriminate between different host MACs, we then create the <code>default</code> configuration.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"><i>TFTP_root</i>/boot/pxelinux.cfg/default</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
default linux

label linux
kernel vmlinuz-linux
append initrd=initramfs-linux.img quiet ip=:::::eth0:dhcp nfsroot=10.0.0.1:/arch
</pre>
<p>Or if you are using NBD, use the following append line:
</p>
<pre>append ro initrd=initramfs-linux.img ip=:::::eth0:dhcp nbd_host=10.0.0.1 nbd_name=arch root=/dev/nbd0</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>You will need to change <code>nbd_host</code> and/or <code>nfsroot</code>, respectively, to match your network configuration (the address of the NFS/NBD server)</div>
<p>PXELINUX uses the same configuration syntax as SYSLINUX; refer to the upstream documentation for more information.
</p>
<p>The kernel and initramfs will be transferred via TFTP, so the paths to those are going to be relative to the TFTP root. Otherwise, the root filesystem is going to be the NFS mount itself, so those are relative to the root of the NFS server.
</p>
<p>To actually load PXELINUX, replace <code>filename "/grub/i386-pc/core.0";</code> in <code>/etc/dhcpd.conf</code> with <code>filename "/pxelinux.0"</code> (or with <code>filename "/lpxelinux.0"</code>).
</p>
<h3><span class="mw-headline" id="Booting_ISO9660_image_files_with_memdisk">Booting ISO9660 image files with memdisk</span></h3>
<p>Syslinux supports booting from ISO images directly using the <a rel="nofollow" class="external text" href="http://www.syslinux.org/wiki/index.php/MEMDISK">memdisk</a> module, see <a href="../en/Multiboot_USB_drive.html#Using_Syslinux_and_memdisk" title="Multiboot USB drive">Multiboot USB drive#Using Syslinux and memdisk</a> for examples.
</p>
<h3><span class="mw-headline" id="Serial_console">Serial console</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" width="48" height="48"></a><b>This article or section is a candidate for merging with <a href="../en/Working_with_the_serial_console.html" title="Working with the serial console">Working with the serial console</a>.</b><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" width="48" height="48"></a></p>
<div>
<b>Notes:</b> General page about topic not specific to Syslinux, already provides examples for GRUB. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Syslinux">Talk:Syslinux#</a>)</div>
</div>
<p>To enable Serial Console add the <code>SERIAL port [baudrate]</code> to the top of <code>syslinux.cfg</code> file. "port" is a number (0 for <code>/dev/ttyS0</code>), if "baudrate" is omitted, the baud rate default is 9600 bps. The serial parameters are hardcoded to 8 bits, no parity and 1 stop bit.<a rel="nofollow" class="external autonumber" href="http://www.syslinux.org/wiki/index.php/SYSLINUX#SERIAL_port_.5Bbaudrate_.5Bflowcontrol.5D.5D">[10]</a>
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">syslinux.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
SERIAL 0 115200
</pre>
<p>Enable Serial Console in the kernel at boot by adding <code>console=tty0 console=ttyS0,115200n8</code> to the <code>APPEND</code> option.<a rel="nofollow" class="external autonumber" href="http://www.mjmwired.net/kernel/Documentation/kernel-parameters.txt#681">[11]</a>
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">syslinux.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">APPEND root=UUID=126ca36d-c853-4f3a-9f46-cdd49d034ce4 rw console=tty0 console=ttyS0,115200n8</pre>
<p>How to do this with GRUB: <a href="../en/Working_with_the_serial_console.html#GRUB2_and_systemd" title="Working with the serial console">Working with the serial console#GRUB2 and systemd</a>
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Using_the_Syslinux_prompt">Using the Syslinux prompt</span></h3>
<p>You can type in the <code>LABEL</code> name of the entry that you want to boot (as per your <code>syslinux.cfg</code>). If you used the example configurations, just type:
</p>
<pre>boot: arch
</pre>
<p>If you get an error that the configuration file could not be loaded, you can pass your needed boot parameters, e.g.:
</p>
<pre>boot: ../vmlinuz-linux root=/dev/sda2 rw initrd=../initramfs-linux.img
</pre>
<p>If you do not have access to <code>boot:</code> in <a href="../en/Tmpfs.html" title="Ramdisk" class="mw-redirect">ramfs</a>, and therefore temporarily unable to boot the kernel again,
</p>
<dl><dd>1. Create a temporary directory, in order to mount your root partition (if it does not exist already):</dd></dl>
<pre> # mkdir -p /new_root
</pre>
<dl><dd>2. Mount <code>/</code> under <code>/new_root</code> (in case <code>/boot/</code> is on the same partition, otherwise you will need to mount them both):</dd></dl>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Busybox cannot mount <code>/boot</code> if it is on its own ext2 partition.</div>
<pre> # mount /dev/sd[a-z][1-9] /new_root
</pre>
<dl>
<dd>3. Use <code>vim</code> and edit <code>syslinux.cfg</code> again to suit your needs and save file.</dd>
<dd>4. Reboot.</dd>
</dl>
<h3><span class="mw-headline" id="Fsck_fails_on_root_partition">Fsck fails on root partition</span></h3>
<p>In the case of a badly corrupted root partition (in which the journal is damaged), in the ramfs emergency shell, mount the root file system:
</p>
<pre># mount /dev/<i>root partition</i> /new_root
</pre>
<p>And grab the tune2fs binary from the root partition (it is not included in Syslinux):
</p>
<pre># cp /new_root/sbin/tune2fs /sbin/
</pre>
<p>Follow the instructions at <a href="../en/Fsck.html#ext2fs_:_no_external_journal" title="Fsck">ext2fs: no external journal</a> to create a new journal for the root partition.
</p>
<h3><span class="mw-headline" id="No_Default_or_UI_found_on_some_computers">No Default or UI found on some computers</span></h3>
<p>Certain motherboard manufacturers have less compatibility for booting from USB devices than others. While an ext4 formatted USB drive may boot on a more recent computer, some computers may hang if the boot partition containing the <i>kernel</i> and <i>initrd</i> are not on a FAT16 partition. To prevent an older machine from loading <code>ldlinux</code> and failing to read <code>syslinux.cfg</code>, use <code>cfdisk</code> to create a FAT16 partition (&lt;=2GB) and format using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=dosfstools">dosfstools</a></span>:
</p>
<pre># mkfs.msdos -F 16 /dev/sda1
</pre>
<p>then install and configure Syslinux.
</p>
<h3><span class="mw-headline" id="Missing_operating_system">Missing operating system</span></h3>
<ul><li> Check that you have installed <code>gptmbr.bin</code> for GPT and <code>mbr.bin</code> for msdos partition table. A "Missing operating system" message comes from <code>mbr.bin</code> while <code>gptmbr.bin</code> would show a "Missing OS" message.</li></ul>
<ul><li> Check whether the partition that contains <code>/boot</code> has the "boot" flag enabled.</li></ul>
<ul><li> Check whether the first partition at the boot device starts at sector 1 rather than sector 63 or 2048.  Check this with <code>fdisk -l</code>.  If it starts at sector 1, you can move the partition(s) with <code>gparted</code> from a rescue disk. Or, if you have a separate boot partition, you can back up <code>/boot</code> with </li></ul>
<pre># cp -a /boot /boot.bak
</pre>
<p>and then boot up with the Arch install disk. Next, use <code>cfdisk</code> to delete the <code>/boot</code> partition, and recreate it.  This time it should begin at the proper sector, <b>63</b>. Now mount your partitions and <code>chroot</code> into your mounted system, as described in the beginners guide. Restore <code>/boot</code> with the command
</p>
<pre># cp -a /boot.bak/* /boot
</pre>
<p>Check if <code>/etc/fstab</code> is correct, run:
</p>
<pre># syslinux-install_update -iam
</pre>
<p>and reboot.
</p>
<p>You will also get this error if you are trying to boot from a md <a href="../en/RAID.html" title="RAID">RAID</a> 1 array and created the array with a too new version of the metadata that Syslinux does not understand. As of August 2013 by default mdadm will create an array with version 1.2 metadata, but Syslinux does not understand metadata newer than 1.0. If this is the case you will need to recreate your <a href="../en/RAID.html" title="RAID">RAID</a> array using the <code>--metadata=1.0</code> flag to mdadm.
</p>
<h3><span class="mw-headline" id="Windows_boots_up.2C_ignoring_Syslinux">Windows boots up, ignoring Syslinux</span></h3>
<p><b>Solution:</b> Make sure the partition that contains <code>/boot</code> has the boot flag enabled. Also, make sure the boot flag is not enabled on the Windows partition. See the installation section above.
</p>
<p>The MBR that comes with Syslinux looks for the first active partition that has the boot flag set. The Windows partition was likely found first and had the boot flag set. If you wanted, you could use the MBR that Windows or MS-DOS <code>fdisk</code> provides.
</p>
<h3><span class="mw-headline" id="Menu_entries_do_nothing">Menu entries do nothing</span></h3>
<p>You select a menu entry and it does nothing, it just <i>"refreshes"</i> the menu. This usually means that you have an error in your <code>syslinux.cfg</code> file. Hit <code>Tab</code> to edit your boot parameters. Alternatively, press <code>Esc</code> and type in the <code>LABEL</code> of your boot entry (e.g. <i>arch</i>). Another cause could be that you do not have a kernel installed. Find a way to access your file system (through live CD, etc) and make sure that <code>/mount/vmlinuz-linux</code> exists and does not have a size of 0. If this is the case, <a href="../en/Kernel_Panics.html#Option_2:_Reinstall_kernel" title="Kernel Panics">reinstall your kernel</a>.
</p>
<h3><span class="mw-headline" id="Cannot_remove_ldlinux.sys">Cannot remove ldlinux.sys</span></h3>
<p>The <code>ldlinux.sys</code> file has the immutable attribute set, which prevents it from being deleted or overwritten. This is because the sector location of the file must not change or else Syslinux has to be reinstalled. To remove it, run:
</p>
<pre># chattr -i /boot/syslinux/ldlinux.sys
# rm /boot/syslinux/ldlinux.sys
</pre>
<h3><span class="mw-headline" id="White_block_in_upper_left_corner_when_using_vesamenu">White block in upper left corner when using vesamenu</span></h3>
<p>Problem:
<i>As of linux-3.0, the modesetting driver tries to keep the current contents of the screen after changing the resolution (at least it does so with my Intel, when having Syslinux in text mode). It seems that this goes wrong when combined with the vesamenu module in Syslinux (the white block is actually an attempt to keep the Syslinux menu, but the driver fails to capture the picture from vesa graphics mode).</i>
</p>
<p>If you have a custom resolution and a <code>vesamenu</code> with early modesetting, try to append the following in <code>syslinux.cfg</code> to remove the white block and continue in graphics mode:
</p>
<pre>APPEND root=/dev/sda6 rw 5 <b>vga=current</b> quiet splash
</pre>
<h3><span class="mw-headline" id="Chainloading_Windows_does_not_work.2C_when_it_is_installed_on_another_drive">Chainloading Windows does not work, when it is installed on another drive</span></h3>
<p>If Windows is installed on a different drive than Arch and you have trouble chainloading it, try the following configuration:
</p>
<pre>LABEL Windows
       MENU LABEL Windows
       COM32 chain.c32
       APPEND mbr:0xdfc1ba9e swap
</pre>
<p>Replace the mbr code with the one your Windows drive has (details <a href="#Chainloading">above</a>), and append <code>swap</code> to the options.
</p>
<h3><span class="mw-headline" id="Read_bootloader_log">Read bootloader log</span></h3>
<p>In some cases (e.g. bootloader unable to boot kernel) it is highly desirable to get more information from the boot process. <i>Syslinux</i> prints error messages to screen but the boot menu quickly overwrites the text. To avoid losing the log information, disable <code>UI menu</code> in <code>syslinux.cfg</code> and use the default "command-line" prompt. It means:
</p>
<ul>
<li> avoid the UI directive</li>
<li> avoid ONTIMEOUT</li>
<li> avoid ONERROR</li>
<li> avoid MENU CLEAR</li>
<li> use a higher TIMEOUT</li>
<li> use PROMPT 1</li>
<li> use DEFAULT &lt;problematic_label&gt;</li>
</ul>
<p>To get more detailed debug log, <a href="../en/Arch_Build_System.html" title="ABS" class="mw-redirect">recompile</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=syslinux">syslinux</a></span> package with additional CFLAGS:
</p>
<pre>-DDEBUG_STDIO=1 -DCORE_DEBUG=1
</pre>
<h3><span class="mw-headline" id="Btrfs_compression">Btrfs compression</span></h3>
<p>Booting from btrfs with compression is not supported.<a rel="nofollow" class="external autonumber" href="http://www.syslinux.org/wiki/index.php/Syslinux_4_Changelog#Changes_in_4.02">[12]</a>
This error will show:
</p>
<pre>btrfs: found compressed data, cannot continue!
invalid or corrupt kernel image.
</pre>
<h3><span class="mw-headline" id="Btrfs_multi-device">Btrfs multi-device</span></h3>
<p>Booting from multiple-device btrfs is not supported.<a rel="nofollow" class="external autonumber" href="http://repo.or.cz/syslinux.git/blob/HEAD:/extlinux/main.c">[13]</a> (As of 7/21/2016 line 1246 in validate_device_btrfs() in main.c)
This head-scratching error will show (assuming you're installing on sda1):
</p>
<pre>/boot/syslinux is device /dev/sda1
extlinux: path /boot/syslinux doesn't match device /dev/sda1
</pre>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li> <a rel="nofollow" class="external text" href="http://www.syslinux.org">Official website</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://www.josephn.net/scrapbook/pxelinux_stuff">PXELinux configuration</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://blog.jak.me/2013/01/03/creating-a-multiboot-usb-stick-using-syslinux/">Multiboot USB using Syslinux</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2015-05-15]</sup>
</li>
</ul>

</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Boot_loaders.html" title="Category:Boot loaders">Boot loaders</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Merge.html" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
