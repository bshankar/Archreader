<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Open Sound System - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Open_Sound_System skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Open Sound System</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p>The <a href="https://en.wikipedia.org/wiki/Open_Sound_System" class="extiw" title="wikipedia:Open Sound System">Open Sound System</a> (or <b>OSS</b>) is an alternative sound architecture for Unix-like and POSIX-compatible systems. OSS version 3 was the original sound system for Linux, but was superseded by the <a href="../en/Advanced_Linux_Sound_Architecture.html" title="Advanced Linux Sound Architecture">Advanced Linux Sound Architecture</a> (or <b>ALSA</b>) in 2002 when OSS version 4 became proprietary software. OSSv4 became free software again in 2007 when <a rel="nofollow" class="external text" href="http://www.opensound.com/">4Front Technologies</a> released its source code and provided it under the GPL license.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Comparisons_with_ALSA"><span class="tocnumber">1</span> <span class="toctext">Comparisons with ALSA</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#OSS_Advantages_.28users.29"><span class="tocnumber">1.1</span> <span class="toctext">OSS Advantages (users)</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#OSS_Advantages_.28developers.29"><span class="tocnumber">1.2</span> <span class="toctext">OSS Advantages (developers)</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#ALSA_advantages_over_OSS"><span class="tocnumber">1.3</span> <span class="toctext">ALSA advantages over OSS</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Install"><span class="tocnumber">2</span> <span class="toctext">Install</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Testing"><span class="tocnumber">3</span> <span class="toctext">Testing</span></a></li>
<li class="toclevel-1 tocsection-7">
<a href="#Volume_Control_Mixer"><span class="tocnumber">4</span> <span class="toctext">Volume Control Mixer</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#Color_Definitions"><span class="tocnumber">4.1</span> <span class="toctext">Color Definitions</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Saving_Mixer_Levels"><span class="tocnumber">4.2</span> <span class="toctext">Saving Mixer Levels</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Other_Mixers"><span class="tocnumber">4.3</span> <span class="toctext">Other Mixers</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11">
<a href="#Configuring_Applications_for_OSS"><span class="tocnumber">5</span> <span class="toctext">Configuring Applications for OSS</span></a>
<ul>
<li class="toclevel-2 tocsection-12">
<a href="#Applications_that_use_GStreamer"><span class="tocnumber">5.1</span> <span class="toctext">Applications that use GStreamer</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#Xfce4-mixer_and_OSS4"><span class="tocnumber">5.1.1</span> <span class="toctext">Xfce4-mixer and OSS4</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-14"><a href="#Applications_that_use_OpenAL"><span class="tocnumber">5.2</span> <span class="toctext">Applications that use OpenAL</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Audacity"><span class="tocnumber">5.3</span> <span class="toctext">Audacity</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Gajim"><span class="tocnumber">5.4</span> <span class="toctext">Gajim</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#MOC"><span class="tocnumber">5.5</span> <span class="toctext">MOC</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#MPD"><span class="tocnumber">5.6</span> <span class="toctext">MPD</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#MPlayer"><span class="tocnumber">5.7</span> <span class="toctext">MPlayer</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Skype"><span class="tocnumber">5.8</span> <span class="toctext">Skype</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#VLC_media_player"><span class="tocnumber">5.9</span> <span class="toctext">VLC media player</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Wine"><span class="tocnumber">5.10</span> <span class="toctext">Wine</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Other_applications"><span class="tocnumber">5.11</span> <span class="toctext">Other applications</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-24">
<a href="#Tips_and_tricks"><span class="tocnumber">6</span> <span class="toctext">Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-25"><a href="#Using_multimedia_keys_with_OSS"><span class="tocnumber">6.1</span> <span class="toctext">Using multimedia keys with OSS</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#Changing_the_Sample_Rate"><span class="tocnumber">6.2</span> <span class="toctext">Changing the Sample Rate</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#A_simple_system_tray_applet"><span class="tocnumber">6.3</span> <span class="toctext">A simple system tray applet</span></a></li>
<li class="toclevel-2 tocsection-28">
<a href="#Start_ossxmix_docked_to_the_system_tray_on_startup"><span class="tocnumber">6.4</span> <span class="toctext">Start ossxmix docked to the system tray on startup</span></a>
<ul>
<li class="toclevel-3 tocsection-29"><a href="#KDE"><span class="tocnumber">6.4.1</span> <span class="toctext">KDE</span></a></li>
<li class="toclevel-3 tocsection-30"><a href="#Gnome"><span class="tocnumber">6.4.2</span> <span class="toctext">Gnome</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-31"><a href="#Record_sound_output_from_a_program"><span class="tocnumber">6.5</span> <span class="toctext">Record sound output from a program</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#Suspend_and_Hibernation"><span class="tocnumber">6.6</span> <span class="toctext">Suspend and Hibernation</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#Changing_the_Default_Sound_Output"><span class="tocnumber">6.7</span> <span class="toctext">Changing the Default Sound Output</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#Creative_Sound_Blaster_X-Fi_Surround_5.1_SB1090_USB"><span class="tocnumber">6.8</span> <span class="toctext">Creative Sound Blaster X-Fi Surround 5.1 SB1090 USB</span></a></li>
<li class="toclevel-2 tocsection-35">
<a href="#ALSA_emulation"><span class="tocnumber">6.9</span> <span class="toctext">ALSA emulation</span></a>
<ul>
<li class="toclevel-3 tocsection-36"><a href="#Instructions"><span class="tocnumber">6.9.1</span> <span class="toctext">Instructions</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-37"><a href="#Settings_for_a_specific_driver"><span class="tocnumber">6.10</span> <span class="toctext">Settings for a specific driver</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-38">
<a href="#Troubleshooting"><span class="tocnumber">7</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-39">
<a href="#Troubleshooting_HD_Audio_devices"><span class="tocnumber">7.1</span> <span class="toctext">Troubleshooting HD Audio devices</span></a>
<ul>
<li class="toclevel-3 tocsection-40"><a href="#Understanding_the_problem"><span class="tocnumber">7.1.1</span> <span class="toctext">Understanding the problem</span></a></li>
<li class="toclevel-3 tocsection-41"><a href="#Solution"><span class="tocnumber">7.1.2</span> <span class="toctext">Solution</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-42"><a href="#MMS_sound_cracking_in_Totem"><span class="tocnumber">7.2</span> <span class="toctext">MMS sound cracking in Totem</span></a></li>
<li class="toclevel-2 tocsection-43"><a href="#Microphone_playing_through_output_channels"><span class="tocnumber">7.3</span> <span class="toctext">Microphone playing through output channels</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-44"><a href="#See_also"><span class="tocnumber">8</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Comparisons_with_ALSA">Comparisons with ALSA</span></h2>
<p>Some advantages and disadvantages compared to using the Advanced Linux Sound Architecture.
</p>
<h3><span class="mw-headline" id="OSS_Advantages_.28users.29">OSS Advantages (users)</span></h3>
<ul>
<li> Per-application volume control.</li>
<li> Some legacy cards have better support.</li>
</ul>
<h3><span class="mw-headline" id="OSS_Advantages_.28developers.29">OSS Advantages (developers)</span></h3>
<ul>
<li> Support for drivers in userspace.</li>
<li> Cross-platform (OSS runs on BSDs and Solaris).</li>
<li> Smaller and easier to use API.</li>
</ul>
<h3><span class="mw-headline" id="ALSA_advantages_over_OSS">ALSA advantages over OSS</span></h3>
<ul>
<li> Better support for USB audio devices.</li>
<li> Support for Bluetooth audio devices.</li>
<li> Support for <a href="https://en.wikipedia.org/wiki/AC%2797" class="extiw" title="wikipedia:AC'97">AC'97</a> and <a href="https://en.wikipedia.org/wiki/Intel_High_Definition_Audio" class="extiw" title="wikipedia:Intel High Definition Audio">HD Audio</a> dial-up soft-modems such as Si3055.</li>
<li> Better support for MIDI devices.</li>
<li> Support for suspend.</li>
<li> Better support for jack detection.</li>
<li> Better support for modern hardware.</li>
</ul>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>
<ul>
<li> OSS has experimental output support for USB audio devices, but no input.</li>
<li> OSS supports MIDI devices with the help of a software synthesizer such as <a href="../en/Timidity.html" title="Timidity">Timidity</a> or <a href="../en/FluidSynth.html" title="FluidSynth">FluidSynth</a>.</li>
</ul>
</div>
<h2><span class="mw-headline" id="Install">Install</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/oss/">oss</a></span><sup><small>AUR</small></sup> package. There is also a development version of OSS available with the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/oss-git/">oss-git</a></span><sup><small>AUR</small></sup> package.
</p>
<p>This will install the OSS, run the OSS install script (temporarily disabling the ALSA modules) and install the OSS kernel modules. Since ALSA is enabled by default in the boot scripts, you need to disable it so it does not conflict with OSS. You can do this by blacklisting the module:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/alsa_blacklist.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
install soundcore /bin/false</pre>
<p>After blacklisting the module, you can <a href="../en/Daemons.html" title="Daemon" class="mw-redirect">enable</a> the <b>oss</b> daemon to start at boot.
</p>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" width="48" height="48"></a><b>This article or section is out of date.</b><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> This should be the same as for ALSA, i.e. not recommended by default. See <a href="../en/Advanced_Linux_Sound_Architecture.html#User_privileges" title="Advanced Linux Sound Architecture">Advanced_Linux_Sound_Architecture#User_privileges</a>. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Open_Sound_System">Talk:Open Sound System#</a>)</div>
</div>
<p>In case you are not part of the <i>audio</i> group, add yourself and <b>relogin</b> for the changes to take effect:
</p>
<pre># gpasswd -a $USER audio
</pre>
<p>In case OSS is not able to detect your card when starting it, run:
</p>
<pre># ossdetect -v
# soundoff &amp;&amp; soundon
</pre>
<h2><span class="mw-headline" id="Testing">Testing</span></h2>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;">
<strong> Warning: </strong>The default volume is very loud, avoid using earphones and physically lower the volume of your speakers (if possible) before running the test.</div>
<p><b>Test OSS by running:</b>
</p>
<pre>$ osstest
</pre>
<p>You should be able to hear music during the test process. If there is no audio, try to adjust the volume or refer to the <a href="#Troubleshooting">#Troubleshooting</a> section.
</p>
<p>If you want to hear sounds from more than one application simultaneously, you need <code>vmix</code>, OSS's software mixer. 
</p>
<p><b>Check that vmix is enabled by running:</b>
</p>
<pre>$ ossmix -a | grep -i vmix
</pre>
<p>You should see a line like <code>vmix0-enable ON|OFF (currently ON)</code>. If you do not see any lines beginning with <code>vmix</code>, it probably means that <code>vmix</code> has not been attached to your sound device. To attach <code>vmix</code>, issue the command:
</p>
<pre>$ vmixctl attach device
</pre>
<p>where <i>device</i> is your sound device, e.g. <code>/dev/oss/oss_envy240/pcm0</code>.
</p>
<p>To avoid having to issue this command manually in the future, you can add it to <code>/usr/lib/oss/soundon.user</code>, as suggested <a rel="nofollow" class="external text" href="http://www.opensound.com/wiki/index.php/Tips_And_Tricks#Changing_the_default_sound_output">here</a>.
</p>
<p>If you get a <b>"Device or resource busy"</b> error, you need to add <code>vmix_no_autoattach=1</code> to <code>/usr/lib/oss/conf/osscore.conf</code> and then reboot.
</p>
<p><b>See which devices are detected by running:</b>
</p>
<pre>$ ossinfo
</pre>
<p>You should be able to see your devices listed under <i>Device Objects</i> or <i>Audio Devices</i>. If the device that you want to use is not at the top of one of these sections, you have to edit <code>/usr/lib/oss/etc/installed_drivers</code> and place the driver for your device at the very top. It may be required to do a:
</p>
<pre>$ soundoff &amp;&amp; soundon
</pre>
<p>If this does not work, comment all drivers listed except the ones for your device.
</p>
<h2><span class="mw-headline" id="Volume_Control_Mixer">Volume Control Mixer</span></h2>
<p>To control the volume of various devices, mixers levels will need to be set. There are two mixers:
</p>
<ul>
<li> <b>ossmix</b>: a command-line mixer, similar to the BSD audio mixer <code>mixerctl</code>. </li>
<li> <b>ossxmix</b>: a GTK+-based graphical mixer.</li>
</ul>
<p>The basic <code>ossxmix</code> controls look like:
</p>
<pre>
 / High Definition Audio ALC262 \    --------------------------------&gt; 1
/________________________________\________________________________
|                                                                 \
| [x] vmix0-enable [vmix0-rate: 48.000kHz]      vmix0-channels    |--&gt; 2
|                                               [ Stereo [v] ]    |
|                                                                 |
|  __codec1______________________________________________________ |
| |  _jack______________________________________________________ ||--&gt; 3
| | |  _int-speaker_________________   _green_________________  |||
| | | |                             | |                       | |||
| | | |  _mode_____ | |             | |  _mode_____   | |     | |||
| | | | [ mix [v] ] o o [x] [ ]mute | | [ mix  [v] ]  o o [x] | |||
| | | |             | |             | |               | |     | |||
| | | |_____________________________| |_______________________| |||
| | |___________________________________________________________|||
| |______________________________________________________________||
| ___vmix0______________________________________________________  |
| |  __mocp___  O O   _firefox_  O O  __pcm7___  O O            | |--&gt; 4
| | |         | O O  |         | x x |         | O O            | |
| | | | |     | x O  | | |     | x x | | |     | O O            | |
| | | o o [x] | x x  | o o [x] | x x | o o [x] | O O            | |
| | | | |     | x x  | | |     | x x | | |     | O O            | |
| | |_________| x x  |_________| x x |_________| O O            | |
| |_____________________________________________________________| |
|_________________________________________________________________|
</pre>
<ol>
<li> One tab for each sound card</li>
<li> The <code>vmix</code> (virtual mixer) special configurations appear at the top. These include sampling rate and mixer priority.</li>
<li> These are your sound card jack configurations (input and output). Every mixer control that is shown here is provided by your sound card.</li>
<li> Application <code>vmix</code> mixer controls and sound meters. If the application is not actively playing a sound it will be labeled as <code>pcm08, pcm09...</code> and when the application is playing the application name will be shown.</li>
</ol>
<h3><span class="mw-headline" id="Color_Definitions">Color Definitions</span></h3>
<p>For high definition (HD) audio, <code>ossxmix</code> will color jack configurations by their pre-defined jack colors:
</p>
<table class="wikitable">
<tr>
<th> Color
</th>
<th> Type
</th>
<th> Connector
</th>
</tr>
<tr style="color:black;background:lightgreen">
<td>green
</td>
<td> front channels (stereo output)
</td>
<td> 3.5mm TRS
</td>
</tr>
<tr style="color:white;background:black">
<td>black
</td>
<td> rear channels (stereo output)
</td>
<td> 3.5mm TRS
</td>
</tr>
<tr style="color:white;background:gray">
<td>grey
</td>
<td> side channels (stereo output)
</td>
<td>3.5mm TRS
</td>
</tr>
<tr style="color:black;background:gold">
<td>gold
</td>
<td> center and subwoofer (dual output)
</td>
<td>3.5mm TRS
</td>
</tr>
<tr style="color:black;background:lightblue">
<td>blue
</td>
<td> line level (stereo input)
</td>
<td>3.5mm TRS
</td>
</tr>
<tr style="color:black;background:pink">
<td>pink
</td>
<td> microphone (mono input)
</td>
<td>3.5mm TS
</td>
</tr>
</table>
<h3><span class="mw-headline" id="Saving_Mixer_Levels">Saving Mixer Levels</span></h3>
<p>Mixer levels are saved when you shut off your computer.  If you want to save the mixer level immediately, execute as root:
</p>
<pre># savemixer
</pre>
<p><code>savemixer</code> can be used to write mixer levels to a file with the <code>-f</code> switch and restore by the <code>-L</code> switch.
</p>
<h3><span class="mw-headline" id="Other_Mixers">Other Mixers</span></h3>
<p>Other mixers that have support for OSS:
</p>
<ul><li> <b>Gnome Volume Control</b> —  for <a href="../en/GNOME.html" title="GNOME">GNOME</a>.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="http://library.gnome.org/users/gnome-volume-control/stable/">http://library.gnome.org/users/gnome-volume-control/stable/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/groups/x86_64/gnome/">gnome</a></span>
</dd></dl>
<ul><li> <b>Kmix</b> — for <a href="../en/KDE.html" title="KDE">KDE</a>.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="http://www.kde.org/applications/multimedia/kmix/">http://www.kde.org/applications/multimedia/kmix/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=kdemultimedia-kmix">kdemultimedia-kmix</a></span>
</dd></dl>
<ul><li> <b>VolWheel</b> — After the installation, set it to <a href="../en/Autostarting.html#Graphical" title="Autostarting">autostart</a> as needed, then enable OSS support by right-clicking on the system tray icon, choosing <i>Preferences</i> and then changing:</li></ul>
<dl><dd><ul>
<li> <i>Driver</i>: <code>OSS</code>.</li>
<li> <i>Default Channel</i>: <code>vmix0-outvol</code> (find out what channel to use with <code>ossmix</code>).</li>
<li> <i>Default Mixer</i>: <code>ossxmix</code>.</li>
<li> In the <i>MiniMixer</i> tab (optional), add <code>vmix0-outvol</code> and optionally others.</li>
</ul></dd></dl>
<dl><dd>
<a rel="nofollow" class="external free" href="http://oliwer.net/b/volwheel.html">http://oliwer.net/b/volwheel.html</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=volwheel">volwheel</a></span>
</dd></dl>
<h2><span class="mw-headline" id="Configuring_Applications_for_OSS">Configuring Applications for OSS</span></h2>
<h3><span class="mw-headline" id="Applications_that_use_GStreamer">Applications that use GStreamer</span></h3>
<p>If you have problems with applications that use Gstreamer for audio, you can try removing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=pulseaudio">pulseaudio</a></span> and installing the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=gstreamer0.10-good-plugins">gstreamer0.10-good-plugins</a></span> package which is needed by <code>oss4sink</code> and <code>oss4src</code>.
</p>
<p>Then you have to change the GStreamer settings to output the sound to OSS instead of the default ALSA with <code>gstreamer-properties</code> (part of the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gstreamer-properties/">gstreamer-properties</a></span><sup><small>AUR</small></sup> package). After starting <code>gstreamer-properties</code>, you have to modify the fields as follows:
</p>
<ul>
<li> in the <i>Default Output</i> section: if OSS is not available as a plugin, change <i>Plugin</i> to <b>Custom</b> and <i>Pipeline</i> to <b>oss4sink</b>.</li>
<li> in the <i>Default Input</i> section: if OSS is not available, change <i>Plugin</i> to <b>Custom</b> and <i>Pipeline</i> to <b>oss4src</b>.</li>
</ul>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>You can also use <code>osssrc</code> as an alternative to <code>oss4src</code> if you find that it produces better sound.</div>
<p>Some applications (e.g. Rhythmbox, Totem) do not read the settings set by <code>gstreamer-properties</code>, as they rely on <code>musicaudiosink</code> instead of <code>audiosink</code> (which is modified by <code>gstreamer-properties</code>). 
</p>
<p>To work around this, you can set the values for <code>audiosink</code> with <code>gstreamer-properties</code> and use <code>gconf-editor</code> to copy the value of <code>/system/gstreamer/0.10/default/audiosink</code> to <code>musicaudiosink</code> (at the same location).
</p>
<p>If you are using Phonon with the GStreamer backend you will need to set a environmental variable:
</p>
<pre>export PHONON_GST_AUDIOSINK=oss4sink
</pre>
<p>You can add this to your <code>~/.bashrc</code> to be loaded on login.
</p>
<h4><span class="mw-headline" id="Xfce4-mixer_and_OSS4">Xfce4-mixer and OSS4</span></h4>
<p>If you tried the above section to get <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=xfce4-mixer">xfce4-mixer</a></span> to work and it does not work at all, then you may have to compile <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=gstreamer0.10-good-plugins">gstreamer0.10-good-plugins</a></span> yourself. Download the PKGBUILD and other files needed from ABS or <a rel="nofollow" class="external text" href="https://projects.archlinux.org/svntogit/packages.git/tree/gstreamer0.10-good/repos">here</a>, edit the PKGBUILD, add --enable-oss.
</p>
<pre> ./configure --prefix=/usr --sysconfdir=/etc --localstatedir=/var \
   <b>--enable-oss \</b>
   --disable-static --enable-experimental \
   --disable-schemas-install \
   --disable-hal \
   --with-package-name="GStreamer Good Plugins (Archlinux)" \
   --with-package-origin="<a rel="nofollow" class="external free" href="https://www.archlinux.org/">https://www.archlinux.org/</a>"
</pre>
<p>and then run makepkg -i.
</p>
<pre> makepkg -i
</pre>
<p>Other LINKS: <a rel="nofollow" class="external text" href="http://www.4front-tech.com/forum/">OSS forum</a>
</p>
<h3><span class="mw-headline" id="Applications_that_use_OpenAL">Applications that use OpenAL</span></h3>
<p>By default OpenAL uses ALSA. To change this, simply define the usage of OSS in <code>/etc/openal/alsound.conf</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/openal/alsound.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
drivers=oss
</pre>
<h3><span class="mw-headline" id="Audacity">Audacity</span></h3>
<p>If <a rel="nofollow" class="external text" href="http://audacity.sourceforge.net/">Audacity</a> starts, but it complains that it cannot open the device or simply does not play anything, then you may be using <code>vmix</code> which prevents Audacity from having exclusive access to your sound device. To fix this, before running Audacity, run:
</p>
<pre>$ ossmix vmix0-enable OFF
</pre>
<p>You can restore <code>vmix</code> after closing Audacity with:
</p>
<pre>$ ossmix vmix0-enable ON
</pre>
<h3><span class="mw-headline" id="Gajim">Gajim</span></h3>
<p>By default, <a rel="nofollow" class="external text" href="http://gajim.org/">Gajim</a> uses <code>aplay -q</code> to play a sound. For OSS you can change it to the equivalent <code>ossplay -qq</code> by going to <i>Edit &gt; Preferences &gt; Advanced</i>, opening the <i>Advanced Configuration Editor</i> and modifying the <code>soundplayer</code> variable accordingly.
</p>
<h3><span class="mw-headline" id="MOC">MOC</span></h3>
<p>To use <a href="../en/Moc.html" title="Moc">MOC</a> with OSS v4.1 you must change <code>OSSMixerDevice</code> to <code>/dev/ossmix</code> in your configuration file (located in <code>~/.moc</code>). For issues with the interface try changing the <code>OSSMixerChannel</code> by pressing <code>w</code> in <code>mocp</code> (to change to the sofware mixer).
</p>
<h3><span class="mw-headline" id="MPD">MPD</span></h3>
<p><a href="../en/Music_Player_Daemon.html" title="MPD" class="mw-redirect">MPD</a> is configured through <code>/etc/mpd.conf</code> or <code>~/.mpdconf</code>. Check both of these files, looking for something that looks like:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/mpd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
...
audio_output {
    type    "alsa"
    name    "Some Device Name"
}
...</pre>
<p>If you find an uncommented (the lines do not begin with #'s) ALSA configuration like the one above, comment all of it out, or delete it, and add the following:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/mpd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
...
audio_output {
    type    "oss"
    name    "My OSS Device"
}
...</pre>
<p>Further configuration might not be necessary for all users. However, if you experience issues (in that MPD does not work properly after it has been restarted), or if you like having specific (i.e. more user-configured, less auto-configured) configuration files, the audio output for OSS can be more specifically configured as follows: 
</p>
<ul><li> First, run:</li></ul>
<pre>$ ossinfo | grep /dev/dsp
</pre>
<ul><li> Look for the line that says something similar to <code>/dev/dsp -&gt; /dev/oss/&lt;SOME_CARD_IDENTIFIER&gt;/pcm0</code>. Take note of what your <code>&lt;SOME_CARD_IDENTIFIER&gt;</code> is, and add these lines to your OSS <code>audio_output</code> in your MPD configuration file:</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/mpd.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
...
audio_output {
    type            "oss"
    name            "My OSS Device"
    <b>device          "/dev/oss/&lt;SOME_CARD_IDENTIFIER&gt;/pcm0"</b>
    <b>mixer_device    "/dev/oss/&lt;SOME_CARD_IDENTIFIER&gt;/mix0"</b>
}
...
</pre>
<p>See also: <a href="../en/Music_Player_Daemon.html#Global_configuration" title="Music Player Daemon">Music Player Daemon#Global configuration</a>.
</p>
<h3><span class="mw-headline" id="MPlayer">MPlayer</span></h3>
<p>If you are using a GUI (SMplayer, GNOME MPlayer, etc.) you can select OSS as the default output in the settings dialogs. If you use <a href="../en/MPlayer.html" title="MPlayer">MPlayer</a> from the command-line, you should specify the sound output: 
</p>
<pre>$ mplayer -ao oss /some/file/to/play.mkv
</pre>
<p>If you do not want to bother typing it over and over again add <code>ao=oss</code> to your configuration file (at <code>~/.mplayer/config</code>).
</p>
<p>See also: <a href="../en/MPlayer.html#Configuration" title="MPlayer">MPlayer#Configuration</a>.
</p>
<h3><span class="mw-headline" id="Skype">Skype</span></h3>
<p>The official <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=skype">skype</a></span> package includes support for PulseAudio only, since OSS and ALSA support has been dropped with version 4.3. Due to community efforts, being able to use Skype with OSS (and without PulseAudio) is still possible though:
</p>
<p>You can install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/skype_oss_wrapper-git/">skype_oss_wrapper-git</a></span><sup><small>AUR</small></sup> from AUR, which utilizes a fake libpulse.so library that mimics PulseAudio behaviour for Skype. After installing you will need to start Skype with the command: <code>skype_oss</code> - or simply start it through the created application shortcut: "Skype (OSSv4)". It does pretty well for a wrapper, although it can only work with 48KHz input and output . Should you find any misbehaviours or missing features, bug reports and patches are greatly appreciated.
</p>
<p><br>
However it is also possible to use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=pulseaudio">pulseaudio</a></span> with module-oss:
</p>
<p>Edit <code>/etc/pulse/default.pa</code>, comment out the line that starts with <code>load-module module-udev-detect</code> and add <code>load-module module-oss device="/dev/dsp" sink_name=output source_name=input mmap==0</code>.
</p>
<h3><span class="mw-headline" id="VLC_media_player">VLC media player</span></h3>
<p>You can select OSS as the default output in the audio settings.
</p>
<h3><span class="mw-headline" id="Wine">Wine</span></h3>
<p>To set OSS support in <a href="../en/Wine.html" title="Wine">Wine</a> start:
</p>
<pre>$ winecfg
</pre>
<p>and go to the <code>Audio</code> tab and select the <code>OSS Driver</code>.
</p>
<p>See also: <a href="../en/Wine.html#Sound" title="Wine">Wine#Sound</a>.
</p>
<h3><span class="mw-headline" id="Other_applications">Other applications</span></h3>
<ul>
<li> If you can not get sound from an application not listed here, try looking at the <a rel="nofollow" class="external text" href="http://www.4front-tech.com/wiki/index.php/Configuring_Applications_for_OSSv4">Configuring Applications for OSSv4</a> page.</li>
<li> Search for OSS specific packages with <a href="../en/Pacman.html" title="Pacman">pacman</a> or by looking in the <a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?K=-oss&amp;start=0&amp;PP=100">AUR</a>.</li>
</ul>
<p>See also: <a rel="nofollow" class="external text" href="http://www.opensound.com/ossapps.html">ossapps</a>.
</p>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Using_multimedia_keys_with_OSS">Using multimedia keys with OSS</span></h3>
<p>An easy way to mute/unmute and increase/decrease the volume is to use the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ossvol/">ossvol</a></span><sup><small>AUR</small></sup> script, available in the <a href="../en/Arch_User_Repository.html" title="AUR" class="mw-redirect">AUR</a>. For more information about the script see <a rel="nofollow" class="external text" href="http://www.opensound.com/wiki/index.php/Tips_And_Tricks#ossvol">this article</a> on the OSS wiki.
</p>
<p>Once you installed it, type:
</p>
<pre>$ ossvol -t
</pre>
<p>to toggle mute, or:
</p>
<pre>$ ossvol -h
</pre>
<p>to see the available commands.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>If <code>ossvol</code> gives an error like <b>Bad mixer control name(987) 'vol'</b>, you need to edit the <code>/usr/bin/ossvol</code> script and change the <code>CHANNEL</code> variable to your default channel (usually <code>vmix0-outvol</code>).</div>
<p>If you want to use multimedia keys with <code>ossvol</code>, see <a href="../en/Extra_keyboard_keys.html" title="Extra keyboard keys">Extra keyboard keys</a> and make sure they are properly configured. After that you can use, for example, <a href="../en/Xbindkeys.html" title="Xbindkeys">Xbindkeys</a> to bind them to the <code>ossvol</code> script. Add the following to your <code>~/.xbindkeysrc</code> file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.xbindkeysrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
# Toggle mute
"ossvol -t"
    m:0x0 + c:121
    XF86AudioMute

# Lower volume
"ossvol -d 2"
    m:0x0 + c:122
    XF86AudioLowerVolume

# Raise volume
"ossvol -i 2"
    m:0x0 + c:123
    XF86AudioRaiseVolume
</pre>
<p>and optionally change the multimedia keys with whatever shortcuts you prefer.
</p>
<h3><span class="mw-headline" id="Changing_the_Sample_Rate">Changing the Sample Rate</span></h3>
<p>Changing the output sample rate is not obvious at first. Sample rates can only be changed by root and <code>vmix</code> must be unused by any programs when a change is requested. Before you follow any of these steps, ensure you are going through a receiver/amplifier and using quality speakers and not simply computer speakers. If you are only using computer speakers, do not bother changing anything here as you will not notice a difference.
</p>
<p>By default the sample rate is 48000hz. There are several conditions in which you may want to change this. This all depends on your usage patterns. You want the sample rate you are using to match the media you use the most. If your computer has to change the sampling rate of the media to suit the hardware it is likely, though not guaranteed, that you will have a loss in audio quality. This is most noticeable in down sampling (ie. 96000hz → 48000hz). There is an article about this issue in <a rel="nofollow" class="external text" href="http://www.stereophile.com/news/121707lucky/">Stereophile</a> which was <a rel="nofollow" class="external text" href="http://lists.apple.com/archives/coreaudio-api/2008/Jan/msg00272.html">discussed</a> on Apple's <i>CoreAudio API</i> mailing list if you wish to learn more about this issue.
</p>
<p>Some example sample rates:
</p>
<dl>
<dt> 44100hz</dt>
<dd> Sample rate of standard <a href="https://en.wikipedia.org/wiki/Red_Book_(CD_standard)" class="extiw" title="wikipedia:Red Book (CD standard)">Red Book</a> audio CDs.</dd>
<dt> 88000hz</dt>
<dd> Sample rate of <a href="https://en.wikipedia.org/wiki/Super_Audio_CD" class="extiw" title="wikipedia:Super Audio CD">SACD</a> high definition audio discs/downloads. It is rare that your motherboard will support this sample rate.</dd>
<dt> 96000hz</dt>
<dd> Sample rate of most high definition audio downloads. If your motherboard is an <a href="https://en.wikipedia.org/wiki/AC%2797" class="extiw" title="wikipedia:AC'97">AC'97</a> motherboard, this is likely to be your highest bitrate.</dd>
<dt> 192000hz</dt>
<dd> Sample rate of BluRay, and some (very few) high definition downloads. Support for external audio receiver equipment is limited to high end audio. Not all motherboards support this. An example of a motherboard chipset that would support this includes <a href="https://en.wikipedia.org/wiki/Intel_High_Definition_Audio" class="extiw" title="wikipedia:Intel High Definition Audio">HD Audio</a>. </dd>
</dl>
<p>To check what your sample rate is currently set to, run:
</p>
<pre>ossmix | grep rate
</pre>
<p>You are likely to see <code>vmix0-rate &lt;decimal value&gt; (currently 48000) (Read-only)</code>.
</p>
<p>If you do not see a <code>vmix0-rate</code> (or <code>vmix1-rate</code>, etc.) being outputted, then it probably means that <code>vmix</code> is disabled. In that case, OSS will use the rate requested by the program which uses the device, so this section does not apply. Exception to this are Envy24 (and Envy24HT) cards that have a special setting <code>envy24.rate</code> which has a similar function (see the <code>oss_envy24</code> manpage).
</p>
<p>To change your sample rate:
</p>
<ol>
<li> First, make sure your card is able to use the new rate. Run <code>ossinfo -v2</code> and see if the wanted rate is in the <i>Native sample rates</i> output.</li>
<li> As root, run <code>/usr/lib/oss/scripts/killprocs.sh</code>. Be aware, this will close any program that currently has an open sound channel.</li>
<li> After all programs occupying <code>vmix</code> are terminated, run as root: <code>vmixctl rate /dev/dsp 96000</code> replacing the rate with your desired sample rate (and <code>ossmix envy24.rate 96000</code> if applicable).</li>
<li> Run <code>ossmix | grep rate</code> and check for <code>vmix0-rate &lt;decimal value&gt; (currently 96000) (Read-only)</code> to see if you were successful.</li>
<li>
<b>To make the changes permanent</b> add the following to the <code>soundon.user</code> file:</li>
</ol>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/lib/oss/soundon.user</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
#!/bin/sh

vmixctl rate /dev/dsp 96000
# ossmix envy24.rate 96000 # uncomment if you have an Envy24(HT) card

exit 0
</pre>
<p>and make it executable:
</p>
<pre># chmod +x /usr/lib/oss/soundon.user
</pre>
<h3><span class="mw-headline" id="A_simple_system_tray_applet">A simple system tray applet</span></h3>
<p>For those wanting a very lightweight OSS system tray applet see <a rel="nofollow" class="external text" href="http://pastebin.furver.se/0xflchkfz/">this one</a>.
</p>
<p>To install it:
</p>
<ul>
<li> Download <a rel="nofollow" class="external text" href="http://pastebin.furver.se/0xflchkfz/0xflchkfz.txt">the script</a> with whatever name you want (e.g. <code>ossvolctl</code>)</li>
<li> Make it executable:</li>
</ul>
<pre>$ chmod +x ossvolctl
</pre>
<ul><li> And copy it to your <code>/usr/bin</code>:</li></ul>
<pre># cp ossvolctl /usr/bin/ossvolctl
</pre>
<p>or:
</p>
<pre># install -Dm755 ossvolctl /usr/bin/ossvolctl
</pre>
<h3><span class="mw-headline" id="Start_ossxmix_docked_to_the_system_tray_on_startup">Start ossxmix docked to the system tray on startup</span></h3>
<h4><span class="mw-headline" id="KDE">KDE</span></h4>
<p>Create an application launcher file named <code>ossxmix.desktop</code> in you local application launchers directory (<code>~/.local/share/applications/</code> with:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.local/share/applications/ossxmix.desktop</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
[Desktop Entry]
Name=Open Sound System Mixer
GenericName=Audio Mixer
Exec=ossxmix -b
Icon=audio-card
Categories=Application;GTK;AudioVideo;Player;
Terminal=false
Type=Application
Encoding=UTF-8
</pre>
<p>To have it autostart with your system, add it to the list in <i>System Settings &gt; System Administration &gt; Startup and Shutdown &gt; Autostart</i>.
</p>
<h4><span class="mw-headline" id="Gnome">Gnome</span></h4>
<p>As root create a file <code>/usr/local/bin/ossxmix_bg</code> with the following content:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/local/bin/ossxmix_bg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
#!/bin/sh

exec /usr/bin/ossxmix -b
</pre>
<p>Then go to <i>System &gt; Preferences &gt; Start Up Applications</i> and:
</p>
<ul>
<li> Click <i>Add</i>, type <code>OSSMIX</code> in the <i>Name</i> field and <code>/usr/local/bin/ossxmix_bg</code> in <i>Command</i> field then click <i>Add Button</i>.</li>
<li> Login and logout to see the changes.</li>
</ul>
<h3><span class="mw-headline" id="Record_sound_output_from_a_program">Record sound output from a program</span></h3>
<ul><li> <a rel="nofollow" class="external text" href="http://www.opensound.com/wiki/index.php/Tips_And_Tricks#Recording_sound_output_of_a_program">Recording sound output of a program</a>.</li></ul>
<h3><span class="mw-headline" id="Suspend_and_Hibernation">Suspend and Hibernation</span></h3>
<p>OSS does not automatically support suspend, it must be manually stopped prior to suspending or hibernating and restarted afterwards.
</p>
<p>OSS provides <code>soundon</code> and <code>soundoff</code> to enable and disable OSS, although they only stop OSS if all processes that use sound are terminated first.
</p>
<p>The following script is a rather basic method of automatically unloading OSS prior to suspending and reloading afterwards.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/lib/systemd/system-sleep/50osssound.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
#!/bin/sh
suspend_osssound()
{
    /usr/lib/oss/scripts/killprocs.sh
    /usr/bin/soundoff
}
 
resume_osssound()
{
    /usr/bin/soundon
}
 
case $1 in
    pre)
        suspend_osssound
 	;;
    post)
 	resume_osssound
 	;;
    *) exit $NA
 	;;
esac
</pre>
<p>Save the contents of this script (as root) into <code>/usr/lib/systemd/system-sleep/50osssound.sh</code> and make it executable:
</p>
<pre># chmod a+x /usr/lib/systemd/system-sleep/50osssound.sh
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;">
<strong> Warning: </strong>This script is rather basic and will terminate any application directly accessing OSS. Save your work prior to suspending/hibernating.</div>
<p>An alternative would be to use <a href="../en/Power_management/Suspend_and_hibernate.html" title="Suspend to RAM" class="mw-redirect">s2ram</a> for suspending. Just create a suspend script to <code>/usr/bin/suspend</code> and make it executable.
</p>
<pre>
 #!/bin/sh

 ## Checking if you are a root or not
 if ! [ -w / ]; then
   echo &gt;&amp;2 "This script must be run as root"
   exit 1
 fi

 s2ram -f

 sleep 2

 systemctl restart oss.service 2&gt;/tmp/oss.txt || echo "OSS restart failed, check /tmp/oss.txt for information"
</pre>
<p>With this, all your apps should be fine.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>If you are using Opera you must kill <code>operapluginwrapper</code> before suspend. To do this add <code>pid=$(pidof operapluginwrapper) &amp;&amp; kill $pid</code> before <code>s2ram -f</code>.</div>
<h3><span class="mw-headline" id="Changing_the_Default_Sound_Output">Changing the Default Sound Output</span></h3>
<p>When running <code>osstest</code>, the first test passes for the first channel, but not for the stereo or right channel, it sounds distorted/hisses.  If this is what your sound is like, then it is set to the wrong output.
</p>
<pre>*** Scanning sound adapter #-1 ***
/dev/oss/oss_hdaudio0/pcm0 (audio engine 0): HD Audio play front
- Performing audio playback test... 
&lt;left&gt; OK &lt;right&gt; OK &lt;stereo&gt; OK &lt;measured srate 47991.00 Hz (-0.02%)&gt; 
</pre>
<p>The left sounded good, the right and stereo were the distorted ones.
</p>
<p>Let the test continue until you get a working output:
</p>
<pre>/dev/oss/oss_hdaudio0/spdout0 (audio engine 5): HD Audio play spdif-out 
- Performing audio playback test... 
&lt;left&gt; OK &lt;right&gt; OK &lt;stereo&gt; OK &lt;measured srate 47991.00 Hz (-0.02%)&gt; 
</pre>
<p>If this passed the test on all left, right and stereo, proceed to next step.
</p>
<p>For the command to change the default output see <a rel="nofollow" class="external text" href="http://www.opensound.com/wiki/index.php/Tips_And_Tricks#Changing_the_default_sound_output">this OSS wiki article</a>. Change it to what works for you, for example:
</p>
<pre># ln -sf /dev/oss/oss_hdaudio0/spdout0 /dev/dsp_multich
</pre>
<p>For surround sound (4.0-7.1) choose <code>dsp_multich</code>, for only 2 channels, <code>dsp</code> is sufficient. See <a rel="nofollow" class="external text" href="http://manuals.opensound.com/usersguide/dsp.html">this</a> for all available devices. 
</p>
<h3><span class="mw-headline" id="Creative_Sound_Blaster_X-Fi_Surround_5.1_SB1090_USB">Creative Sound Blaster X-Fi Surround 5.1 SB1090 USB</span></h3>
<p>This information is taken from the <a rel="nofollow" class="external text" href="http://www.4front-tech.com/forum/viewtopic.php?f=3&amp;t=3423">4front-tech forum</a>.
</p>
<p>It is surprising to learn that the external card does not work just because of a missing true return value in the function <code>write_control_value(...)</code> in <code>ossusb_audio.c</code>.
</p>
<p>To fix this, a recompile of OSS is necessary, for now.
</p>
<ul><li> Grab the latest OSS from the Arch Repo</li></ul>
<pre><a rel="nofollow" class="external free" href="https://projects.archlinux.org/svntogit/community.git/tree/trunk?h=packages/oss">https://projects.archlinux.org/svntogit/community.git/tree/trunk?h=packages/oss</a>
</pre>
<ul>
<li> Extract it</li>
<li> <code>cd</code> into the folder</li>
<li> run <code>makepkg --nobuild</code>
</li>
<li> <code>cd</code> to <code>src/kernel/drv/oss_usb/</code> and edit <code>ossusb_audio.c</code>: add a <code>return 1;</code>.
<ul><li> should look like so:</li></ul>
</li>
</ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">ossusb_audio.c</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
static int
write_control_value (ossusb_devc * devc, udi_endpoint_handle_t * endpoint,
                     int ctl, int l, unsigned int v)
{
     return 1;
...
</pre>
<ul>
<li> <code>cd</code> to <code>src/kernel/setup</code> and edit <code>srcconf_linux.inc</code>, search for <code>-Werror</code> and remove it, otherwise OSS will not compile.</li>
<li> do <code>makepkg --noextract</code>
</li>
</ul>
<p>Now you must <a href="../en/Arch_User_Repository.html#Installing_packages" title="Arch User Repository">install</a> the package. Remove OSS first if already installed.
</p>
<h3><span class="mw-headline" id="ALSA_emulation">ALSA emulation</span></h3>
<p>You can instruct <code>alsa-lib</code> to use OSS as its audio output system. This works as a sort of ALSA emulation.
</p>
<p>Note, however, that this method may introduce additional latency in your sound output, and that the emulation is not complete and does not work with all applications. It does not work, for example, with programs that try to detect devices using ALSA.
</p>
<p>So, as most applications support OSS directly, use this method only as a last resort.
</p>
<p>In the future, more complete methods may be available for emulating ALSA, such as <code>libsalsa</code> and <code>cuckoo</code>.
</p>
<h4><span class="mw-headline" id="Instructions">Instructions</span></h4>
<ul><li> Install the <code>alsa-plugins</code> package, available in the official repositories.</li></ul>
<ul><li> Edit <code>/etc/asound.conf</code> as follows.</li></ul>
<pre>pcm.oss {
   type oss
    device /dev/dsp
}

pcm.!default {
    type oss
    device /dev/dsp
}

ctl.oss {
    type oss
    device /dev/mixer
}

ctl.!default {
    type oss
    device /dev/mixer
}
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>If you do not want to use OSS anymore, do not forget to revert changes in <code>/etc/asound.conf</code>.</div>
<h3><span class="mw-headline" id="Settings_for_a_specific_driver">Settings for a specific driver</span></h3>
<p>If something is not working, there is a possibility that some of your OSS settings are driver specific or just wrong for your driver.
</p>
<p>To solve this:
</p>
<ul><li> Find out which driver is used</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ lspci -vnn | grep -i -A 15 audio</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
00:1e.2 Multimedia audio controller [0401]: Intel Corporation 82801FB/FBM/FR/FW/FRW (ICH6 Family) AC'97 Audio Controller [8086:266e] (rev 03)
Subsystem: Hewlett-Packard Company NX6110/NC6120 [103c:099c]
Flags: bus master, medium devsel, latency 0, IRQ 21
I/O ports at 2100 [size=256]
I/O ports at 2200 [size=64]
Memory at d0581000 (32-bit, non-prefetchable) [size=512]
Memory at d0582000 (32-bit, non-prefetchable) [size=256]
Capabilities: &lt;access denied&gt;
Kernel driver in use: *oss_ich*
Kernel modules: snd-intel8x0
</pre>
<ul><li> Locate configuration file for device in:</li></ul>
<pre># cd /usr/lib/oss/conf/
</pre>
<ul><li> Try changing defaults. There are only few settings, and they are self explanatory </li></ul>
<p>For example, the setting: 
</p>
<pre>ich_jacksense = 1 
</pre>
<p>in <code>oss_ich.conf</code> turns on <code>jack-sense</code> (which is responsible for recognizing plugged headphones and muting the speaker). Other settings for <code>jack-sense</code> can be found in <code>hdaudio.conf</code> where you have to change the <code>hdaudio_jacksense</code> variable.
</p>
<ul><li> <a href="../en/Daemons.html" title="Daemon" class="mw-redirect">Restart</a> the <b>oss</b> daemon for changes take effects.</li></ul>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Troubleshooting_HD_Audio_devices">Troubleshooting HD Audio devices</span></h3>
<h4><span class="mw-headline" id="Understanding_the_problem">Understanding the problem</span></h4>
<p>If you have a HD Audio sound device, it is very likely that you will have to adjust some mixer settings before your sound works.
</p>
<p>HD Audio devices are very powerful in the sense that they can contain a lot of small circuits (called <i>widgets</i>) that can be adjusted by software at any time. These controls are exposed to the mixer, and they can be used, for example, to turn the earphone jack into a sound input jack instead of a sound output jack.
</p>
<p>However, there are also bad side effects, mainly because the HD Audio standard is more flexible than it perhaps should be, and because the vendors often only care to get their <i>official drivers</i> working.
</p>
<p>When using HD Audio devices, you often find disorganized mixer controls, that do not work at all by default, and you are forced to try every mixer control combination possible, until it works.
</p>
<h4><span class="mw-headline" id="Solution">Solution</span></h4>
<p>Open <code>ossxmix</code> and try to change every mixer control in the <b>middle area</b>, that contains the sound card specific controls, as explained in the <a href="../en/Open_Sound_System.html#Volume_Control_Mixer" title="OSS" class="mw-redirect">OSS#Volume Control Mixer</a> section.
</p>
<p>You will probably want to setup a program to record/play continuously in the background (e.g. <code>ossrecord - | ossplay -</code>  for recording or <code>osstest -lV</code> for playing), while changing mixer settings in <code>ossxmix</code> in the foreground.
</p>
<ul>
<li> Raise every volume control slider.</li>
<li> In each option box, try to change the selected option, trying all the possible combinations.</li>
<li> If you get noise, try to lower and/or mute some volume controls, until you find the source of the noise.</li>
<li> Editing <code>/usr/lib/oss/conf/oss_hdaudio.conf</code>, uncommenting and changing <code>hdaudio_noskip=0</code> to a value from <b>0-7</b> can give you more jack options in <code>ossxmix</code>.</li>
</ul>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>If you modify this file, <a href="../en/Daemons.html" title="Daemon" class="mw-redirect">restart</a> the <b>oss</b> daemon for the changes to take effect.</div>
<h3><span class="mw-headline" id="MMS_sound_cracking_in_Totem">MMS sound cracking in Totem</span></h3>
<p>If you hear various cracks or strange noises in Totem during playback, you can try using another backend such as <a href="../en/FFmpeg.html" title="FFmpeg">FFmpeg</a>. This will not fix the issue that somehow pops up in GStreamer when playing MMS streams but it will give you the option to play it with good sound quality. Playing it in MPlayer is simple:
</p>
<pre># mplayer mmsh://yourstreamurl
</pre>
<h3><span class="mw-headline" id="Microphone_playing_through_output_channels">Microphone playing through output channels</span></h3>
<p>By default, OSS plays back the microphone through the speakers. To disable this in <code>ossxmix</code> find the <i>Misc</i> section and uncheck every <code>input-mix-mute</code> box.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li> <a rel="nofollow" class="external text" href="http://www.opensound.com/">Official Website</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://www.opensound.com/wiki">OSS Wiki</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://www.opensound.com/forum/index.php">OSS Forum</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://www.opensound.com/developer/index.html">Developer Information</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://sourceforge.net/p/opensound/git/">Git repository</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://sourceforge.net/p/opensound/mailman/opensound-devel/">opensound-devel mailing list</a>
</li>
</ul>

</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Sound.html" title="Category:Sound">Sound</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li></ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
