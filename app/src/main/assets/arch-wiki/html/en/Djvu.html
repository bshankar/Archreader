<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Djvu - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Djvu skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Djvu</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p>From <a href="https://en.wikipedia.org/wiki/DjVu" class="extiw" title="wikipedia:DjVu">Wikipedia's DjVu Page</a>:
</p>
<dl><dd><i>DjVu is a computer file format designed primarily to store scanned documents, especially those containing a combination of text, line drawings, indexed color images, and photographs. It uses technologies such as image layer separation of text and background/images, progressive loading, arithmetic coding, and lossy compression for bitonal (monochrome) images. This allows for high-quality, readable images to be stored in a minimum of space, so that they can be made available on the web.</i></dd></dl>
<dl><dd><i>DjVu has been promoted as an alternative to PDF, promising smaller files than PDF for most scanned documents. The DjVu developers report that color magazine pages compress to 40–70 kB, black and white technical papers compress to 15–40 kB, and ancient manuscripts compress to around 100 kB; a satisfactory JPEG image typically requires 500 kB. Like PDF, DjVu can contain an OCR text layer, making it easy to perform copy and paste and text search operations.</i></dd></dl>
<dl><dd><i>Free browser plug-ins and desktop viewers from different developers are available from the djvu.org website. DjVu is supported by a number of multi-format document viewers and e-book reader software on Linux (Okular, Evince), Android (VuDroid), Windows (SumatraPDF), iPhone/iPad (Stanza), and BlackBerry OS (DjVuBB).</i></dd></dl>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#How_It_Works"><span class="tocnumber">1</span> <span class="toctext">How It Works</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Installation"><span class="tocnumber">2</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#DjVu_Manipulations"><span class="tocnumber">3</span> <span class="toctext">DjVu Manipulations</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Convert_DjVu_to_images"><span class="tocnumber">3.1</span> <span class="toctext">Convert DjVu to images</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Processing_Images"><span class="tocnumber">3.2</span> <span class="toctext">Processing Images</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Make_DjVu_from_Images"><span class="tocnumber">3.3</span> <span class="toctext">Make DjVu from Images</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="How_It_Works">How It Works</span></h2>
<p>From <a rel="nofollow" class="external text" href="http://wiki.mobileread.com/wiki/DJVU">MobileRead Wiki's DjVU Page</a>
</p>
<dl><dd>DjVu starts by segmenting a page into layers.</dd></dl>
<pre>   Foreground layer includes text, line art and other thin, low-color elements.
   Background layer includes photos, graphics, tint, and paper texture. Areas of the background that are covered by the foreground are smoothly interpolated to minimize coding costs. Lower resolution is used on this layer. 
</pre>
<dl><dd>Then the foreground layer is further divided into black and white mask layer and a color mask layer.</dd></dl>
<dl><dd>Once everything is separated different compression techniques are used on the different layers. For example the black and white stuff that looks like text or repeated graphics is compressed using pattern matching. Repeats are stored once as individual elements in another layer and then placed on the page by just referencing the location. Using this "dictionary" of shapes permits high compression, typically 100 to 1, with precise reproduction.</dd></dl>
<dl><dd>The foreground color layer is compressed using a similar technique to JPEG 2000. The background layer is compressed using a technique that typically 3 times better than classic JPEG.</dd></dl>
<dl><dd>These techniques permit a visually better image than JPEG with much less storage.</dd></dl>
<dl><dd>DjVu supports an OCR hidden XML text layer that permits text searching, indexing etc and works even with color text. The OCR is superior to traditional approaches on colored background.</dd></dl>
<dl><dd>When separate layers are not needed the format is called IW44. </dd></dl>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>There are several packages that can be installed to enable use of the DjVu format.
</p>
<ul>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=djvulibre">djvulibre</a></span> a suite to create, manipulate and view DjVu documents.</li>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=pdf2djvu">pdf2djvu</a></span> a tool used to create DjVu files from PDF files.</li>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=djview">djview</a></span> a portable DjVu viewer and browser plugin.</li>
</ul>
<p>Read each tool's man to find additional information.
</p>
<h2><span class="mw-headline" id="DjVu_Manipulations">DjVu Manipulations</span></h2>
<h3><span class="mw-headline" id="Convert_DjVu_to_images">Convert DjVu to images</span></h3>
<p>Break Djvu into separate pages:
</p>
<pre> djvmcvt -i input.djvu /path/to/out/dir output-index.djvu
</pre>
<p>Convert Djvu pages into images:
</p>
<pre> ddjvu --format=tiff page.djvu page.tiff
</pre>
<p>Convert Djvu pages into PDF:
</p>
<pre> ddjvu --format=pdf inputfile.djvu ouputfile.pdf
</pre>
<p>You can also use <i>--page</i> to export specific pages:
</p>
<pre> ddjvu --format=tiff --page=1-10 input.djvu output.tiff
</pre>
<p>this will convert pages from 1 to 10 into one tiff file.
</p>
<h3><span class="mw-headline" id="Processing_Images">Processing Images</span></h3>
<p>You can use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=scantailor">scantailor</a></span> to:
</p>
<ul>
<li> fix orientation</li>
<li> split pages</li>
<li> deskew</li>
<li> crop</li>
<li> adjust margins</li>
</ul>
<h3><span class="mw-headline" id="Make_DjVu_from_Images">Make DjVu from Images</span></h3>
<p>There is a useful script <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/img2djvu-git/">img2djvu-git</a></span><sup><small>AUR</small></sup>.
</p>
<pre> img2djvu -c1 -d600 -v1 ./out
</pre>
<p>it will create 600dpi out.djvu from all files in ./out directory.
</p>
<p>Alternatively, you can try <a rel="nofollow" class="external text" href="http://jwilk.net/software/didjvu">didjvu</a>, which seems to create smaller files especially on images with well defined background.
</p>
</div>
<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Office.html" title="Category:Office">Office</a></li></ul>
</div></div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
