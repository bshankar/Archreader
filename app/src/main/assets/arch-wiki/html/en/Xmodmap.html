<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>xmodmap - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Xmodmap skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">xmodmap</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p><span></span>
</p>
<div style="width:45%; margin: 0 0 0.5em 0.5em;">
<p style="background:#333; color:white; padding:0.2em; border-bottom:5px #08c solid; margin:0; text-align:center; font-weight:bold;">Related articles</p>
<ul style="list-style-type:none; margin:0; padding:0.3em;">
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Xorg.html" title="Xorg">Xorg</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Extra_keyboard_keys.html" title="Extra keyboard keys">Extra keyboard keys</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Extra_keyboard_keys_in_Xorg.html" title="Extra keyboard keys in Xorg">Extra keyboard keys in Xorg</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Extra_keyboard_keys_in_console.html" title="Extra keyboard keys in console">Extra keyboard keys in console</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Xbindkeys.html" title="Xbindkeys">Xbindkeys</a></li>
</ul>
</div>
<p><i>xmodmap</i> is a utility for modifying keymaps and pointer button mappings in <a href="../en/Xorg.html" title="Xorg">Xorg</a>.
</p>
<p><i>xmodmap</i> is not directly related to <a href="../en/X_KeyBoard_extension.html" title="X KeyBoard extension">X KeyBoard extension</a> (XKB), as it uses different (pre-XKB) ideas on how <i>keycodes</i> are processed within X. Generally, it is only recommended for the simplest tasks. See <a href="../en/X_KeyBoard_extension.html" title="X KeyBoard extension">X KeyBoard extension</a> for advanced layout configuration.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong><i>xmodmap</i> settings are reset by <i>setxkbmap</i>, which not only alters the alphanumeric keys to the values given in the map, but also resets all other keys to the startup default. <a rel="nofollow" class="external autonumber" href="http://wiki.linuxquestions.org/wiki/Configuring_keyboards">[1]</a>
</div>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Installation"><span class="tocnumber">2</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Keymap_table"><span class="tocnumber">3</span> <span class="toctext">Keymap table</span></a></li>
<li class="toclevel-1 tocsection-4">
<a href="#Custom_table"><span class="tocnumber">4</span> <span class="toctext">Custom table</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Activating_the_custom_table"><span class="tocnumber">4.1</span> <span class="toctext">Activating the custom table</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Test_changes"><span class="tocnumber">4.2</span> <span class="toctext">Test changes</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Modifier_keys"><span class="tocnumber">5</span> <span class="toctext">Modifier keys</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Reverse_scrolling"><span class="tocnumber">6</span> <span class="toctext">Reverse scrolling</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Swapping_mouse_buttons"><span class="tocnumber">7</span> <span class="toctext">Swapping mouse buttons</span></a></li>
<li class="toclevel-1 tocsection-10">
<a href="#Templates"><span class="tocnumber">8</span> <span class="toctext">Templates</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Spanish"><span class="tocnumber">8.1</span> <span class="toctext">Spanish</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Turn_CapsLock_into_Control"><span class="tocnumber">8.2</span> <span class="toctext">Turn CapsLock into Control</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Turn_CapsLock_into_Control.2C_and_LeftControl_into_Hyper"><span class="tocnumber">8.3</span> <span class="toctext">Turn CapsLock into Control, and LeftControl into Hyper</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Switch_every_number_key_N_with_Shift-N_and_vice-versa.2C_for_Croatian_layout"><span class="tocnumber">8.4</span> <span class="toctext">Switch every number key N with Shift-N and vice-versa, for Croatian layout</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#See_also"><span class="tocnumber">9</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p>There are two types of keyboard values in <a href="../en/Xorg.html" title="Xorg">Xorg</a>: <i>keycodes</i> and <i>keysyms</i>.
</p>
<dl>
<dt> keycode </dt>
<dd> The <i>keycode</i> is the numeric representation received by the kernel when a key or a mouse button is pressed.</dd>
<dt> keysym</dt>
<dd> The <i>keysym</i> is the value assigned to the <i>keycode</i>. For example, pressing <code>A</code> generates the <code>keycode 73</code>, which is mapped to the <code>keysym 0Ã—61</code>, which matches <code>A</code> in the <a href="https://en.wikipedia.org/wiki/ASCII" class="extiw" title="wikipedia:ASCII">ASCII table</a>.</dd>
<dd> The <i>keysyms</i> are managed by <a href="../en/Xorg.html" title="Xorg">Xorg</a> in a table of <i>keycodes</i> defining the <i>keycode</i>-<i>keysym</i> relations, which is called the <a href="#Keymap_table">keymap table</a>. This can be shown by running <code>xmodmap</code>.</dd>
</dl>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><i>xmodmap</i> can be <a href="../en/Pacman.html" title="Pacman">installed</a> through the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=xorg-xmodmap">xorg-xmodmap</a></span> package from the <a href="../en/Official_repositories.html" title="Official repositories">official repositories</a>.
</p>
<p>Optionally, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=xkeycaps">xkeycaps</a></span>, which is a graphical front-end to <i>xmodmap</i>.
</p>
<h2><span class="mw-headline" id="Keymap_table">Keymap table</span></h2>
<p>Print the current keymap table formatted into expressions:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ xmodmap -pke</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[...]
keycode  57 = n N
[...]</pre>
<p>Each <i>keycode</i> is followed by the <i>keysym</i> it is mapped to. The above example indicates that the <i>keycode</i> <code>57</code> is mapped to the lowercase <code>n</code>, while the uppercase <code>N</code> is mapped to <i>keycode</i> <code>57</code> plus <code>Shift</code>.
</p>
<p>Each <i>keysym</i> column in the table corresponds to a particular combination of modifier keys:
</p>
<ol>
<li> <code>Key</code>
</li>
<li> <code>Shift+Key</code>
</li>
<li> <code>mode_switch+Key</code>
</li>
<li> <code>mode_switch+Shift+Key</code>
</li>
<li> <code>AltGr+Key</code>
</li>
<li> <code>AltGr+Shift+Key</code>
</li>
</ol>
<p>Not all <i>keysyms</i> have to be set, but to assign only a latter <i>keysym</i>, use the <code>NoSymbol</code> value.
</p>
<p>To see which <i>keycode</i> corresponds to a key, see <a href="../en/Extra_keyboard_keys.html#In_Xorg" title="Extra keyboard keys">Extra keyboard keys#In Xorg</a> for details on the <i>xev</i> utility which will output relevant keycode/keysym information about a key when you press it.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDFFDD; border: thin solid #BBDDBB; overflow: hidden;">
<strong> Tip: </strong>There are predefined descriptive <i>keysyms</i> for multimedia keys, e.g. <code>XF86AudioMute</code> or <code>XF86Mail</code>. These <i>keysyms</i> can be found in <code>/usr/include/X11/XF86keysym.h</code>. Many multimedia programs are designed to work with these <i>keysyms</i> out-of-the-box, without the need to configure any third-party application.
</div>
<p>Note that xmodmap is influenced by xkbd settings, so all eight keysym are available for the us(intl) xkbd layout but not for the default us (it is missing the ralt_switch symbol defined in level3). To have all 8 keysyms available you should configure the <i>(intl)</i> variant of the keyboard from xorg.conf or add, using us layout as an example, <code>setxkbmap -layout 'us(intl)'</code> before calling xmodmap.
</p>
<h2><span class="mw-headline" id="Custom_table">Custom table</span></h2>
<p>To create a key map (i.e. <code>~/.Xmodmap</code>):
</p>
<pre>$ xmodmap -pke &gt; ~/.Xmodmap
</pre>
<p>To test the changes:
</p>
<pre>$ xmodmap ~/.Xmodmap
</pre>
<h3><span class="mw-headline" id="Activating_the_custom_table">Activating the custom table</span></h3>
<p>With <a href="../en/GDM.html" title="GDM">GDM</a>, <a href="../en/XDM.html" title="XDM">XDM</a>, <a href="../en/KDM.html" title="KDM">KDM</a> or <a href="../en/LightDM.html" title="LightDM">LightDM</a> there is no need to source <code>~/.Xmodmap</code>. For <a href="../en/Xinit.html" title="Startx" class="mw-redirect">startx</a>, use:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.xinitrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
[[ -f ~/.Xmodmap ]] &amp;&amp; xmodmap ~/.Xmodmap
</pre>
<p>Alternatively, edit the global startup script <code>/etc/X11/xinit/xinitrc</code>.
</p>
<h3><span class="mw-headline" id="Test_changes">Test changes</span></h3>
<p>To make temporary changes:
</p>
<pre>$ xmodmap -e "keycode  46 = l L l L lstroke Lstroke lstroke"
$ xmodmap -e "keysym a = e E"
</pre>
<h2><span class="mw-headline" id="Modifier_keys">Modifier keys</span></h2>
<p><i>xmodmap</i> can also be used to override <a href="https://en.wikipedia.org/wiki/Modifier_key" class="extiw" title="wikipedia:Modifier key">modifier keys</a>, e.g. to swap <code>Control</code> and <code>Super</code> (the <a href="https://en.wikipedia.org/wiki/Windows_key" class="extiw" title="wikipedia:Windows key">Windows keys</a>).
</p>
<p>Before assignment the modifier keys need to be empty. <code>!</code> is a comment, so only the modifiers <code>Control</code> and <code>Mod4</code> get cleared in the following example. Then the <i>keysyms</i> <code>Control_L</code>, <code>Control_R</code>, <code>Super_L</code> and <code>Super_R</code> are assigned to the opposite modifier. Assigning both left and right to the same modifier means that both keys are treated the same way.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.Xmodmap</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[...]
!clear Shift
!clear Lock
clear Control
!clear Mod1
!clear Mod2
!clear Mod3
clear Mod4
!clear Mod5
!add Shift   = Shift_L Shift_R
!add Lock    = Caps_Lock
add Control = Super_L Super_R
!add Mod1    = Alt_L Alt_R
!add Mod2    = Mode_switch
!add Mod3    =
add Mod4    = Control_L Control_R
!add Mod5    =</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>The example assumes that the <code>Control_L</code> and <code>Control_R</code> keysyms were assigned to the <code>Control</code> modifier, and <code>Super_L</code> and <code>Super_R</code> keysyms to the <code>Mod4</code> modifier. If you get the following error message <code>X Error of failed request:  BadValue (integer parameter out of range for operation)</code>, you will need to adapt accordingly. Running <code>xmodmap</code> produces a list of modifiers and keys that are assigned to them.</div>
<p>The following example modifies <code>CapsLock</code> to <code>Control</code>, and <code>Shift+CapsLock</code> to <code>CapsLock</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.Xmodmap</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">clear lock
clear control
add control = Caps_Lock Control_L Control_R
keycode 66 = Control_L Caps_Lock NoSymbol NoSymbol</pre>
<h2><span class="mw-headline" id="Reverse_scrolling">Reverse scrolling</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" width="48" height="48"></a><b>This article or section is a candidate for merging with <a href="../en/Mouse_buttons.html" title="Mouse buttons">Mouse buttons</a>.</b><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" width="48" height="48"></a></p>
<div>
<b>Notes:</b> xmodmap is not the only way to do this. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Xmodmap">Talk:Xmodmap#</a>)</div>
</div>
<p>The <a rel="nofollow" class="external text" href="http://who-t.blogspot.com/2011/09/natural-scrolling-in-synaptics-driver.html">natural scrolling</a> feature available in OS X Lion (mimicking smartphone or tablet scrolling) can be <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=126258">replicated</a> with <i>xmodmap</i>. Since the synaptics driver uses the buttons 4/5/6/7 for up/down/left/right scrolling, you simply need to swap the order of how the buttons are declared in <code>~/.Xmodmap</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.Xmodmap</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">pointer = 1 2 3 <b>5 4</b> 7 6 8 9 10 11 12</pre>
<p>Then update <i>xmodmap</i>:
</p>
<pre>$ xmodmap ~/.Xmodmap
</pre>
<h2><span class="mw-headline" id="Swapping_mouse_buttons">Swapping mouse buttons</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" width="48" height="48"></a><b>This article or section is a candidate for merging with <a href="../en/Mouse_buttons.html" title="Mouse buttons">Mouse buttons</a>.</b><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" width="48" height="48"></a></p>
<div>
<b>Notes:</b> xmodmap is not the only way to do this. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Xmodmap">Talk:Xmodmap#</a>)</div>
</div>
<p>The left, middle and right mouse buttons correspond to buttons 1,2 and 3 respectively in the synaptics driver. To swap left and right mouse buttons, again simply reverse the order in which they are listed in your <code>~/.Xmodmap</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.Xmodmap</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">pointer = <b>3 2 1</b></pre>
<p>This should suffice for a simple mouse setup. Again, update <i>xmodmap</i>:
</p>
<pre>$ xmodmap ~/.Xmodmap
</pre>
<h2><span class="mw-headline" id="Templates">Templates</span></h2>
<h3><span class="mw-headline" id="Spanish">Spanish</span></h3>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.Xmodmap</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
keycode  24 = a A aacute Aacute ae AE ae
keycode  26 = e E eacute Eacute EuroSign cent EuroSign
keycode  30 = u U uacute Uacute downarrow uparrow downarrow
keycode  31 = i I iacute Iacute rightarrow idotless rightarrow
keycode  32 = o O oacute Oacute oslash Oslash oslash
keycode  57 = n N ntilde Ntilde n N n
keycode  58 = comma question comma questiondown dead_acute dead_doubleacute dead_acute
keycode  61 = exclam section exclamdown section dead_belowdot dead_abovedot dead_belowdot
!Maps the Mode key to the Alt key
keycode 64 = Mode_switch
</pre>
<h3><span class="mw-headline" id="Turn_CapsLock_into_Control">Turn CapsLock into Control</span></h3>
<p>Simplest example of changing <code>CapsLock</code> into <code>Control</code>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.Xmodmap</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
clear lock
clear control
keycode 66 = Control_L
add control = Control_L Control_R
</pre>
<h3><span class="mw-headline" id="Turn_CapsLock_into_Control.2C_and_LeftControl_into_Hyper">Turn CapsLock into Control, and LeftControl into Hyper</span></h3>
<p>Laptop users may prefer having <code>CapsLock</code> as <code>Control</code>. The <code>Left Hyper</code> key can be used as a modifier.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.Xmodmap</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
clear      lock 
clear   control
clear      mod1
clear      mod2
clear      mod3
clear      mod4
clear      mod5
keycode      37 = Hyper_L
keycode      66 = Control_L
add     control = Control_L Control_R
add        mod1 = Alt_L Alt_R Meta_L
add        mod2 = Num_Lock
add        mod3 = Hyper_L
add        mod4 = Super_L Super_R
add        mod5 = Mode_switch ISO_Level3_Shift
</pre>
<h3><span class="mw-headline" id="Switch_every_number_key_N_with_Shift-N_and_vice-versa.2C_for_Croatian_layout">Switch every number key N with Shift-N and vice-versa, for Croatian layout</span></h3>
<p>Should work fine for layouts similar to Croatian as well.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.Xmodmap</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
keycode 10 = exclam 1 1 exclam asciitilde dead_tilde asciitilde
keycode 11 = quotedbl 2 2 quotedbl dead_caron caron dead_caron
keycode 12 = numbersign 3 3 numbersign asciicircum dead_circumflex asciicircum
keycode 13 = dollar 4 4 dollar dead_breve breve dead_breve
keycode 14 = percent 5 5 percent degree dead_abovering degree
keycode 15 = ampersand 6 6 ampersand dead_ogonek ogonek dead_ogonek
keycode 16 = slash 7 7 slash grave dead_grave grave
keycode 17 = parenleft 8 8 parenleft dead_abovedot abovedot dead_abovedot
keycode 18 = parenright 9 9 parenright dead_acute apostrophe dead_acute
keycode 19 = equal 0 0 equal dead_doubleacute doubleacute dead_doubleacute
</pre>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li>
<a rel="nofollow" class="external text" href="http://www.x.org/archive/current/doc/man/man1/xmodmap.1.xhtml">Current man page</a> at X.Org Foundation</li>
<li>
<a rel="nofollow" class="external text" href="http://cweiske.de/howto/xmodmap/allinone.html">Multimediakeys with .Xmodmap HOWTO</a> by Christian Weiske</li>
<li>
<a rel="nofollow" class="external text" href="http://dev-loki.blogspot.com/2006/04/mapping-unsupported-keys-with-xmodmap.html">Mapping unsupported keys with xmodmap</a> by Pascal Bleser</li>
<li>
<a rel="nofollow" class="external text" href="http://wiki.linuxquestions.org/wiki/List_of_Keysyms_Recognised_by_Xmodmap">List of Keysyms Recognised by Xmodmap</a> on <a rel="nofollow" class="external text" href="http://linuxquestions.org">LinuxQuestions</a>
</li>
</ul>

</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Keyboards.html" title="Category:Keyboards">Keyboards</a></li>
<li><a href="../en/Category:X_server.html" title="Category:X server">X server</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Merge.html" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li></ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
