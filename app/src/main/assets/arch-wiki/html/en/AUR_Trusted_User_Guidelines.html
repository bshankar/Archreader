<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>AUR Trusted User Guidelines - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-AUR_Trusted_User_Guidelines skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">AUR Trusted User Guidelines</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div style="width:45%; margin: 0 0 0.5em 0.5em;">
<p style="background:#333; color:white; padding:0.2em; border-bottom:5px #08c solid; margin:0; text-align:center; font-weight:bold;">Related articles</p>
<ul style="list-style-type:none; margin:0; padding:0.3em;">
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Arch_User_Repository.html" title="Arch User Repository">Arch User Repository</a></li>
</ul>
</div>
<p><b>Trusted Users (TU)</b> are members of the community charged with keeping the AUR in working order. They maintain popular packages (<a rel="nofollow" class="external text" href="https://mailman.archlinux.org/pipermail/aur-general/2010-September/010649.html">communicating with and sending patches upstream as needed</a>), and vote in administrative matters. A TU is elected from active community members by current TUs in a democratic process. TUs are the only members who have a final say in the direction of the AUR.
</p>
<p>The TUs are governed using the <a rel="nofollow" class="external text" href="https://aur.archlinux.org/trusted-user/TUbylaws.html">TU bylaws</a>
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#TODO_list_for_new_Trusted_Users"><span class="tocnumber">1</span> <span class="toctext">TODO list for new Trusted Users</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#The_TU_and_.5Bunsupported.5D"><span class="tocnumber">2</span> <span class="toctext">The TU and [unsupported]</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#The_TU_and_.5Bcommunity.5D.2C_Guidelines_for_Package_Maintenance"><span class="tocnumber">3</span> <span class="toctext">The TU and [community], Guidelines for Package Maintenance</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Rules_for_Packages_Entering_the_.5Bcommunity.5D_Repo"><span class="tocnumber">3.1</span> <span class="toctext">Rules for Packages Entering the [community] Repo</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Accessing_and_Updating_the_Repository"><span class="tocnumber">3.2</span> <span class="toctext">Accessing and Updating the Repository</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Disowning_packages"><span class="tocnumber">3.3</span> <span class="toctext">Disowning packages</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Moving_packages_from_unsupported_to_.5Bcommunity.5D"><span class="tocnumber">3.4</span> <span class="toctext">Moving packages from unsupported to [community]</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Moving_packages_from_.5Bcommunity.5D_to_unsupported"><span class="tocnumber">3.5</span> <span class="toctext">Moving packages from [community] to unsupported</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Moving_packages_from_.5Bcommunity-testing.5D_to_.5Bcommunity.5D"><span class="tocnumber">3.6</span> <span class="toctext">Moving packages from [community-testing] to [community]</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Deleting_packages_from_unsupported"><span class="tocnumber">3.7</span> <span class="toctext">Deleting packages from unsupported</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#See_also"><span class="tocnumber">3.8</span> <span class="toctext">See also</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="TODO_list_for_new_Trusted_Users">TODO list for new Trusted Users</span></h2>
<ol>
<li> Read this entire wiki article.</li>
<li> Read the <a rel="nofollow" class="external text" href="https://aur.archlinux.org/trusted-user/TUbylaws.html">TU Bylaws</a>.</li>
<li> Make sure your account details on the <a href="../en/Arch_User_Repository.html" title="AUR" class="mw-redirect">AUR</a> are up-to-date.</li>
<li> Add yourself to the <a href="../en/Trusted_Users.html" title="Trusted Users">Trusted Users</a> page.</li>
<li> Subscribe to the public mailing list for Arch Linux development, <a rel="nofollow" class="external text" href="https://lists.archlinux.org/listinfo/arch-dev-public">arch-dev-public</a>.</li>
<li> Remind a <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/userlist.php?username=&amp;show_group=1&amp;sort_by=username&amp;sort_dir=ASC&amp;search=Submit">BBS admin</a> to change your account on forums.</li>
<li> Ask some TU for the #archlinux-tu@freenode key and hang out with us in the channel. You do not have to do this, but it would be neat since this is where most dark secrets are spilled and where many new ideas are conceived.</li>
<li> Create a PGP key for <a href="../en/Pacman/Package_signing.html" title="Package signing" class="mw-redirect">package signing</a>.</li>
<li> Send Ionuț Bîru (ibiru@archlinux.org) or Florian Pritz (bluewind@xinu.at) with all the information based on this <a rel="nofollow" class="external text" href="https://www.archlinux.org/trustedusers/">template</a> to have access on dev interface (archweb).</li>
<li> Send a signed email to Florian:
<ul>
<li> Attach one SSH public key. If you do not have one, use <code>ssh-keygen</code> to generate one. Check the <a href="../en/SSH_keys.html" title="Using SSH Keys" class="mw-redirect">Using SSH Keys</a> wiki page for more information about SSH keys.</li>
<li> Ask him to whitelist you from arch-dev-public.</li>
<li> Tell him if you want an @archlinux.org email.</li>
</ul>
</li>
<li> Ask your sponsor:
<ul>
<li> to give you TU status on the AUR.</li>
<li> to open a new task in the "Keyring" project of the bug tracker following the instructions in <a rel="nofollow" class="external text" href="https://lists.archlinux.org/pipermail/arch-dev-public/2013-September/025456.html">this message</a> in order to have your PGP key signed by three master key holders.</li>
</ul>
</li>
<li> Install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=devtools">devtools</a></span> package.</li>
<li> <a href="../en/Arch_User_Repository.html#Authentication" title="Arch User Repository">Configure your private ssh key</a> for <code>orion.archlinux.org</code> and <code>repos.archlinux.org</code> hosts.</li>
<li> Ssh to yourname@orion.archlinux.org (once you have permissions). Make the directories <code>~/staging/community</code> and <code>~/staging/community-testing</code> (and <code>~/staging/multilib</code> if you are interested in maintaining multilib packages). This step is <b>important</b> as the devtools scripts use this directory to process incoming packages.</li>
<li> If you are not upgraded to a Trusted User group on bug tracker in two days, report this as a bug to arch-dev-public.</li>
<li> Start contributing!</li>
</ol>
<h2><span class="mw-headline" id="The_TU_and_.5Bunsupported.5D">The TU and [unsupported]</span></h2>
<p>The TUs should also make an effort to check package submissions in UNSUPPORTED for malicious code and good PKGBUILDing standards.  In around 80% of cases the PKGBUILDs in the UNSUPPORTED are very simple and can be quickly checked for sanity and malicious code by the TU team.
</p>
<p>TUs should also check PKGBUILDs for minor mistakes, suggest corrections and improvements.  The TU should endeavor to confirm that all pkgs follow the Arch Packaging Guidelines/Standards and in doing so share their skills with other package builders in an effort to raise the standard of package building across the distro.
</p>
<p>TUs are also in an excellent position to document recommended practices.
</p>
<h2><span class="mw-headline" id="The_TU_and_.5Bcommunity.5D.2C_Guidelines_for_Package_Maintenance">The TU and [community], Guidelines for Package Maintenance</span></h2>
<h3><span class="mw-headline" id="Rules_for_Packages_Entering_the_.5Bcommunity.5D_Repo">Rules for Packages Entering the [community] Repo</span></h3>
<ul><li> A package must not already exist in any of the Arch Linux repositories. You should take necessary precautions to ensure no other packager is in the process of promoting the same package. Double-check the AUR package comments, read the latest subject headings in <a rel="nofollow" class="external text" href="https://mailman.archlinux.org/mailman/listinfo/aur-general">aur-general</a>, search <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/index.php?project=0&amp;do=index&amp;switch=1">all projects in the bugtracker</a>, <a href="https://en.wikipedia.org/wiki/Grep" class="extiw" title="wikipedia:Grep">grep</a> the <a rel="nofollow" class="external text" href="http://svnbook.red-bean.com/en/1.7/svn.ref.svn.c.log.html">Subversion log</a>, and send a quick message to the private TU <a href="../en/IRC_channel.html" title="IRC channel">IRC channel</a>.</li></ul>
<ul><li> Only "popular" packages may enter the repo, as defined by 1% usage from <a rel="nofollow" class="external text" href="https://www.archlinux.de/?page=PackageStatistics">pkgstats</a> or 10 votes on the AUR.</li></ul>
<ul><li> Automatic exceptions to this rule are:
<ul>
<li> i18n packages</li>
<li> accessibility packages</li>
<li> drivers</li>
<li> dependencies of packages who satisfy the definition of popular, including makedeps and optdeps</li>
<li> packages that are part of a collection and are intended to be distributed together, provided a part of this collection satisfies the definition of popular</li>
</ul>
</li></ul>
<ul><li> Any additions not covered by the above criteria must first be proposed on the aur-general mailing list, explaining the reason for the exemption (e.g. renamed package, new package). The agreement of three other TUs is required for the package to be accepted into [community]. Proposed additions from TUs with large numbers of "non-popular" packages are more likely to be rejected.</li></ul>
<ul><li> TUs are strongly encouraged to move packages they currently maintain from [community] if they have low usage. No enforcement will be made, although resigning TUs packages may be filtered before adoption can occur.</li></ul>
<ul><li> It is good practice to always bump the <b>pkgrel</b> by <i>1</i> (in other words, set it to <i>n + 1</i>) when promoting a package from AUR. This is to facilitate automatic updates for those who already have the package installed, so that they may continue to receive updates from the official channel. Another positive effect of this is that users are not warned that their local copy is newer, as is the case if a packager does reset the <b>pkgrel</b> to <i>1</i>.</li></ul>
<h3><span class="mw-headline" id="Accessing_and_Updating_the_Repository">Accessing and Updating the Repository</span></h3>
<p>The [community] repository now uses <b>devtools</b> which is the same system used for uploading packages to [core] and [extra], except that it uses another server <code>nymeria.archlinux.org</code> instead of <code>gerolde.archlinux.org</code>. Thus most of the instructions in <a href="../en/DeveloperWiki:HOWTO_Be_A_Packager.html" title="DeveloperWiki:HOWTO Be A Packager">Packager Guide</a> work without any change. Information which is specific for the [community] repository (like changed URLs) have been put here. The devtools require packagers to <a href="../en/Arch_Build_System.html#Set_the_PACKAGER_variable_in_.2Fetc.2Fmakepkg.conf" title="Arch Build System">set the PACKAGER variable</a>. This is done in <code>/etc/makepkg.conf</code> for system-wide configuration, or in <code>~/.makepkg.conf</code> for user specific configuration.
</p>
<p>Initially you should do a <b>non-recursive checkout</b> of the [community] repository:
</p>
<pre>svn checkout -N svn+ssh://svn-community@repos.archlinux.org/srv/repos/svn-community/svn svn-community
</pre>
<p>This creates a directory named "svn-community" which contains nothing but a ".svn" folder.
</p>
<p>For <b>checking</b> out, <b>updating</b> all packages or <b>adding</b> a package see the <a href="../en/DeveloperWiki:HOWTO_Be_A_Packager.html" title="DeveloperWiki:HOWTO Be A Packager">Packager Guide</a>.
</p>
<p>To <b>remove</b> a package:
</p>
<pre>ssh nymeria.archlinux.org /community/db-repo-remove community arch pkgname
</pre>
<p>Here and in the following text, <i>arch</i> can be one of <i>i686</i> or <i>x86_64</i> which are the two architectures supported by Arch Linux.
</p>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> What about the "any" architecture? (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:AUR_Trusted_User_Guidelines">Talk:AUR Trusted User Guidelines#</a>)</div>
</div>
<p>When you are done with editing the PKGBUILD, etc., you should <b>commit</b> the changes (<code>svn commit</code>).
</p>
<p>Build the package with <code>mkarchroot</code> or the helper scripts <code>extra-i686-build</code> and <code>extra-x86_64-build</code>.
</p>
<p>Sign the package with <code>gpg --detach-sign *.pkg.tar.xz</code>. If you are using a different PGP key for package signing you can add it to <code>~/.makepkg.conf</code> with <code>GPGKEY=&lt;identifier&gt;</code>.
</p>
<p>When you want to <b>release</b> a package, first copy the package along with its signatures  to the <i>staging/community</i> directory on <i>nymeria.archlinux.org</i> using <code>scp</code> and then <b>tag</b> the package by going to the <i>pkgname/trunk</i> directory and issuing <code>archrelease community-arch</code>. This makes an svn copy of the trunk entries in a directory named <i>community-i686</i> or <i>community-x86_64</i> indicating that this package is in the community repository for that architecture.
</p>
<p><i><b>Note:</b> In some cases, especially for community packages, an x86_64 TU might bump the pkgrel by .1 (and not +1). This indicates that the change to the PKGBUILD is x86_64 specific and i686 maintainers <b>should not</b> rebuild the package for i686. When the TU decides to bump the pkgrel, it should be done with the usual increment of +1. However, a previous pkgrel=2.1 must not become pkgrel=3.1 when bumped by the TU and must instead be pkgrel=3. In a nutshell, leave dot (.) releases exclusive to the x86_64 TU's to avoid confusion.</i>
</p>
<p><b>Package update summary:</b>
</p>
<ul>
<li> <b>Update</b> the package directory: <code>svn update some-package</code>.</li>
<li> <b>Change</b> to the package trunk directory: <code>cd some-package/trunk</code>.</li>
<li> <b>Edit</b> the PKGBUILD, make necessary changes</li>
<li> <b>Build</b> the package: either <code>makechrootpkg</code> or <code>extra-i686-build</code> and <code>extra-x86_64-build</code>. It is <b>mandatory</b> to build in a <a href="../en/DeveloperWiki:Building_in_a_Clean_Chroot.html" title="DeveloperWiki:Building in a Clean Chroot">clean chroot</a>.</li>
<li> <b><a href="../en/Namcap.html" title="Namcap">Namcap</a></b> the PKGBUILD and the binary <code>pkg.tar.gz</code>.</li>
<li> <b>Commit</b>, <b>Sign</b>, <b>Copy</b> and <b>Tag</b> the package using <code>communitypkg "commit message"</code>. This automates the following:
<ul>
<li> <b>Commit</b> the changes to trunk: <code>svn commit</code>.</li>
<li> <b>Sign</b> the package: <code>gpg --detach-sign *.pkg.tar.xz</code>.</li>
<li> <b>Copy</b> the package and its signature to <i>nymeria.archlinux.org</i>: <code>scp *.pkg.tar.xz *.pkg.tar.xz.sig nymeria.archlinux.org:staging/community/</code>.</li>
<li> <b>Tag</b> the package: <code>archrelease community-{i686,x86_64</code>}.</li>
</ul>
</li>
<li> <b>Update</b> the repository: <code>ssh nymeria.archlinux.org /community/db-update</code>.</li>
</ul>
<p>Also see the <i>Miscellaneous</i> section in the <a href="../en/DeveloperWiki:HOWTO_Be_A_Packager.html" title="DeveloperWiki:HOWTO Be A Packager">Packager Guide</a>. For the section <i>Avoid having to enter your password all the time</i> use <i>nymeria.archlinux.org</i> instead of <i>gerolde.archlinux.org</i>.
</p>
<h3><span class="mw-headline" id="Disowning_packages">Disowning packages</span></h3>
<p>If a TU cannot or does not want to maintain a package any longer, a notice should be posted to the AUR Mailing List, so another TU can
maintain it. A package can still be disowned even if no other TU wants to maintain it, but the TUs should try not to drop many packages (they should not take on more than they have time for). If a package has become obsolete or is not used any longer, it can be removed completely as well.
</p>
<p>If a package has been removed completely, it can be uploaded once again (fresh) to UNSUPPORTED, where a regular user can maintain the package instead of the TU.
</p>
<h3><span class="mw-headline" id="Moving_packages_from_unsupported_to_.5Bcommunity.5D">Moving packages from unsupported to [community]</span></h3>
<p>Follow the normal procedures for adding a package community, but remember to delete the corresponding package from unsupported!
</p>
<h3><span class="mw-headline" id="Moving_packages_from_.5Bcommunity.5D_to_unsupported">Moving packages from [community] to unsupported</span></h3>
<p>Remove the package using the instructions above and upload your source to the AUR.
</p>
<h3><span class="mw-headline" id="Moving_packages_from_.5Bcommunity-testing.5D_to_.5Bcommunity.5D">Moving packages from [community-testing] to [community]</span></h3>
<pre>ssh nymeria.archlinux.org /srv/repos/svn-community/dbscripts/db-move community-testing community package
</pre>
<h3><span class="mw-headline" id="Deleting_packages_from_unsupported">Deleting packages from unsupported</span></h3>
<p>There is no point in removing dummy packages, because they will be re-created in an attempt to track dependencies. If someone uploads a
real package then all dependents will point to the correct place.
</p>
<h3><span class="mw-headline" id="See_also">See also</span></h3>
<ul><li> <a href="../en/DeveloperWiki.html#Packaging_Guidelines" title="DeveloperWiki">DeveloperWiki#Packaging Guidelines</a>
</li></ul>

</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Package_development.html" title="Category:Package development">Package development</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li></ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
