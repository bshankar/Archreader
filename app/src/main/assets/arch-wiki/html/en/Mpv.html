<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>mpv - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Mpv skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">mpv</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p><span></span>
</p>
<div style="width:45%; margin: 0 0 0.5em 0.5em;">
<p style="background:#333; color:white; padding:0.2em; border-bottom:5px #08c solid; margin:0; text-align:center; font-weight:bold;">Related articles</p>
<ul style="list-style-type:none; margin:0; padding:0.3em;">
<li style="padding:0.4em 0; line-height:1;"><a href="../en/MPlayer.html" title="MPlayer">MPlayer</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="http://mpv.io/">mpv</a> is a media player based on <a href="../en/MPlayer.html" title="MPlayer">MPlayer</a> and MPlayer2. It supports a wide variety of video file formats, audio and video codecs, and subtitle types. A comprehensive (although admittedly incomplete) list of differences between <i>mpv</i> and the aforementioned players can be found <a rel="nofollow" class="external text" href="https://github.com/mpv-player/mpv/blob/master/DOCS/mplayer-changes.rst">here</a>.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Front_ends"><span class="tocnumber">1.1</span> <span class="toctext">Front ends</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3">
<a href="#Configuration"><span class="tocnumber">2</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#An_example_input.conf_file"><span class="tocnumber">2.1</span> <span class="toctext">An example input.conf file</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#mpv_and_PulseAudio_since_0.18.1"><span class="tocnumber">2.2</span> <span class="toctext">mpv and PulseAudio since 0.18.1</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6">
<a href="#Tips_and_Tricks"><span class="tocnumber">3</span> <span class="toctext">Tips and Tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Hardware_Decoding"><span class="tocnumber">3.1</span> <span class="toctext">Hardware Decoding</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#High_quality_video_output"><span class="tocnumber">3.2</span> <span class="toctext">High quality video output</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Automatically_resuming_from_where_you_left_off"><span class="tocnumber">3.3</span> <span class="toctext">Automatically resuming from where you left off</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Volume_is_too_low"><span class="tocnumber">3.4</span> <span class="toctext">Volume is too low</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Quickly_cycle_between_multiple_aspect_ratio"><span class="tocnumber">3.5</span> <span class="toctext">Quickly cycle between multiple aspect ratio</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Drawing_to_a_root_window"><span class="tocnumber">3.6</span> <span class="toctext">Drawing to a root window</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Always_show_GUI"><span class="tocnumber">3.7</span> <span class="toctext">Always show GUI</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Restoring_old_OSC"><span class="tocnumber">3.8</span> <span class="toctext">Restoring old OSC</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Use_as_a_browser_plugin"><span class="tocnumber">3.9</span> <span class="toctext">Use as a browser plugin</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Improving_mpv_as_a_music_player_with_Lua_scripts"><span class="tocnumber">3.10</span> <span class="toctext">Improving mpv as a music player with Lua scripts</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Twitch.tv_streaming_over_mpv"><span class="tocnumber">3.11</span> <span class="toctext">Twitch.tv streaming over mpv</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#youtube-dl_and_choosing_formats"><span class="tocnumber">3.12</span> <span class="toctext">youtube-dl and choosing formats</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#youtube-dl_audio_with_search"><span class="tocnumber">3.13</span> <span class="toctext">youtube-dl audio with search</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Use_mpv_with_a_compositor"><span class="tocnumber">3.14</span> <span class="toctext">Use mpv with a compositor</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-21">
<a href="#Vapoursynth"><span class="tocnumber">4</span> <span class="toctext">Vapoursynth</span></a>
<ul>
<li class="toclevel-2 tocsection-22"><a href="#Debanding_.28flash3kyuu.29"><span class="tocnumber">4.1</span> <span class="toctext">Debanding (flash3kyuu)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-23">
<a href="#Troubleshooting"><span class="tocnumber">5</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-24"><a href="#Fix_jerky_playback_and_tearing"><span class="tocnumber">5.1</span> <span class="toctext">Fix jerky playback and tearing</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=mpv">mpv</a></span> package from the <a href="../en/Official_repositories.html" title="Official repositories">official repositories</a> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mpv-git/">mpv-git</a></span><sup><small>AUR</small></sup> from the <a href="../en/Arch_User_Repository.html" title="Arch User Repository">Arch User Repository</a>.
</p>
<h3><span class="mw-headline" id="Front_ends">Front ends</span></h3>
<p><i>mpv</i> provides an elegant User Interface called OSC which appears when moving the mouse. To ease casual users, other graphical interfaces exist:
</p>
<ul><li> <b>Baka MPlayer</b> — Free and open source, cross-platform, <i>libmpv</i> based multimedia player (Qt 5).</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="http://bakamplayer.u8sand.net/">http://bakamplayer.u8sand.net/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=baka-mplayer">baka-mplayer</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/baka-mplayer-git/">baka-mplayer-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li> <b>bomi</b> — Powerful and easy to use multimedia player (Qt 5).</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://bomi-player.github.io/">https://bomi-player.github.io/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/bomi/">bomi</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/bomi-git/">bomi-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li> <b>GNOME MPV</b> — A simple frontend for <i>mpv</i> (GTK+ 3).</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="http://gnome-mpv.github.io/">http://gnome-mpv.github.io/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gnome-mpv/">gnome-mpv</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gnome-mpv-git/">gnome-mpv-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li> <b>Media Player Classic Qute Theater</b> — A clone of <a href="https://en.wikipedia.org/wiki/Media_Player_Classic" class="extiw" title="wikipedia:Media Player Classic">Media Player Classic</a> reimplimented in Qt.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/cmdrkotori/mpc-qt">https://github.com/cmdrkotori/mpc-qt</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mpc-qt-git/">mpc-qt-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li> <b><a href="https://en.wikipedia.org/wiki/SMPlayer" class="extiw" title="wikipedia:SMPlayer">SMPlayer</a></b> — Qt multimedia player with extra features (CSS themes, YouTube integration, etc.) (Qt 5).</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="http://smplayer.sourceforge.net/">http://smplayer.sourceforge.net/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=smplayer">smplayer</a></span>
</dd></dl>
<ul><li> <b>xt7-player-mpv</b> — Qt/Gambas GUI to mpv with a rich set of configurable options including filters and drivers, ladspa plugins support as well as library/playlist managment, YouTube, online radios, podcasts, DVB-T and more.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/kokoko3k/xt7-player-mpv">https://github.com/kokoko3k/xt7-player-mpv</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xt7-player-mpv-git/">xt7-player-mpv-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>CMPlayer/<i>bomi</i> packages provide <i>mpv</i> internally.</div>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p><i>mpv'</i>s configuration is read from the files <code>mpv.conf</code> (<a rel="nofollow" class="external text" href="https://raw.githubusercontent.com/mpv-player/mpv/master/etc/mpv.conf">example</a>) (settings), <code>input.conf</code> (key bindings), and <code>lua-settings/osc.conf</code> (<a rel="nofollow" class="external text" href="https://raw.githubusercontent.com/mpv-player/mpv/master/etc/input.conf">example</a>) (on screen display).  For a full list of options, see the <span class="plainlinks archwiki-template-man" title="$ man 1 mpv"><a rel="nofollow" class="external text" href="https://mpv.io/manual/master/">mpv(1)</a></span> or the github docs <a rel="nofollow" class="external text" href="https://github.com/mpv-player/mpv/blob/master/DOCS/man/options.rst">options.rst</a>, <a rel="nofollow" class="external text" href="https://github.com/mpv-player/mpv/blob/master/DOCS/man/input.rst">input.rst</a>, and <a rel="nofollow" class="external text" href="https://github.com/mpv-player/mpv/blob/master/DOCS/man/osc.rst">osc.rst</a>.
</p>
<p>If the <a href="../en/Environment_variables.html" title="Environment variable" class="mw-redirect">environment variable</a> <code>XDG_CONFIG_HOME</code> is not set, user configuration files will be read from the <code>~/.config/mpv</code> directory. System-wide configuration files are read from the <code>/etc/mpv</code> directory.
</p>
<h3><span class="mw-headline" id="An_example_input.conf_file">An example input.conf file</span></h3>
<p>Copying the following into <code>~/.config/mpv/input.conf</code> will add a number of useful keybindings to mpv such as rotating video 90 degrees, zooming and panning.
</p>
<pre>Alt+RIGHT add video-rotate 90
Alt+LEFT add video-rotate -90
Alt+- add video-zoom -0.25
Alt+= add video-zoom 0.25
Alt+j add video-pan-x -0.05
Alt+l add video-pan-x 0.05
Alt+i add video-pan-y 0.05
Alt+k add video-pan-y -0.05
</pre>
<h3><span class="mw-headline" id="mpv_and_PulseAudio_since_0.18.1">mpv and PulseAudio since 0.18.1</span></h3>
<p>This entry only applies if you are using pulseaudio for mpv (<code>-ao=pulse</code> or <code>ao=pulse</code> in <code>mpv.conf</code>).
</p>
<p>Add the following to your <code>~/.config/mpv/input.conf</code> to make volume changes work again from PulseAudio to mpv and vice versa:
</p>
<pre>/ add ao-volume -2
SHIFT+* add ao-volume 2
</pre>
<p>Change the above to whatever volume keys you use. The above is the default of MPV only handles by "softvol" and with those lines handled by PulseAudio.
</p>
<h2><span class="mw-headline" id="Tips_and_Tricks">Tips and Tricks</span></h2>
<h3><span class="mw-headline" id="Hardware_Decoding">Hardware Decoding</span></h3>
<p>See <a href="../en/Hardware_video_acceleration.html" title="Hardware video acceleration">Hardware video acceleration</a>.
</p>
<p>Unlike <i>mplayer</i> and <i>mplayer2</i>, <i>mpv</i> has both VA-API and VDPAU support built-in. To enable it, run <i>mpv</i> with the <code>--hwdec='method'</code> option. You can find list of all available methods looking for <code>--hwdec=&lt;api&gt;</code> in <a href="../en/Man_page.html" title="Man page">man page</a> <span class="plainlinks archwiki-template-man" title="$ man 1 mpv"><a rel="nofollow" class="external text" href="https://mpv.io/manual/master/">mpv(1)</a></span>. To make this persistent, add the line <code>hwdec=<i>method</i></code> to your configuration file. 
</p>
<p>When hardware decoding is used, the video output should generally be set to <code>opengl</code> or <code>opengl-hq</code> (or possibly <code>vdpau</code> if using <code>hwdec=vdpau</code>). In particular, <code>hwdec=vaapi</code> should be used with <code>vo=opengl</code> <a rel="nofollow" class="external autonumber" href="https://github.com/mpv-player/mpv/blob/master/DOCS/man/vo.rst">[1]</a> if possible. 
</p>
<p>If hardware decoding cannot be used, <i>mpv</i> will automatically fall back to software decoding.
</p>
<p>By default, hardware decoding is enabled for codecs h264, vc1, wmv3, hevc, mpeg2video and vp9. It is however possible to specify codecs (e.g. <code>--hwdec-codecs=h264,mpeg2video</code>) or allow all codecs (<code>hwdec-codecs=all</code>) to use hardware decoding.
</p>
<h3><span class="mw-headline" id="High_quality_video_output">High quality video output</span></h3>
<p>The <code>opengl-hq</code> profile is a high quality preset which use the OpenGL video driver and enables various options selected by the mpv developers. To make use of it, specify it in your configuration file.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/mpv/mpv.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">profile=opengl-hq</pre>
<p>This comes with a GLSL debanding filter by default, which may lead to bad performance for some users, and can reduce the visual quality of grainy content. You can disable it easily though.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/mpv/mpv.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">profile=opengl-hq
deband=no</pre>
<h3><span class="mw-headline" id="Automatically_resuming_from_where_you_left_off">Automatically resuming from where you left off</span></h3>
<p>The default key to quit <i>mpv</i>, saving the video's current position and state, is <code>Shift+q</code>. This key can be changed by adding the <code>quit_watch_later</code> string in the key bindings configuration file.
</p>
<p>To always automatically save the current playback position on quit, start <i>mpv</i> with a flag <code>--save-position-on-quit</code>. To make option permanent, add line <code>save-position-on-quit</code> to configuration file.
</p>
<h3><span class="mw-headline" id="Volume_is_too_low">Volume is too low</span></h3>
<p>Set <code>volume-max=<i>value</i></code> in your configuration file to a reasonable amount, such as <code>volume-max=600</code>. Additionally (or alternatively), you can utilize <a href="https://en.wikipedia.org/wiki/Dynamic_range_compression" class="extiw" title="wikipedia:Dynamic range compression">dynamic range compression</a> with <code>af=drc</code>.
</p>
<h3><span class="mw-headline" id="Quickly_cycle_between_multiple_aspect_ratio">Quickly cycle between multiple aspect ratio</span></h3>
<p>You can cycle between aspect ratios using <code>Shift+a</code> from version 0.8.0 onwards.
</p>
<h3><span class="mw-headline" id="Drawing_to_a_root_window">Drawing to a root window</span></h3>
<p>Run <i>mpv</i> with <code>--wid=0</code>. This tells <i>mpv</i> to draw onto a window with a window ID of 0.
</p>
<h3><span class="mw-headline" id="Always_show_GUI">Always show GUI</span></h3>
<p>It may be useful to always show the GUI window, even for audio files, especially when <i>mpv</i> is not started from terminal. This can be done by using <code>--force-window</code> option.
</p>
<h3><span class="mw-headline" id="Restoring_old_OSC">Restoring old OSC</span></h3>
<p>Since version 0.21.0, mpv has replaced the on-screen controls by a bottombar. In case you want on-screen controls back, you can edit the mpv configuration <a rel="nofollow" class="external text" href="https://github.com/mpv-player/mpv/wiki/FAQ#i-want-the-old-osc-back">as described here</a>.
</p>
<h3><span class="mw-headline" id="Use_as_a_browser_plugin">Use as a browser plugin</span></h3>
<p>With the help of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mozplugger/">mozplugger</a></span><sup><small>AUR</small></sup>, <i>mpv</i> can be used in a supported browser to play video. See <a href="../en/Browser_plugins.html#MozPlugger" title="Browser plugins">Browser plugins#MozPlugger</a> for configuration details. This coupled with a user script such as <a rel="nofollow" class="external text" href="http://isebaro.com/viewtube/?ln=en">ViewTube</a>, allows you to use <i>mpv</i> in place of a site's integrated video player.
</p>
<p>It may be needed to specify a valid user agent for HTTP streaming, e.g. <code>user-agent="Mozilla/5.0 (X11; Linux x86_64; rv:49.0) Gecko/20100101 Firefox/49.0"</code>.
</p>
<p><a href="../en/Browser_plugins.html#Video_players_workarounds" title="Browser plugins">Browser plugins#Video players workarounds</a> page shows other easy ways to watch videos.
</p>
<h3><span class="mw-headline" id="Improving_mpv_as_a_music_player_with_Lua_scripts">Improving mpv as a music player with Lua scripts</span></h3>
<p>The development of mpv's Lua scripts are documented in <a rel="nofollow" class="external text" href="https://github.com/mpv-player/mpv/blob/master/DOCS/man/lua.rst">DOCS/man/lua.rst</a>
and examples are shown in <a rel="nofollow" class="external text" href="https://github.com/mpv-player/mpv/tree/master/TOOLS/lua">TOOLS/lua</a>
of the <a rel="nofollow" class="external text" href="https://github.com/mpv-player/mpv">mpv repository</a>.
<a rel="nofollow" class="external text" href="https://web.archive.org/web/20160320001546/http://bamos.github.io/2014/07/05/mpv-lua-scripting/">This blog post</a> introduces the
<a rel="nofollow" class="external text" href="https://github.com/bamos/dotfiles/blob/master/.mpv/scripts/music.lua">music.lua</a> script,
which shows how Lua scripts can be used to improve mpv as a music player.
</p>
<h3><span class="mw-headline" id="Twitch.tv_streaming_over_mpv">Twitch.tv streaming over mpv</span></h3>
<p>If <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=youtube-dl">youtube-dl</a></span> is installed, mpv can directly open a Twitch livestream.
</p>
<p>Alternatively, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=livestreamer">livestreamer</a></span> can be used to stream Twitch. See <a href="../en/Livestreamer.html#Twitch" title="Livestreamer">Livestreamer#Twitch</a>.
</p>
<p>Another alternative based on Livestreamer is this Lua script: <a rel="nofollow" class="external free" href="https://gist.github.com/ChrisK2/8701184fe3ea7701c9cc">https://gist.github.com/ChrisK2/8701184fe3ea7701c9cc</a>
</p>
<h3><span class="mw-headline" id="youtube-dl_and_choosing_formats">youtube-dl and choosing formats</span></h3>
<p>The default <code>--ytdl-format</code> is <code>bestvideo+bestaudio/best</code>. For youtube videos that have 4K resolutions available, this may mean that your device will struggle to decode 4K VP9 encoded video in software even if the attached monitor is much lower resolution.
</p>
<p>Setting the right youtube-dl format selectors can fix this easily though. In the following configuration example, only videos with a vertical resolution of 1080 pixels or less will be considered.
</p>
<pre>ytdl-format=bestvideo[height&lt;=?1080]+bestaudio/best
</pre>
<p>If you wish to avoid a certain codec altogether because you cannot hardware-decode it, you can add this to the format selector. For example, we can additionally choose to ignore VP9 as follows:
</p>
<pre>ytdl-format=bestvideo[height&lt;=?1080][vcodec!=vp9]+bestaudio/best
</pre>
<h3><span class="mw-headline" id="youtube-dl_audio_with_search">youtube-dl audio with search</span></h3>
<p>To find and play audio straight from your terminal with <code>mm "<i>search terms</i>"</code> put the following function in your <code>.bashrc</code>:
</p>
<pre>function mm() {
    mpv --no-video --ytdl-format=bestaudio ytdl://ytsearch10:"$@"
}
</pre>
<h3><span class="mw-headline" id="Use_mpv_with_a_compositor">Use mpv with a compositor</span></h3>
<p>If you're using a compositor (e.g. in KDE Plasma 5) and find that composition is disabled (e.g. in Plasma this would make you unable to present windows or see window thumbnails in the default app switcher) when mpv is playing a video, try <code>x11-bypass-compositor=no</code>
</p>
<h2><span class="mw-headline" id="Vapoursynth">Vapoursynth</span></h2>
<p>Vapoursynth is an alternative to AviSynth that can be used on Linux and allows for Video manipulation via python scripts. Vapoursynths python scripts can be used as video filters for <i>mpv</i>.
</p>
<p>To use vapoursynth filters you have to install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=vapoursynth">vapoursynth</a></span> package and compile <i>mpv</i> with the <code>--enable-vapoursynth</code> build flag. 
</p>
<h3><span class="mw-headline" id="Debanding_.28flash3kyuu.29">Debanding (flash3kyuu)</span></h3>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Mpv already include a debanding shader which is enabled by default with the <a href="../en/Mpv.html#High_quality_video_output" title="Mpv">opengl-hq profile</a>. Refer to the manual for more information on how to tune it.</div>
<p>To use the <code>f3k_db</code> debanding filter install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=vapoursynth-plugin-f3kdb">vapoursynth-plugin-f3kdb</a></span> and write a python script that uses the <i>vapoursynth</i> extension.
</p>
<p>The following sample script can be used to enable debanding in <i>mpv</i>.
</p>
<pre>import vapoursynth as vs
core = vs.get_core()

clip = video_in
clip = core.std.Trim(clip, first=0, length=500000)
clip = core.f3kdb.Deband(clip, grainy=0, grainc=0, output_depth=16)
clip.set_output()
</pre>
<p>Finally specify the python script in the config file or use a command line argument when executing mpv.
</p>
<pre>$ mpv --vf=vapoursynth=f3k_db.py &lt;video_file&gt;
</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Fix_jerky_playback_and_tearing">Fix jerky playback and tearing</span></h3>
<p>mpv defaults to using the opengl video output device setting on hardware that supports it. In cases such as trying to play video back on a 4K display using a Intel HD4XXX series card or similar, you will find video playback unreliable, jerky to the point of stopping entirely at times and with major tearing when using any opengl output setting. If you experience any of these issues, using the xv (XVideo) video output device may help.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/mpv/mpv.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">vo=xv</pre>
<p>It is possible to increase decoding performance (especially on lower hardware), but this may affect the video quality. See the <a href="../en/Mpv.html#Configuration" title="Mpv">configuration section</a> for information about the available options.
</p>
<p>The following options can be considered to increase video performance:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/mpv/mpv.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">vd-lavc-fast
vd-lavc-skiploopfilter=&lt;skipvalue&gt;
vd-lavc-skipframe=&lt;skipvalue&gt;
vd-lavc-framedrop=&lt;skipvalue&gt;
vd-lavc-threads=&lt;threads&gt;</pre>

</div>
<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Multimedia_players.html" title="Category:Multimedia players">Multimedia players</a></li></ul>
</div></div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
