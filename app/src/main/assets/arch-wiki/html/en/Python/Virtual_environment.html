<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Python/Virtual environment - ArchWiki</title>
<link rel="stylesheet" href="../../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Python_Virtual_environment skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 2em; margin-bottom: 0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Python/Virtual environment</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"><span class="subpages">&lt; <a href="../../en/Python.html" title="Python">Python</a></span></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p><i>virtualenv</i> is a tool used to create an isolated workspace for a <a href="../../en/Python.html" title="Python">Python</a> application. It has various advantages such as the ability to install modules locally, export a working environment, and execute a <a href="../../en/Python.html" title="Python">Python</a> program in that environment.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Installation"><span class="tocnumber">2</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Packages"><span class="tocnumber">2.1</span> <span class="toctext">Packages</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4">
<a href="#Usage"><span class="tocnumber">3</span> <span class="toctext">Usage</span></a>
<ul>
<li class="toclevel-2 tocsection-5">
<a href="#Creation"><span class="tocnumber">3.1</span> <span class="toctext">Creation</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#pyvenv"><span class="tocnumber">3.1.1</span> <span class="toctext">pyvenv</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#virtualenv"><span class="tocnumber">3.1.2</span> <span class="toctext">virtualenv</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8"><a href="#Activation"><span class="tocnumber">3.2</span> <span class="toctext">Activation</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Python_versions"><span class="tocnumber">4</span> <span class="toctext">Python versions</span></a></li>
<li class="toclevel-1 tocsection-10">
<a href="#virtualenvwrapper"><span class="tocnumber">5</span> <span class="toctext">virtualenvwrapper</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Installation_2"><span class="tocnumber">5.1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Basic_usage"><span class="tocnumber">5.2</span> <span class="toctext">Basic usage</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href="#See_also"><span class="tocnumber">6</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Overview">Overview</span></h2>
<p>A virtual environment is a directory into which some binaries and shell scripts are installed. The binaries include <i>python</i> for executing scripts and <i>pip</i> for installing other modules within the environment. There are also shell scripts (one for <a href="../../en/Bash.html" title="Bash">bash</a>, csh, and <a href="../../en/Fish.html" title="Fish">fish</a>) to activate the environment. Essentially, a virtual environment mimics a full system install of <a href="../../en/Python.html" title="Python">Python</a> and all of the desired modules without interfering with any system on which the application might run.
</p>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../../en/Python.html" title="Python">Python</a> 3.3+ comes with a tool called <i>pyvenv</i> and an API called <i>venv</i> for extending the native implementation. For applications that require an older version of Python, <i>virtualenv</i> must be used.
</p>
<h3><span class="mw-headline" id="Packages">Packages</span></h3>
<p><a href="../../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">Install</a> one of these packages from the <a href="../../en/Official_repositories.html" title="Official repositories">official repositories</a> to use a Python virtual environment.
</p>
<ul>
<li> Python 3.3+: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=python">python</a></span>
</li>
<li> Python 3: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=python-virtualenv">python-virtualenv</a></span>
</li>
<li> Python 2: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=python2-virtualenv">python2-virtualenv</a></span>
</li>
</ul>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>All three tools use a similar workflow.
</p>
<h3><span class="mw-headline" id="Creation">Creation</span></h3>
<p>Use <i>pyvenv</i> or <i>virtualenv</i> to create the virtual environment within your project directory. Be sure to exclude the venv directory from version control--a copy of <code>pip freeze</code> will be enough to rebuild it.
</p>
<h4><span class="mw-headline" id="pyvenv">pyvenv</span></h4>
<p>This tool is provided by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=python">python</a></span> (3.3+).
</p>
<pre>$ pyvenv venv
</pre>
<h4><span class="mw-headline" id="virtualenv">virtualenv</span></h4>
<p>Use <i>virtualenv</i> for Python 3, available in <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=python-virtualenv">python-virtualenv</a></span>.
</p>
<pre>$ virtualenv venv
</pre>
<p>And <i>virtualenv2</i> for Python 2, available in <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=python2-virtualenv">python2-virtualenv</a></span>.
</p>
<pre>$ virtualenv2 venv
</pre>
<h3><span class="mw-headline" id="Activation">Activation</span></h3>
<p>Use one of the provided shell scripts to activate and deactivate the environment. This example assumes bash is used.
</p>
<pre>$ source venv/bin/activate
(venv) $
</pre>
<p>Once inside the virtual environment, modules can be installed with <i>pip</i> and scripts can be run as normal.
</p>
<p>To exit the virtual environment, run the function provided by <code>bin/activate</code>:
</p>
<pre>(venv) $ deactivate
</pre>
<h2><span class="mw-headline" id="Python_versions">Python versions</span></h2>
<p>The binary versions depend on which virtual environment tool was used. For instance, the <i>python</i> command used in the Python 2 example points to <code>bin/python2.7</code>, while the one in the <i>pyvenv</i> example points to <code>bin/python3.5</code>.
</p>
<p>One major difference between <i>pyvenv</i> and <i>virtualenv</i> is that the former uses the system's Python binary by default:
</p>
<pre>$ ls -l pyvenv/bin/python3.5
lrwxrwxrwx 1 foo foo 7 Jun  3 19:57 pyvenv/bin/python3.5 -&gt; /usr/bin/python3
</pre>
<p>The <i>virtualenv</i> tool uses a separate Python binary in the environment directory:
</p>
<pre>$ ls -l venv3/bin/python3.5
lrwxrwxrwx 1 foo foo 7 Jun  3 19:58 venv3/bin/python3.5 -&gt; python3
</pre>
<h2><span class="mw-headline" id="virtualenvwrapper">virtualenvwrapper</span></h2>
<p><i>virtualenvwrapper</i> allows more natural command line interaction with your virtual environemnts by exposing several useful commands to create, activate and remove virtual environments. This package is a wrapper for both <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=python-virtualenv">python-virtualenv</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=python2-virtualenv">python2-virtualenv</a></span>.
</p>
<h3><span class="mw-headline" id="Installation_2">Installation</span></h3>
<p><a href="../../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=python-virtualenvwrapper">python-virtualenvwrapper</a></span> package from the <a href="../../en/Official_repositories.html" title="Official repositories">official repositories</a>.
</p>
<p>Now add the following lines to your <code>~/.bashrc</code>:
</p>
<pre>$ export WORKON_HOME=~/.virtualenvs
$ source /usr/bin/virtualenvwrapper.sh
</pre>
<p>Since python3 is a system-wide default in Arch, in order to be able to create python2 environments, you need to set <code>VIRTUALENVWRAPPER_PYTHON</code> and <code>VIRTUALENVWRAPPER_VIRTUALENV</code> prior to sourcing <code>virtualenvwrapper.sh</code> in your <code>~/.bashrc</code>:
</p>
<pre>export VIRTUALENVWRAPPER_PYTHON=/usr/bin/python2.7
export VIRTUALENVWRAPPER_VIRTUALENV=/usr/bin/virtualenv2
</pre>
<p>If you are not using python3 by default (check the output of <code>python --version</code>) you need to add the following line to your <code>~/.bashrc</code> prior sourcing the <code>virtualenvwrapper.sh</code> script.
</p>
<pre>export VIRTUALENVWRAPPER_PYTHON=/usr/bin/python3
</pre>
<p>Re-open your console and create the <code>WORKON_HOME</code> folder:
</p>
<pre>$ mkdir $WORKON_HOME
</pre>
<h3><span class="mw-headline" id="Basic_usage">Basic usage</span></h3>
<p>The main information source on virtualenvwrapper usage (and extension capability) is Doug Hellmann's <a rel="nofollow" class="external text" href="http://www.doughellmann.com/docs/virtualenvwrapper/">page</a>.
</p>
<p>Create the virtual environment:
</p>
<pre>$ mkvirtualenv -p /usr/bin/python2.7 my_env
</pre>
<p>Activate the virtual environment:
</p>
<pre>$ workon my_env
</pre>
<p>Install some package inside the virtual environment (say, Django):
</p>
<pre>(my_env) $ pip install django
</pre>
<p>After you have done your things, leave the virtual environment:
</p>
<pre>(my_env) $ deactivate
</pre>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li> <a rel="nofollow" class="external text" href="https://docs.python.org/3/library/venv.html">Python venv (pyvenv)</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://pypi.python.org/pypi/virtualenv">virtualenv Pypi page</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://wiki.pylonshq.com/display/pylonscookbook/Using+a+Virtualenv+Sandbox">Tutorial for virtualenv</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://www.doughellmann.com/docs/virtualenvwrapper/">virtualenvwrapper page at Doug Hellmann's</a>
</li>
</ul>

</div>
<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../../en/Category:Development.html" title="Category:Development">Development</a></li></ul>
</div></div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<ul id="f-list" style="margin: 0 2em">
									<li>
Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Python/Virtual_environment&amp;oldid=454568">https://wiki.archlinux.org/index.php?title=Python/Virtual_environment&amp;oldid=454568</a>"</li>
					<li id="lastmod"> This page was last modified on 20 October 2016, at 11:25.</li>
									<li id="copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
									<br><li id="privacy"><a href="../../en/ArchWiki:General_disclaimer.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="../../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
									<li id="disclaimer"><a href="../../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		</body>
</html>
