<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Dell XPS 13 (2016) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Dell_XPS_13_2016 skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Dell XPS 13 (2016)</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>This page refers to the early 2016 model of XPS 13. For the late 2016 model see <a href="../en/Dell_XPS_13_(4th_Gen).html" title="Dell XPS 13 (4th Gen)">Dell XPS 13 (4th Gen)</a>.</div>
<table class="wikitable" style="float: right;">
<tr>
<td> <b>Device</b> </td>
<td> <b>Status</b> </td>
<td> <b>Modules</b>
</td>
</tr>
<tr>
<td> Video </td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Works after configuration </td>
<td> i915
</td>
</tr>
<tr>
<td> Wireless </td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Works after configuration </td>
<td> brcmfmac
</td>
</tr>
<tr>
<td> Bluetooth </td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Works after installing firmware</td>
<td> btbcm
</td>
</tr>
<tr>
<td> Audio </td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working </td>
<td> snd_hda_intel
</td>
</tr>
<tr>
<td> Touchpad </td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Works after configuration </td>
<td> ?
</td>
</tr>
<tr>
<td> Webcam </td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working </td>
<td> uvcvideo
</td>
</tr>
<tr>
<td> Card Reader </td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working </td>
<td> rtsx_pci
</td>
</tr>
<tr>
<td> Wireless switch </td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working </td>
<td> intel_hid
</td>
</tr>
<tr>
<td> Function/Multimedia Keys </td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Working </td>
<td> ?
</td>
</tr>
</table>
<p><br>
</p>
<p>The Dell XPS 13 2016 (9350) is the third-generation model of the XPS 13 line. The laptop is available in both a standard edition with Windows installed as well as a Developer Edition which only differs in that it comes with Ubuntu installed as well as the Broadcom WiFi card replaced with an Intel WiFi card. Just like the older versions (<a href="../en/Dell_XPS_13.html" title="Dell XPS 13">Dell XPS 13</a> and <a href="../en/Dell_XPS_13_(2015).html" title="Dell XPS 13 (2015)">Dell XPS 13 (2015)</a>) it can be bought in different hardware configurations.
</p>
<p>The installation process for Arch on the XPS 13 does not differ from any other PC. For installation help, please see the <a href="../en/Installation_guide.html" title="Installation guide">Installation guide</a> and <a href="../en/Unified_Extensible_Firmware_Interface.html" title="UEFI" class="mw-redirect">UEFI</a>. This page covers the current status of hardware support on Arch, as well as post-installation recommendations.
</p>
<p>As of kernel 4.3, the Intel Skylake architecture is supported.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Content_adaptive_brightness_control"><span class="tocnumber">1</span> <span class="toctext">Content adaptive brightness control</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#BIOS"><span class="tocnumber">2</span> <span class="toctext">BIOS</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#USB_not_found"><span class="tocnumber">2.1</span> <span class="toctext">USB not found</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#No_UEFI_system_found"><span class="tocnumber">2.2</span> <span class="toctext">No UEFI system found</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Updates"><span class="tocnumber">2.3</span> <span class="toctext">Updates</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Thunderbolt_3_.2F_USB_3.1"><span class="tocnumber">3</span> <span class="toctext">Thunderbolt 3 / USB 3.1</span></a></li>
<li class="toclevel-1 tocsection-7">
<a href="#SATA_controller"><span class="tocnumber">4</span> <span class="toctext">SATA controller</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#Dual_booting_Linux_and_Windows"><span class="tocnumber">4.1</span> <span class="toctext">Dual booting Linux and Windows</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#NVM_Express_SSD"><span class="tocnumber">5</span> <span class="toctext">NVM Express SSD</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Cannot_find_root_device"><span class="tocnumber">5.1</span> <span class="toctext">Cannot find root device</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Note_on_Mount_Options"><span class="tocnumber">5.2</span> <span class="toctext">Note on Mount Options</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#NVME_Power_Saving_Patch"><span class="tocnumber">5.3</span> <span class="toctext">NVME Power Saving Patch</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href="#Wireless"><span class="tocnumber">6</span> <span class="toctext">Wireless</span></a></li>
<li class="toclevel-1 tocsection-14">
<a href="#Bluetooth"><span class="tocnumber">7</span> <span class="toctext">Bluetooth</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="#Intel_WiFi"><span class="tocnumber">7.1</span> <span class="toctext">Intel WiFi</span></a></li>
<li class="toclevel-2 tocsection-16">
<a href="#Broadcom_Wifi"><span class="tocnumber">7.2</span> <span class="toctext">Broadcom Wifi</span></a>
<ul>
<li class="toclevel-3 tocsection-17"><a href="#Wireless_headset:_strange_bluetooth_behavior"><span class="tocnumber">7.2.1</span> <span class="toctext">Wireless headset: strange bluetooth behavior</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-18">
<a href="#Video"><span class="tocnumber">8</span> <span class="toctext">Video</span></a>
<ul>
<li class="toclevel-2 tocsection-19"><a href="#Blank_screen_issue_after_booting"><span class="tocnumber">8.1</span> <span class="toctext">Blank screen issue after booting</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Linux_kernel_4.3_or_earlier"><span class="tocnumber">8.2</span> <span class="toctext">Linux kernel 4.3 or earlier</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Linux_kernel_4.5_or_earlier"><span class="tocnumber">8.3</span> <span class="toctext">Linux kernel 4.5 or earlier</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-22">
<a href="#Touchpad"><span class="tocnumber">9</span> <span class="toctext">Touchpad</span></a>
<ul>
<li class="toclevel-2 tocsection-23"><a href="#Remove_psmouse_errors_from_dmesg"><span class="tocnumber">9.1</span> <span class="toctext">Remove psmouse errors from dmesg</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Gestures"><span class="tocnumber">9.2</span> <span class="toctext">Gestures</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-25">
<a href="#Sound"><span class="tocnumber">10</span> <span class="toctext">Sound</span></a>
<ul>
<li class="toclevel-2 tocsection-26"><a href="#Hissing.2FCrackling_noises_when_using_headphones"><span class="tocnumber">10.1</span> <span class="toctext">Hissing/Crackling noises when using headphones</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#Loud_popping-noises_when_sound_was_not_playing"><span class="tocnumber">10.2</span> <span class="toctext">Loud popping-noises when sound was not playing</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-28"><a href="#Microphone"><span class="tocnumber">11</span> <span class="toctext">Microphone</span></a></li>
<li class="toclevel-1 tocsection-29"><a href="#CPU_slowdown_after_resume_from_suspend"><span class="tocnumber">12</span> <span class="toctext">CPU slowdown after resume from suspend</span></a></li>
<li class="toclevel-1 tocsection-30">
<a href="#Diverting_models"><span class="tocnumber">13</span> <span class="toctext">Diverting models</span></a>
<ul>
<li class="toclevel-2 tocsection-31"><a href="#XPS_12"><span class="tocnumber">13.1</span> <span class="toctext">XPS 12</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#Dell_XPS_15"><span class="tocnumber">13.2</span> <span class="toctext">Dell XPS 15</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#Dell_XPS_13_.282015.29"><span class="tocnumber">13.3</span> <span class="toctext">Dell XPS 13 (2015)</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#Dell_XPS_13_9360_.284th_Gen_-_late_2016.29"><span class="tocnumber">13.4</span> <span class="toctext">Dell XPS 13 9360 (4th Gen - late 2016)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-35">
<a href="#lspci_and_lsusb"><span class="tocnumber">14</span> <span class="toctext">lspci and lsusb</span></a>
<ul>
<li class="toclevel-2 tocsection-36"><a href="#lspci"><span class="tocnumber">14.1</span> <span class="toctext">lspci</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#lsusb"><span class="tocnumber">14.2</span> <span class="toctext">lsusb</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-38"><a href="#See_also"><span class="tocnumber">15</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Content_adaptive_brightness_control">Content adaptive brightness control</span></h2>
<p>In the XPS 13 the display panels (both FHD and QHD+) come with adaptive brightness embedded in the panel firmware, this "content adaptive brightness control" (usually referred to as CABC or DBC) will adjust the screen brightness depending on the content displayed on the screen and will generally be found undesirable, especially for Linux users who are likely to be switching between dark and light screen content. Dell has issued a fix for this however it is only available to run in Windows and for the QHD+ model of the laptop so this precaution should be taken before installing Linux, the FHD model of the XPS 13 (9350) cannot be fixed. This is not a problem with the panel but rather a problem with the way the panels are configured for the XPS 13, as the same panel exists in the Dell's Latitude 13 7000 series (e7370) FHD model but with CABC disabled. The fix is available directly from <a rel="nofollow" class="external text" href="http://www.dell.com/support/home/uk/en/ukdhs1/Drivers/DriversDetails?driverId=PWD5K&amp;fileId=3505631210&amp;osCode=W764&amp;productCode=xps-13-9350-laptop&amp;languageCode=en&amp;categoryId=AP">Dell</a>.
</p>
<h2><span class="mw-headline" id="BIOS">BIOS</span></h2>
<h3><span class="mw-headline" id="USB_not_found">USB not found</span></h3>
<p>It may happen that the Arch Linux USB won't be recognized. You have to disable secure boot (Secure Boot &gt; Disable) and then enable the legacy (General &gt; Advanced Boot Options &gt; Enable Legacy Option ROMs).
</p>
<h3><span class="mw-headline" id="No_UEFI_system_found">No UEFI system found</span></h3>
<p>Sometimes the BIOS UEFI does not respect the efivars. In this case you have manually add your efi file in BIOS boot options by going to General &gt; Boot Sequence &gt; Add Boot Option.
</p>
<h3><span class="mw-headline" id="Updates">Updates</span></h3>
<p><a rel="nofollow" class="external text" href="http://downloads.dell.com/FOLDER03769593M/1/XPS_9350_1.4.4.exe">BIOS update 1.4.4</a> was released on 2016-06-30. Store the update binary on your EFI partition (<code>/boot/EFI</code>) or on a USB flash drive, reboot, and choose BIOS Update in the F12 boot menu.
</p>
<h2><span class="mw-headline" id="Thunderbolt_3_.2F_USB_3.1">Thunderbolt 3 / USB 3.1</span></h2>
<p>The USB-C port supports Thunderbolt 3, Displayport-over-USB-C and USB power delivery as well as USB 3.1.
</p>
<p>In the event of devices not working correctly, ensure that you have updated to the latest BIOS (above) and Thunderbolt firmware (below).
</p>
<p><a rel="nofollow" class="external text" href="http://downloads.dell.com/FOLDER03798029M/1/Intel_TBT3_FW_UPDATE_NVM16_A04_2.16.01.003.exe">Thunderbolt 3 Firmware Update 2.16.01.003, A04</a> was released on 2016-08-10. Unlike the BIOS update, this is a graphical application which must be run in a modern Windows environment (MS-DOS will not suffice).
</p>
<p>Hotplug support for this port requires a <a rel="nofollow" class="external text" href="https://bugzilla.kernel.org/show_bug.cgi?id=115121">bug fix</a> which landed in kernel version 4.7. It also requires the kernel to be built with <tt>CONFIG_PCI_HOTPLUG=y</tt>.
</p>
<h2><span class="mw-headline" id="SATA_controller">SATA controller</span></h2>
<p>When the SATA-controller is set to <code>RAID On</code> in Bios, the hard disk (at least the SSD) is not recognized. Set to <code>Off</code> or <code>AHCI</code> (<code>AHCI</code> is recommended) before attempting to install Arch.
</p>
<h3><span class="mw-headline" id="Dual_booting_Linux_and_Windows">Dual booting Linux and Windows</span></h3>
<p>In order to boot into Windows properly without getting an <code>INACCESSIBLE_BOOT_DEVICE</code> error with disabled <code>RAID</code> you must configure Windows to use the <code>AHCI</code>-speaking SATA storage controller, assuming you used <code>AHCI</code> for installing Linux. The driver is effectively disabled even though it is installed. Either of the following methods were reported to activate the drivers without reinstallation (your mileage may vary):
</p>
<ul>
<li> <a rel="nofollow" class="external text" href="http://www.tenforums.com/drivers-hardware/15006-attn-ssd-owners-enabling-ahci-mode-after-windows-10-installation.html">booting into safe mode and back</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://samnicholls.net/2016/01/14/how-to-switch-sata-raid-to-ahci-windows-10-xps-13/">Selecting <code>Microsoft Storage Spaces Controller</code> in Windows Device Manager</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://www.tenforums.com/tutorials/22631-ahci-enable-windows-8-windows-10-after-installation.html">Modifying registry entries</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://superuser.com/questions/471102/change-from-ide-to-ahci-after-installing-windows-8/471108#471108">Modifying other registry entries</a>
</li>
</ul>
<p>Consult the <a rel="nofollow" class="external text" href="https://support.microsoft.com/en-us/kb/2795397">microsoft support</a> page for additional information. Be aware that some manufactures propagate reinstalling Windows to be the only solution, which it is not.
</p>
<h2><span class="mw-headline" id="NVM_Express_SSD">NVM Express SSD</span></h2>
<h3><span class="mw-headline" id="Cannot_find_root_device">Cannot find root device</span></h3>
<p>The location of the <code>nvme</code> module for <a href="https://en.wikipedia.org/wiki/NVM_Express" class="extiw" title="wikipedia:NVM Express">"NVM Express"</a> SSD has changed between <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=linux">linux</a></span> kernel version 4.3 and 4.4. If you experience "cannot find root device" on boot, it may be due to the <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/47761"><code>nvme</code> module not being present in <code>initramfs</code></a>. In this case, the following may resolve your issue.
</p>
<p>Edit your <code>/etc/mkinitcpio.conf</code> file:
</p>
<pre>   ...
   MODULES="... nvme"
   ...
</pre>
<p>Then update the bootloader.
</p>
<pre>   # mkinitcpio -p linux
</pre>
<p>where <code>linux</code> is the name of the image loaded on boot. If you installed <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linux-mainline/">linux-mainline</a></span><sup><small>AUR</small></sup> then change that to <code>linux-mainline</code>.
</p>
<h3><span class="mw-headline" id="Note_on_Mount_Options">Note on Mount Options</span></h3>
<p>Using the <code>discard</code> mount option for your filesystem is not recommended, as mentioned in <a href="../en/Solid_State_Drives.html#Continuous_TRIM" title="Solid State Drives">this warning</a> and <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1593544#p1593544">the forum</a>. See also <a href="../en/Solid_State_Drives/NVMe.html#Discards" title="Solid State Drives/NVMe">Solid State Drives/NVMe#Discards</a> for further information.
</p>
<h3><span class="mw-headline" id="NVME_Power_Saving_Patch">NVME Power Saving Patch</span></h3>
<p>Andy Lutomirski has released version 4 of his patchset which fixes powersaving for NVME devices in linux.  Currently, this patch is not merged into mainline yet.  Until it lands in mainline kernel use the AUR package below. 
<b>Linux-nvme</b> — Mainline linux kernel patched with Andy's patch for NVME powersaving APST.
</p>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/damige/linux-nvme">https://github.com/damige/linux-nvme</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linux-nvme/">linux-nvme</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h2><span class="mw-headline" id="Wireless">Wireless</span></h2>
<p>For the non-developer edition, the built-in Broadcom BCM4350 is now supported in the current <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=linux">linux</a></span> kernel (as of version 4.4.1-1). The wireless module <code>brcmfmac</code> also needs the firmware <code>brcmfmac4350-pcie.bin</code> from the related <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=linux-firmware">linux-firmware</a></span> package.
</p>
<p>The Broadcom adapter does not report its regulatory country and so, by default, the global settings for channels and frequencies will be set. See <a href="../en/Wireless_network_configuration.html#Respecting_the_regulatory_domain" title="Wireless network configuration">Wireless network configuration#Respecting the regulatory domain</a> for more information about how this can be changed.
</p>
<h2><span class="mw-headline" id="Bluetooth">Bluetooth</span></h2>
<h3><span class="mw-headline" id="Intel_WiFi">Intel WiFi</span></h3>
<p>If your WiFi card supports Bluetooth, then the BT interface should be available out-of-the-box, as the required firmware is included in <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=linux-firmware">linux-firmware</a></span>.
</p>
<h3><span class="mw-headline" id="Broadcom_Wifi">Broadcom Wifi</span></h3>
<p>Bluetooth should work right away. Load the module <code>btusb</code> and <code>bluetooth</code> if it was not already and <a href="../en/Systemd.html#Using_units" title="Start" class="mw-redirect">start</a>/<a href="../en/Systemd.html#Using_units" title="Enable" class="mw-redirect">enable</a> <code>bluetooth.service</code>. Refer to <a href="../en/Bluetooth.html" title="Bluetooth">Bluetooth</a> for more information and configuration options.
</p>
<h4><span class="mw-headline" id="Wireless_headset:_strange_bluetooth_behavior">Wireless headset: strange bluetooth behavior</span></h4>
<p>If your Bluetooth behaves unstable, such as connection loss, stuttering sound. being able to connect but not to listen through it, etc. you probably need the proprietary firmware.
</p>
<p>The Broadcom Bluetooth firmware is not available in the kernel (the same as for the 2015 model <a rel="nofollow" class="external text" href="http://tech.sybreon.com/2015/03/15/xps13-9343-ubuntu-linux/">source</a>), therefore you will have to retrieve it from a Windows <a rel="nofollow" class="external text" href="http://downloads.dell.com/FOLDER03272920M/1/9350_Network_Driver_XMJK7_WN32_12.0.1.720_A00.EXE">.exe</a>. You need to extract the <code>.exe</code> file with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=p7zip">p7zip</a></span> and then convert it to a <code>.hcd</code> file with <i>hex2hcd</i> from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=bluez-utils">bluez-utils</a></span>:
</p>
<pre>$ 7z x 9350_Network_Driver_XMJK7_WN32_12.0.1.720_A00.EXE
$ cp Win32/BCM4350C5_003.006.007.0095.1703.hex ./
$ hex2hcd BCM4350C5_003.006.007.0095.1703.hex
# mv BCM4350C5_003.006.007.0095.1703.hcd /lib/firmware/brcm/BCM-0a5c-6412.hcd
</pre>
<p>After reboot, the firmware should be available for your Bluetooth interface.
</p>
<h2><span class="mw-headline" id="Video">Video</span></h2>
<p>The video should work with the <code>i915</code> driver of the current <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=linux">linux</a></span> kernel. Consult <a href="../en/Intel_graphics.html" title="Intel graphics">Intel graphics</a> for a detailed installation and configuration guide as well as for <a href="../en/Intel_graphics.html#Troubleshooting" title="Intel graphics">Troubleshooting</a>.
</p>
<h3><span class="mw-headline" id="Blank_screen_issue_after_booting">Blank screen issue after booting</span></h3>
<p>If using "late start" <a href="../en/Kernel_mode_setting.html" title="KMS" class="mw-redirect">KMS</a> (the default) and the screen goes blank when loading modules, it may help to add <code>i915</code> and <code>intel_agp</code> to the initramfs or using a special <a href="../en/Kernel_parameters.html" title="Kernel parameter" class="mw-redirect">kernel parameter</a>. Consult <a href="../en/Intel_graphics.html#Blank_screen_during_boot.2C_when_.22Loading_modules.22" title="Intel graphics">Intel graphics#Blank screen during boot, when "Loading modules"</a> for more information about the kernel paramter way and have a look at <a href="../en/Kernel_mode_setting.html#Early_KMS_start" title="Kernel mode setting">Kernel mode setting#Early KMS start</a> for a guide on how to setup the modules for the initramfs.
</p>
<h3><span class="mw-headline" id="Linux_kernel_4.3_or_earlier">Linux kernel 4.3 or earlier</span></h3>
<p>If you are using an older kernel 4.3 or earlier, you also require the kernel parameter <code>i915.preliminary_hw_support=1</code>, see <a href="../en/Intel_graphics.html#Skylake_support" title="Intel graphics">Intel graphics#Skylake support</a>. (For later kernels 4.3+ or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linux-bcm4350/">linux-bcm4350</a></span><sup><small>AUR</small></sup> the parameter is unnecessary.)
</p>
<h3><span class="mw-headline" id="Linux_kernel_4.5_or_earlier">Linux kernel 4.5 or earlier</span></h3>
<p>If you have the newer i7-6560 CPU with Iris 540 graphics, the GPU hangs every few minutes with kernel versions before 4.6. This is probably due to this bug <a rel="nofollow" class="external free" href="https://bugs.freedesktop.org/show_bug.cgi?id=94161">https://bugs.freedesktop.org/show_bug.cgi?id=94161</a> and can be countered by either disabling DRI in your Xorg configuration:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/20-intel.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
Section "Device"
	Identifier  "Intel Graphics"
	Driver      "intel"
	Option	    "DRI"	"false"
EndSection
</pre>
<p>or by adding <code>i915.enable_rc6=0</code> to the kernel boot parameters.
</p>
<h2><span class="mw-headline" id="Touchpad">Touchpad</span></h2>
<p>Only key-presses work out of the box. Installing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=xf86-input-libinput">xf86-input-libinput</a></span> is sufficient for proper mouse support plus it also handles the touchscreen - see <a href="../en/Libinput.html" title="Libinput">libinput</a> for configuration. Features such as tap-to-click are usually adjustable within the <a href="../en/Desktop_environment.html" title="Desktop environment">desktop environment</a>.
</p>
<p>Alternatively you may want to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=xf86-input-synaptics">xf86-input-synaptics</a></span> as driver but "it is on maintenance mode and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=xf86-input-libinput">xf86-input-libinput</a></span> must be preferred over" (installation note from the package itself). Plus it may lack the ability to be easily adjustable within your <a href="../en/Desktop_environment.html" title="Desktop environment">desktop environment</a> (see <a href="../en/Dell_Studio_XPS_13.html" title="Dell Studio XPS 13">Dell Studio XPS 13</a>). Restarting the X server might be required.
</p>
<h3><span class="mw-headline" id="Remove_psmouse_errors_from_dmesg">Remove psmouse errors from dmesg</span></h3>
<p>If <code>dmesg | grep -i psmouse</code> returns an error, but your touchpad still works, then it might be a good idea to disable <code>psmouse</code>. First create a config file:
</p>
<pre>   # nano /etc/modprobe.d/modprobe.conf
   
   blacklist psmouse
</pre>
<p>Then add this file to <code>/etc/mkinitcpio.conf</code>:
</p>
<pre>   ...
   FILES="/etc/modprobe.d/modprobe.conf"
   ...
</pre>
<p>Rebuild your initial ramdisk image (see <a href="../en/Mkinitcpio.html#Image_creation_and_activation" title="Mkinitcpio">Mkinitcpio#Image creation and activation</a>).
</p>
<h3><span class="mw-headline" id="Gestures">Gestures</span></h3>
<p>Refer to <a href="../en/Libinput.html#Gestures" title="Libinput">libinput#Gestures</a> for information about the current development state and available methods.
</p>
<h2><span class="mw-headline" id="Sound">Sound</span></h2>
<h3><span class="mw-headline" id="Hissing.2FCrackling_noises_when_using_headphones">Hissing/Crackling noises when using headphones</span></h3>
<p>Some people reported white hissing/crackling noises when using headphones. To get rid of them you can run <code>alsamixer</code> from  <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=alsa-utils">alsa-utils</a></span>.
Select your soundcard with F6 and set the headset-gain to 22 (3rd lever from the left) or use the <code>amixer</code> command:
</p>
<pre> $ amixer -c 0 cset 'numid=10' 1
 numid=10,iface=MIXER,name='Headphone Mic Boost Volume'
   ; type=INTEGER,access=rw---R--,values=2,min=0,max=3,step=0
   : values=1,1
   | dBscale-min=0.00dB,step=10.00dB,mute=0
</pre>
<p>Unfortunately <a href="../en/PulseAudio.html" title="PulseAudio">PulseAudio</a> will override the above setting every time you log in/out of your environment (or every time the PulseAudio service is restarted), even if the <code>alsa-restore.service</code> is enabled at <a href="../en/Systemd.html#Using_units" title="Start" class="mw-redirect">start</a> up.
</p>
<p>To work around this issue, edit <code>/usr/share/pulseaudio/alsa-mixer/paths/analog-input-headphone-mic.conf</code> and comment out the section <code>[Element Headphone Mic Boost]</code>:
</p>
<pre> ---
 #[Element Headphone Mic Boost]
 #required-any = any
 #switch = select
 #volume = merge
 #override-map.1 = all
 #override-map.2 = all-left,all-right
 ---
</pre>
<p>Similarly in <code>/usr/share/pulseaudio/alsa-mixer/paths/analog-input-internal-mic.conf</code>, comment out the same section:
</p>
<pre> ---
 #[Element Headphone Mic Boost]
 #switch = off
 #volume = off
 ---
</pre>
<p>This will prevent PulseAudio to fiddle with the gain setting at all.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Unfortunately, you must make the same modifications every time the PulseAudio package is updated. Additionally, this will entirely disable the internal microphone.</div>
<h3><span class="mw-headline" id="Loud_popping-noises_when_sound_was_not_playing">Loud popping-noises when sound was not playing</span></h3>
<p>Also people noticed loud popping-noises when sound was not playing.
You can turn off the sound_power_save in through e.g. <code>tlp</code> 
</p>
<pre>   # nano /etc/default/tlp
   ...
   SOUND_POWER_SAVE_ON_BAT = 0 
   ...
</pre>
<h2><span class="mw-headline" id="Microphone">Microphone</span></h2>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong> Not all hardware has the "Digital" channel</div>
<p>For ALSA, increase "Digital" channel for microphone to work.
</p>
<h2><span class="mw-headline" id="CPU_slowdown_after_resume_from_suspend">CPU slowdown after resume from suspend</span></h2>
<p>If you are experiencing a very slow computer after resume from suspend, you may be subject to a bug where your CPU frequency is capped to a very low value. Use <code>cpupower frequency-info</code> to check. If so, please read <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1558948#p1558948">this forum thread</a> for debug information, and a workaround.
</p>
<h2><span class="mw-headline" id="Diverting_models">Diverting models</span></h2>
<h3><span class="mw-headline" id="XPS_12">XPS 12</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> The XPS 12 features a detachable keyboard. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Dell_XPS_13_(2016)">Talk:Dell XPS 13 (2016)#</a>)</div>
</div>
<h3><span class="mw-headline" id="Dell_XPS_15">Dell XPS 15</span></h3>
<p>Despite the similarities between the two devices they have quite different solutions for various problems, refer to <a href="../en/Dell_XPS_15.html" title="Dell XPS 15">Dell XPS 15</a> for more information.
</p>
<h3><span class="mw-headline" id="Dell_XPS_13_.282015.29">Dell XPS 13 (2015)</span></h3>
<p>Information about the predecessor is available at <a href="../en/Dell_XPS_13_(2015).html" title="Dell XPS 13 (2015)">Dell XPS 13 (2015)</a>.
</p>
<h3><span class="mw-headline" id="Dell_XPS_13_9360_.284th_Gen_-_late_2016.29">Dell XPS 13 9360 (4th Gen - late 2016)</span></h3>
<p>Information about the successor is available at <a href="../en/Dell_XPS_13_(4th_Gen).html" title="Dell XPS 13 (4th Gen)">Dell XPS 13 (4th Gen)</a>.
</p>
<p><br>
</p>
<h2><span class="mw-headline" id="lspci_and_lsusb">lspci and lsusb</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Output from <i>lspci</i> and <i>lsusb</i> for <b>one</b> model might be helpful. Different models' hardware (e.g. XPS 12 keyboard, XPS 15 screen) that are susceptible to need different instructions should be pointed out separately (not via a full second hardware output). Alternatively these could be added to <a href="../en/Laptop/Dell.html#XPS" title="Laptop/Dell">Laptop/Dell#XPS</a> (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Dell_XPS_13_(2016)#Thunderbolt_and_XPS_15.2F13">Talk:Dell XPS 13 (2016)#Thunderbolt and XPS 15.2F13</a>)</div>
</div>
<p>The <tt>lspci</tt> and <tt>lsusb</tt> below were take from the following system:
</p>
<pre>[    0.000000] DMI: Dell Inc. XPS 13 9350/0PWNCR, BIOS 1.3.3 03/01/2016
</pre>
<p>on kernel:
</p>
<pre>Linux marv 4.5.4-1-ARCH #1 SMP PREEMPT Wed May 11 22:21:28 CEST 2016 x86_64 GNU/Linux
</pre>
<p><br>
</p>
<h3><span class="mw-headline" id="lspci">lspci</span></h3>
<pre>00:00.0 Host bridge: Intel Corporation Skylake Host Bridge/DRAM Registers (rev 08)
00:02.0 VGA compatible controller: Intel Corporation Skylake Integrated Graphics (rev 07)
00:04.0 Signal processing controller: Intel Corporation Skylake Processor Thermal Subsystem (rev 08)
00:14.0 USB controller: Intel Corporation Sunrise Point-LP USB 3.0 xHCI Controller (rev 21)
00:14.2 Signal processing controller: Intel Corporation Sunrise Point-LP Thermal subsystem (rev 21)
00:15.0 Signal processing controller: Intel Corporation Sunrise Point-LP Serial IO I2C Controller #0 (rev 21)
00:15.1 Signal processing controller: Intel Corporation Sunrise Point-LP Serial IO I2C Controller #1 (rev 21)
00:16.0 Communication controller: Intel Corporation Sunrise Point-LP CSME HECI #1 (rev 21)
00:1c.0 PCI bridge: Intel Corporation Device 9d10 (rev f1)
00:1c.4 PCI bridge: Intel Corporation Sunrise Point-LP PCI Express Root Port #5 (rev f1)
00:1c.5 PCI bridge: Intel Corporation Sunrise Point-LP PCI Express Root Port #6 (rev f1)
00:1d.0 PCI bridge: Intel Corporation Device 9d18 (rev f1)
00:1f.0 ISA bridge: Intel Corporation Sunrise Point-LP LPC Controller (rev 21)
00:1f.2 Memory controller: Intel Corporation Sunrise Point-LP PMC (rev 21)
00:1f.3 Audio device: Intel Corporation Sunrise Point-LP HD Audio (rev 21)
00:1f.4 SMBus: Intel Corporation Sunrise Point-LP SMBus (rev 21)
3a:00.0 Network controller: Broadcom Corporation BCM4350 802.11ac Wireless Network Adapter (rev 08)
3b:00.0 Unassigned class [ff00]: Realtek Semiconductor Co., Ltd. RTS525A PCI Express Card Reader (rev 01)
3c:00.0 Non-Volatile memory controller: Samsung Electronics Co Ltd NVMe SSD Controller (rev 01)
</pre>
<p><a rel="nofollow" class="external text" href="https://gist.github.com/mgalgs/a903e3528f48aa25b5c0b9ae9c09a07f">Full output from sudo lspci -v</a>
</p>
<p>After plugging in a USB-C hub, a number of new PCI devices appear:
</p>
<pre>01:00.0 PCI bridge: Intel Corporation Device 1576
02:00.0 PCI bridge: Intel Corporation Device 1576
02:01.0 PCI bridge: Intel Corporation Device 1576
02:02.0 PCI bridge: Intel Corporation Device 1576
39:00.0 USB controller: Intel Corporation Device 15b5
</pre>
<h3><span class="mw-headline" id="lsusb">lsusb</span></h3>
<pre>Bus 002 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub
Bus 001 Device 004: ID 0c45:670c Microdia 
Bus 001 Device 003: ID 04f3:20d0 Elan Microelectronics Corp. 
Bus 001 Device 002: ID 0a5c:6412 Broadcom Corp. 
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
</pre>
<p><a rel="nofollow" class="external text" href="https://gist.github.com/mgalgs/15fb0d19795f700d60f061f67dddbefc">Full output from sudo lsusb -v</a>
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li> <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1579113">Arch Forum thread for XPS 13</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://www.dell.com/support/home/us/en/19/product-support/product/xps-13-9350-laptop/drivers">Dell XPS 13 9350 driver and firmware updates</a>
</li>
</ul>

</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Dell.html" title="Category:Dell">Dell</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li></ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
