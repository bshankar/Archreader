<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Rust - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Rust skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Rust</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p>From <a href="https://en.wikipedia.org/wiki/Rust_(programming_language)" class="extiw" title="wikipedia:Rust (programming language)">Wikipedia</a>:
</p>
<dl>
<dd><i><a rel="nofollow" class="external text" href="http://rust-lang.org/">Rust</a> is a general-purpose, multi-paradigm, compiled programming language sponsored by Mozilla Research. It is designed to be a "safe, concurrent, practical language", supporting pure-functional, imperative-procedural, and object-oriented styles.</i></dd>
<dd><i>The goal of Rust is to be a good language for creating highly concurrent and highly safe systems, and programming in the large. This has led to a feature set with an emphasis on safety, control of memory layout, and concurrency. Performance of idiomatic Rust is comparable to the performance of idiomatic C++.</i></dd>
</dl>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Rust_Core_Library"><span class="tocnumber">1</span> <span class="toctext">Rust Core Library</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Rust_Standard_Library"><span class="tocnumber">2</span> <span class="toctext">Rust Standard Library</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Release_Cycle"><span class="tocnumber">3</span> <span class="toctext">Release Cycle</span></a></li>
<li class="toclevel-1 tocsection-4">
<a href="#Installation"><span class="tocnumber">4</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Native_Installation"><span class="tocnumber">4.1</span> <span class="toctext">Native Installation</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Official_Rustup_Installation"><span class="tocnumber">4.2</span> <span class="toctext">Official Rustup Installation</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Test_your_installation"><span class="tocnumber">4.3</span> <span class="toctext">Test your installation</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8">
<a href="#Cross_Compiling"><span class="tocnumber">5</span> <span class="toctext">Cross Compiling</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Using_rustup"><span class="tocnumber">5.1</span> <span class="toctext">Using rustup</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Windows"><span class="tocnumber">5.2</span> <span class="toctext">Windows</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#unofficial_packages"><span class="tocnumber">5.3</span> <span class="toctext">unofficial packages</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12">
<a href="#Cargo"><span class="tocnumber">6</span> <span class="toctext">Cargo</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#Usage"><span class="tocnumber">6.1</span> <span class="toctext">Usage</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14">
<a href="#IDE_Support"><span class="tocnumber">7</span> <span class="toctext">IDE Support</span></a>
<ul>
<li class="toclevel-2 tocsection-15">
<a href="#Tools"><span class="tocnumber">7.1</span> <span class="toctext">Tools</span></a>
<ul>
<li class="toclevel-3 tocsection-16"><a href="#Racer"><span class="tocnumber">7.1.1</span> <span class="toctext">Racer</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="#Clippy"><span class="tocnumber">7.1.2</span> <span class="toctext">Clippy</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-18">
<a href="#Editors"><span class="tocnumber">7.2</span> <span class="toctext">Editors</span></a>
<ul>
<li class="toclevel-3 tocsection-19"><a href="#Atom"><span class="tocnumber">7.2.1</span> <span class="toctext">Atom</span></a></li>
<li class="toclevel-3 tocsection-20"><a href="#Visual_Studio_Code"><span class="tocnumber">7.2.2</span> <span class="toctext">Visual Studio Code</span></a></li>
<li class="toclevel-3 tocsection-21"><a href="#Vim"><span class="tocnumber">7.2.3</span> <span class="toctext">Vim</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-22"><a href="#See_also"><span class="tocnumber">8</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h3><span class="mw-headline" id="Rust_Core_Library">Rust Core Library</span></h3>
<p>The <a rel="nofollow" class="external text" href="https://doc.rust-lang.org/core/">Rust Core Library</a> is the dependency-free foundation of the Rust Standard Library. It interfaces directly with LLVM primitives, which allows Rust to be platform and hardware-agnostic. It is this integration with LLVM allows Rust to obtain greater performance than equivalent C applications compiled with Clang, making Rust software designed with libcore lower level than C. Developers looking to target software for embedded platforms may forego the standard library with <code>#[nostd]</code> to exclusively use the no-batteries-included core library for smaller binary sizes and improved performance. However, using <code>#[nostd]</code> limits the amount of software support that you can get from the larger Rust community as a majority of libraries require the standard library. 
</p>
<h3><span class="mw-headline" id="Rust_Standard_Library">Rust Standard Library</span></h3>
<p>The <a rel="nofollow" class="external text" href="http://doc.rust-lang.org/std/index.html">Rust Standard Library</a> provides the convenient high level abstractions by which a majority of portable Rust software is created with. It features convenient features such as the <code>Vec</code>, <code>Iterator</code>, <code>Option</code>, <code>Result</code>, and <code>String</code> types; a vast amount of methods for language primitives; a large number of standard macros; I/O and multithreading support; heap allocations with <code>Box</code>; and many more high level features not available in the core library.
</p>
<h3><span class="mw-headline" id="Release_Cycle">Release Cycle</span></h3>
<p>Rust follows a regular six week release cycle, similar to the release cycle of Firefox. With each new release, the core and standard libraries are improved to support more platforms, improve performance, and to stabilize new features for use with stable Rust.
</p>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<h3><span class="mw-headline" id="Native_Installation">Native Installation</span></h3>
<p>To <a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">install</a> the latest stable version of Rust from the official Arch Linux software repository, <a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=rust">rust</a></span> package. This will only install the rustc compiler, so you will also have to install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=cargo">cargo</a></span> package as well.
</p>
<h3><span class="mw-headline" id="Official_Rustup_Installation">Official Rustup Installation</span></h3>
<p>The official and recommended method of installing Rust for the purpose of developing software is to use the <a rel="nofollow" class="external text" href="https://www.rustup.rs/">Rustup toolchain manager</a>, written in Rust.
</p>
<p>The benefits to using the Rustup toolchain manager instead of the standalone prepackaged Rust in the software repository is the ability to install multiple toolchains (stable, beta, nightly) for multiple targets (windows, mac, android) and architectures (x86, x86_64, arm). It is also important to note that tools such as <a rel="nofollow" class="external text" href="https://github.com/Manishearth/rust-clippy">Clippy</a> require compiler plugin support, which is only supported in nightly builds of Rust.
</p>
<p>One has 2 choices for a rustup installation, one is officially supported by Rust, while the other is supported by archlinux wiki
</p>
<ol>
<li> Download the file with <code>curl -f https://sh.rustup.rs &gt; rust.sh</code>, view it: <code>vim ./rust.sh</code>, and run the script <code>./rust.sh</code> to start rustup installation. To update rustup afterwards, run <code>rustup self update</code>.</li>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=rustup">rustup</a></span> is also available on the Arch Linux software repository. Note that <code>rustup self update</code> will <b>not</b> work when installed this way, the package needs to be updated by pacman.</li>
</ol>
<p>By default, only the stable channel from your architecture will be installed. It will however not be usable right away, you need to specify the installed stable channel as default for it to work.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Please make sure that you have added the $HOME/.cargo/bin to your PATH before you run the rustup command.</div>
<pre>
$ rustup default stable
</pre>
<p>Then checking rust's version using <code>rustc -V</code> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ rustc -V </pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
rustc 1.9.0 (e4e8b6668 2016-05-18)
</pre>
<p>If you wish to install and use nightly, you can do like so : 
</p>
<pre>
$ rustup install nightly
$ rustup default nightly
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ rustc -V </pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
rustc 1.11.0-nightly (01411937f 2016-07-01)
</pre>
<p>Rust is now fired up for nightly !
</p>
<h3><span class="mw-headline" id="Test_your_installation">Test your installation</span></h3>
<p>Check that Rust is installed correctly by building a simple program, as follows:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/hello.rs</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
 fn main() {
     println!("Hello, World!");
 }
</pre>
<p>You can compile it with <code>rustc</code>, then run it:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ rustc hello.rs &amp;&amp; ./hello</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
Hello, World!
</pre>
<h2><span class="mw-headline" id="Cross_Compiling">Cross Compiling</span></h2>
<h3><span class="mw-headline" id="Using_rustup">Using rustup</span></h3>
<p>You can easily cross-compile using rustup. rustup supports many crosscompile targets. A full list can be found running <code>rustup target list</code>.
</p>
<p>For instance, if you want to install rust using the stable channel for windows, using the gnu compiler, you will need to do : 
</p>
<pre>
$ rustup install stable-x86_64-pc-windows-gnu
</pre>
<p>This will only installs rust and its tools for your target architecture, but some additional tools might be needed for cross compiling.
</p>
<h3><span class="mw-headline" id="Windows">Windows</span></h3>
<p>In this section, <code>$ARCH</code> is the target architecture (either <code>x86_64</code> or <code>i686</code>). It will explain how to cross compile using rustup.
</p>
<ol>
<li> <a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">Install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=mingw-w64-gcc">mingw-w64-gcc</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=wine">wine</a></span>
</li>
<li> Add a binfmt definition for windows executables either manually or by installing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/binfmt-wine/">binfmt-wine</a></span><sup><small>AUR</small></sup>.</li>
<li> If you are using rustup, you can run <code>rustup install $ARCH-pc-windows-gnu</code> to install rust for your architecture. If you are not using rustup, install a copy of rust's standard library for windows in your rustlib directory (<code>/usr/local/lib/rustlib</code> if you're using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/rust-nightly-bin/">rust-nightly-bin</a></span><sup><small>AUR</small></sup> and <code>/usr/lib/rustlib</code> if you're using the official <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=rust">rust</a></span> package). The easiest way to do this is to download the rust installer for windows for your target architecture, install it under wine (<code>wine start my-rust-installer.msi</code>) and copy <code>$INSTALL_DIR/lib/rustlib/$ARCH-pc-windows-gnu</code> into your rustlib directory. </li>
<li> Finally, tell cargo where to find the MinGW-w64 gcc/ar by adding the following to your <code>~/.cargo/config</code>:</li>
</ol>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.cargo/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
[target.$ARCH-pc-windows-gnu]
linker = "/usr/bin/$ARCH-w64-mingw32-gcc"
ar = "/usr/$ARCH-w64-mingw32/bin/ar"
</pre>
<p>Finally, you can cross compile for windows by passing the <code>--target $ARCH-pc-windows-gnu</code> to cargo:
</p>
<pre>
$ # Build
$ cargo build --release --target "$ARCH-pc-windows-gnu"
$ # Run unit tests under wine
$ cargo test --target "$ARCH-pc-windows-gnu"
</pre>
<h3><span class="mw-headline" id="unofficial_packages">unofficial packages</span></h3>
<p>The <a href="../en/Unofficial_user_repositories.html#archlinuxcn" title="Unofficial user repositories">unofficial repo archlinuxcn</a> has rust-nightly and Rust std library for i686, ARM, ARMv7, Windows 32 and 64 so you can just install the one you want then enjoy cross compiling. However, you have to find an ARM toolchain by yourself. For Windows 32bit targets, you'll need to get a libgcc_s_dw2-1.dll to build and run.
</p>
<h2><span class="mw-headline" id="Cargo">Cargo</span></h2>
<p><a rel="nofollow" class="external text" href="https://crates.io/">Cargo</a>, Rust's package manager, can be <a href="../en/Help:Reading.html#Installation_of_packages" title="Installed" class="mw-redirect">installed</a> as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=cargo">cargo</a></span>. The nightly version is available in the AUR as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/cargo-bin/">cargo-bin</a></span><sup><small>AUR</small></sup>. If you use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=rustup">rustup</a></span>, it already includes cargo.
</p>
<p>Cargo is a tool that allows Rust projects to declare their various dependencies, and ensure that you'll always get a repeatable build. You're encouraged to read the <a rel="nofollow" class="external text" href="http://doc.crates.io/guide.html">official guide</a>.
</p>
<h3><span class="mw-headline" id="Usage">Usage</span></h3>
<p>To create a new project using Cargo:
</p>
<pre>$ cargo new hello_world --bin</pre>
<p>This creates a directory with a default <code>Cargo.toml</code> file, set to build an executable (because we included <code>--bin</code>, otherwise it would build a library).
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Cargo uses this <code>Cargo.toml</code> as a manifest containing all of the metadata required to compile your project.
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">Cargo.toml</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[package]
name = "hello_world"
version = "0.1.0"
authors = ["Your Name &lt;you@example.com&gt;"]</pre>
</div>
<h2><span class="mw-headline" id="IDE_Support">IDE Support</span></h2>
<h3><span class="mw-headline" id="Tools">Tools</span></h3>
<h4><span class="mw-headline" id="Racer">Racer</span></h4>
<p>The <a rel="nofollow" class="external text" href="https://github.com/phildawes/racer">Racer</a> autocomplete engine is the current best method of gaining autocomplete support. However, it requires that you also install a copy of the Rust source code, which you can obtain either directly or from the AUR (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/rust-src/">rust-src</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/rust-nightly-src/">rust-nightly-src</a></span><sup><small>AUR</small></sup>). After installing the source code, you can either use <code>Cargo</code> to install racer or obtain it from the repos (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=rust-racer">rust-racer</a></span>).
</p>
<pre>cargo install racer</pre>
<h4><span class="mw-headline" id="Clippy">Clippy</span></h4>
<p><a rel="nofollow" class="external text" href="https://github.com/Manishearth/rust-clippy">Clippy</a> takes advantage of compiler plugin support in Nightly builds of Rust to provide a large number of additional lints for detecting and warning about a larger variety of errors and non-idiomatic Rust. Because it requires support for compiler plugins in order to operate, clippy will not work when compiling with the stable Rust compiler.
</p>
<pre>cargo install clippy</pre>
<h3><span class="mw-headline" id="Editors">Editors</span></h3>
<h4><span class="mw-headline" id="Atom">Atom</span></h4>
<p>Atom supports Rust programming with the available <a rel="nofollow" class="external text" href="https://vertexclique.github.io/tokamak/">Tokamak IDE</a> plugin.
</p>
<h4><span class="mw-headline" id="Visual_Studio_Code">Visual Studio Code</span></h4>
<p>Support for Rust can be obtained by installing <a rel="nofollow" class="external text" href="https://marketplace.visualstudio.com/items?itemName=saviorisdead.RustyCode">RustyCode</a>.
</p>
<h4><span class="mw-headline" id="Vim">Vim</span></h4>
<p>Vim support for Rust is enabled via <a rel="nofollow" class="external text" href="https://github.com/racer-rust/vim-racer">vim-racer</a> plugin.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li> <a rel="nofollow" class="external text" href="http://rust-lang.org/">Official website of the Rust Programming Language</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://www.rust-lang.org/documentation.html">Rust Documentation</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://doc.rust-lang.org/stable/book/">Official Rust Book</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://doc.rust-lang.org/std/">Standard Library API Lookup</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://rustbyexample.com/">Examples with small descriptions</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://github.com/ctjhoa/rust-learning">Page listing of Rust tutorials</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://crates.io/">Libraries(crates) available through Cargo</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://this-week-in-rust.org/">This Week in Rust</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://blog.rust-lang.org/">The Rust Programming Language Blog</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://users.rust-lang.org/">The Rust Users Forum</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://internals.rust-lang.org/">The Rust Internals Forum</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://rust.libhunt.com/">Awesome Rust: A curated list of Rust libraries and resources</a>
</li>
<li> <a href="https://en.wikipedia.org/wiki/Rust_(programming_language)" class="extiw" title="wikipedia:Rust (programming language)">Wikipedia article</a>
</li>
</ul>

</div>
<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Programming_languages.html" title="Category:Programming languages">Programming languages</a></li></ul>
</div></div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
