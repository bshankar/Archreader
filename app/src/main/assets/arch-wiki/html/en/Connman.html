<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Connman - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Connman skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Connman</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div style="width:45%; margin: 0 0 0.5em 0.5em;">
<p style="background:#333; color:white; padding:0.2em; border-bottom:5px #08c solid; margin:0; text-align:center; font-weight:bold;">Related articles</p>
<ul style="list-style-type:none; margin:0; padding:0.3em;">
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Network_configuration.html" title="Network configuration">Network configuration</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Wireless_network_configuration.html" title="Wireless network configuration">Wireless network configuration</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Category:Network_configuration.html" title="Category:Network configuration">Category:Network configuration</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://01.org/connman">ConnMan</a> is a command-line network manager designed for use with embedded devices and fast resolve times. It is modular through a <a rel="nofollow" class="external text" href="http://git.kernel.org/cgit/network/connman/connman.git/tree/plugins">plugin architecture</a>, but has native <a rel="nofollow" class="external text" href="http://git.kernel.org/cgit/network/connman/connman.git/tree/src/dhcp.c">dhcp</a> and <a rel="nofollow" class="external text" href="http://git.kernel.org/cgit/network/connman/connman.git/tree/src/ntp.c">ntp</a> support.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Desktop_clients"><span class="tocnumber">1.1</span> <span class="toctext">Desktop clients</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3">
<a href="#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Wired"><span class="tocnumber">2.1</span> <span class="toctext">Wired</span></a></li>
<li class="toclevel-2 tocsection-5">
<a href="#Wi-Fi"><span class="tocnumber">2.2</span> <span class="toctext">Wi-Fi</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#Enabling_and_disabling_wifi"><span class="tocnumber">2.2.1</span> <span class="toctext">Enabling and disabling wifi</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#Connecting_to_an_open_access_point"><span class="tocnumber">2.2.2</span> <span class="toctext">Connecting to an open access point</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#Connecting_to_a_protected_access_point"><span class="tocnumber">2.2.3</span> <span class="toctext">Connecting to a protected access point</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="#Settings"><span class="tocnumber">2.3</span> <span class="toctext">Settings</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Technologies"><span class="tocnumber">2.4</span> <span class="toctext">Technologies</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11">
<a href="#Tips_and_tricks"><span class="tocnumber">3</span> <span class="toctext">Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#Avoid_changing_the_hostname"><span class="tocnumber">3.1</span> <span class="toctext">Avoid changing the hostname</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Prefer_ethernet_to_wireless"><span class="tocnumber">3.2</span> <span class="toctext">Prefer ethernet to wireless</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Exclusive_connection"><span class="tocnumber">3.3</span> <span class="toctext">Exclusive connection</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Connecting_to_eduroam"><span class="tocnumber">3.4</span> <span class="toctext">Connecting to eduroam</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Avoiding_conflicts_with_local_DNS_server"><span class="tocnumber">3.5</span> <span class="toctext">Avoiding conflicts with local DNS server</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Blacklist_interfaces"><span class="tocnumber">3.6</span> <span class="toctext">Blacklist interfaces</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18">
<a href="#Troubleshooting"><span class="tocnumber">4</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-19"><a href="#Error_.2Fnet.2Fconnman.2Ftechnology.2Fwifi:_Not_supported"><span class="tocnumber">4.1</span> <span class="toctext">Error /net/connman/technology/wifi: Not supported</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-20"><a href="#See_also"><span class="tocnumber">5</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=connman">connman</a></span> package. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=wpa_supplicant">wpa_supplicant</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=bluez">bluez</a></span> are optional dependencies required for Wi-Fi and Bluetooth functionality respectively.
</p>
<p>Before <a href="../en/Systemd.html#Using_units" title="Enabling" class="mw-redirect">enabling</a> <code>connman.service</code>, ensure any existing <a href="../en/Network_configuration.html" title="Network configuration">network configuration</a> is disabled.
</p>
<h3><span class="mw-headline" id="Desktop_clients">Desktop clients</span></h3>
<ul><li> <b>cmst</b> — Qt GUI for ConnMan.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/andrew-bibb/cmst">https://github.com/andrew-bibb/cmst</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/cmst/">cmst</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li> <b>connman-ncurses</b> — Simple ncurses UI for ConnMan; not all of connman functionality is implemented, but usable (with X or from terminal without X), see the <a rel="nofollow" class="external text" href="https://github.com/eurogiciel-oss/connman-json-client/wiki">wiki</a>.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/eurogiciel-oss/connman-json-client">https://github.com/eurogiciel-oss/connman-json-client</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/connman-ncurses-git/">connman-ncurses-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li> <b>connman-notify</b> — Connman event notification client</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/wavexx/connman-notify">https://github.com/wavexx/connman-notify</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/connman-notify/">connman-notify</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" title="ArchWiki:Requests">broken link</a>: archived in <a rel="nofollow" class="external text" href="https://github.com/felixonmars/aur3-mirror/tree/master/connman-notify">aur-mirror</a>]</sup>
</dd></dl>
<ul><li> <b>ConnMan-UI</b> — GTK3 client applet.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/tbursztyka/connman-ui">https://github.com/tbursztyka/connman-ui</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/connman-ui-git/">connman-ui-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li> <b>connman_dmenu</b> — Client/frontend for dmenu.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/taylorchu/connman_dmenu">https://github.com/taylorchu/connman_dmenu</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/connman_dmenu-git/">connman_dmenu-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li> <b>Econnman</b> — Enlightenment desktop panel applet.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="http://www.enlightenment.org">http://www.enlightenment.org</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/econnman/">econnman</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li> <b>LXQt-Connman-Applet</b> — LXQt desktop panel applet.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/surlykke/lxqt-connman-applet">https://github.com/surlykke/lxqt-connman-applet</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lxqt-connman-applet-git/">lxqt-connman-applet-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li> <b>qconnman-ui</b> — Qt management interface used on O.S. Systems products</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/OSSystems/qconnman-ui">https://github.com/OSSystems/qconnman-ui</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/qconnman-ui-git/">qconnman-ui-git</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" title="ArchWiki:Requests">broken link</a>: archived in <a rel="nofollow" class="external text" href="https://github.com/felixonmars/aur3-mirror/tree/master/qconnman-ui-git">aur-mirror</a>]</sup>
</dd></dl>
<ul><li> <b>connman-gtk</b> —  GTK client.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/jgke/connman-gtk">https://github.com/jgke/connman-gtk</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/connman-gtk/">connman-gtk</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li> <b>gnome-extension-connman</b> —  Gnome3 extension for connman; it contains only some of the functionality without installing connman-gtk.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/jgke/gnome-extension-connman">https://github.com/jgke/gnome-extension-connman</a> || <a rel="nofollow" class="external free" href="https://extensions.gnome.org/extension/981/connman-extension/">https://extensions.gnome.org/extension/981/connman-extension/</a>
</dd></dl>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Only Wired and Wi-Fi plugins are described. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Connman">Talk:Connman#</a>)</div>
</div>
<p>ConnMan has a standard command line client <code>connmanctl</code>. It can run in 2 modes:
</p>
<ul>
<li>In <b>command mode</b> commands are entered as arguments to <code>connmanctl</code> command, just like <a href="../en/Systemd.html" title="Systemctl" class="mw-redirect">systemctl</a>.</li>
<li>
<b>Interactive mode</b> is started by typing <code>connmanctl</code> without arguments. Prompt will change to <code>connmanctl&gt;</code> to indicate it is waiting for user commands, just like <a href="../en/Python.html" title="Python">python</a> interactive mode. The interactive mode supports tab completion, which makes finding the correct connection easy.</li>
</ul>
<h3><span class="mw-headline" id="Wired">Wired</span></h3>
<p>ConnMan will automatically handle wired connections.
</p>
<h3><span class="mw-headline" id="Wi-Fi">Wi-Fi</span></h3>
<h4><span class="mw-headline" id="Enabling_and_disabling_wifi">Enabling and disabling wifi</span></h4>
<p>To check if wifi is enabled you can run <code>connmanctl technologies</code> and check for the line that says <code>Powered: True/False</code>.
To power the wifi on you can run <code>connmanctl enable wifi</code> or if you need to disable it you can run <code>connmanctl disable wifi</code>.
Other ways to enable wifi could include using the <code>Fn</code> keys on the laptop to turn it on or running <code>ip link set &lt;interface&gt; up</code>.
</p>
<p><br>
</p>
<h4><span class="mw-headline" id="Connecting_to_an_open_access_point">Connecting to an open access point</span></h4>
<p>The commands in this section show how to run <code>connmanctl</code> in command mode.
</p>
<p>To scan the network <code>connmanctl</code> accepts simple names called <i>technologies</i>. To scan for nearby Wi-Fi networks:
</p>
<pre>$ connmanctl scan wifi
</pre>
<p>To list the available networks found after a scan run (example output): 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ connmanctl services</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
*AO MyNetwork               wifi_dc85de828967_68756773616d_managed_psk
    OtherNET                wifi_dc85de828967_38303944616e69656c73_managed_psk 
    AnotherOne              wifi_dc85de828967_3257495245363836_managed_wep
    FourthNetwork           wifi_dc85de828967_4d7572706879_managed_wep
    AnOpenNetwork           wifi_dc85de828967_4d6568657272696e_managed_none
</pre>
<p>To connect to an open network, use the second field beginning with <code>wifi_</code>:
</p>
<pre>$ connmanctl connect wifi_dc85de828967_4d6568657272696e_managed_none
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDFFDD; border: thin solid #BBDDBB; overflow: hidden;">
<strong> Tip: </strong>Network names can be tab-completed.</div>
<p>You should now be connected to the network. Check using <code>ip addr</code> or <code>connmanctl state</code>.
</p>
<h4><span class="mw-headline" id="Connecting_to_a_protected_access_point">Connecting to a protected access point</span></h4>
<p>For protected access points you will need to provide some information to the ConnMan daemon, at the very least a password or a passphrase.
</p>
<p>The commands in this section show how to run <code>connmanctl</code> in interactive mode, it is required for running the <code>agent</code> command.  To start interactive mode simply type: 
</p>
<pre>$ connmanctl
</pre>
<p>You then proceed almost as above, first scan for any Wi-Fi <i>technologies</i>:
</p>
<pre>connmanctl&gt; scan wifi
</pre>
<p>To list services:
</p>
<pre>connmanctl&gt; services
</pre>
<p>Now you need to register the agent to handle user requests.  The command is:
</p>
<pre>connmanctl&gt; agent on
</pre>
<p>You now need to connect to one of the protected services.  To do this easily, just use tab completion for the wifi_ service.  If you were connecting to OtherNET in the example above you would type:
</p>
<pre>connmanctl&gt; connect wifi_dc85de828967_38303944616e69656c73_managed_psk
</pre>
<p>The agent will then ask you to provide any information the daemon needs to complete the connection.  The 
information requested will vary depending on the type of network you are connecting to.   The agent
will also print additional data about the information it needs as shown in the example below.
</p>
<pre>Agent RequestInput wifi_dc85de828967_38303944616e69656c73_managed_psk
  Passphrase = [ Type=psk, Requirement=mandatory ]
  Passphrase?  
</pre>
<p>Provide the information requested, in this example the passphrase, and then type:
</p>
<pre>connmanctl&gt; quit
</pre>
<p>If the information you provided is correct you should now be connected to the protected access point.
</p>
<h3><span class="mw-headline" id="Settings">Settings</span></h3>
<p>Settings and profiles are automatically created for networks the user connects to often. They contain fields for the passphrase, essid and other information. Profile settings are stored in directories under <code>/var/lib/connman/</code> by their service name. To view all network profiles run this command from <a href="../en/Help:Reading.html#Regular_user_or_root" title="Help:Reading">root shell</a>: 
</p>
<pre># cat /var/lib/connman/*/settings
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>VPN settings can be found in <code>/var/lib/connman-vpn/</code>.</div>
<h3><span class="mw-headline" id="Technologies">Technologies</span></h3>
<p>Various hardware interfaces are referred to as <i>Technologies</i> by ConnMan.
</p>
<p>To list available <i>technologies</i> run: 
</p>
<pre>$ connmanctl technologies
</pre>
<p>To get just the types by their name one can use this one liner:
</p>
<pre>$ connmanctl technologies | awk '/Type/ { print $NF }'
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong> The field <code>Type = tech_name</code> provides the technology type used with <code>connmanctl</code> commands</div>
<p>To interact with them one must refer to the technology by type.
<i>Technologies</i> can be toggled on/off with: 
</p>
<pre>$ connmanctl enable <i>technology_type</i>
</pre>
<p>and:
</p>
<pre>$ connmanctl disable <i>technology_type</i>
</pre>
<p>For example to toggle off wifi:
</p>
<pre>$ connmanctl disable wifi
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;">
<strong> Warning: </strong>connman grabs rfkill events. It is most likely impossible to use <code>rfkill</code> or <code>bluetoothctl</code> to (un)block devices, yet hardware keys may still work.<a rel="nofollow" class="external autonumber" href="https://git.kernel.org/cgit/network/connman/connman.git/tree/doc/overview-api.txt#n406">[1]</a> Always use <code>connmanctl enable|disable</code> </div>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Avoid_changing_the_hostname">Avoid changing the hostname</span></h3>
<p>By default, ConnMan changes the <a rel="nofollow" class="external text" href="http://www.freedesktop.org/software/systemd/man/hostnamectl.html">transient hostname</a> on a per network basis. This can create problems with X authority: If ConnMan changes your hostname to something else than the one used to generate the xauth magic cookie, then it will become impossible to create new windows. Symptoms are error messages like "No protocol specified" and "Can't open display: :0.0". Manually resetting the host name fixes this, but a permanent solution is to prevent ConnMan from changing your host name in the first place. This can be accomplished by adding the following to <code>/etc/connman/main.conf</code>:
</p>
<pre>[General]
AllowHostnameUpdates=false
</pre>
<p>Make sure to <a href="../en/Systemd.html#Using_units" title="Restart" class="mw-redirect">restart</a> the <code>connman.service</code> after changing this file.
</p>
<p>For testing purposes it is recommended to watch the <a href="../en/Systemd.html#Journal" title="Systemd">journal</a> and plug the network cable a few times to see the action.
</p>
<h3><span class="mw-headline" id="Prefer_ethernet_to_wireless">Prefer ethernet to wireless</span></h3>
<p>By default ConnMan does not prefer ethernet over wireless, which can lead to it deciding to stick with a slow wireless network even when ethernet is available. You can tell connman to prefer ethernet adding the following to <code>/etc/connman/main.conf</code>:
</p>
<pre>[General]
PreferredTechnologies=ethernet,wifi
</pre>
<h3><span class="mw-headline" id="Exclusive_connection">Exclusive connection</span></h3>
<p>ConnMan allows you to be connected to both ethernet and wireless at the same time. This can be useful as it allows programs that established a connection over wifi to stay connected even after you connect to ethernet. But some people prefer to have only a single unambiguous connection active at a time. That behavior can be activated by adding the following to <code>/etc/connman/main.conf</code>:
</p>
<pre>[General]
SingleConnectedTechnology=true
</pre>
<h3><span class="mw-headline" id="Connecting_to_eduroam">Connecting to eduroam</span></h3>
<p>See <a href="../en/WPA2_Enterprise.html#connman" title="WPA2 Enterprise">WPA2 Enterprise#connman</a>.
</p>
<h3><span class="mw-headline" id="Avoiding_conflicts_with_local_DNS_server">Avoiding conflicts with local DNS server</span></h3>
<p>If you are running a local DNS server, it will likely have problems binding to port 53 (TCP and/or UDP) after installing Connman. This is because Connman includes its own DNS proxy which also tries to bind to those ports. If you see log messages from <a href="../en/BIND.html" title="BIND">BIND</a> or <a href="../en/Dnsmasq.html" title="Dnsmasq">dnsmasq</a> like 
</p>
<pre>"named[529]: could not listen on UDP socket: address in use"
</pre>
<p>this could be the problem. To verify which application is listening on the ports, you can execute <code>ss -tulpn</code> as root.
</p>
<p>To fix this connmand can be started with the options <code>-r</code> or <code>--nodnsproxy</code> by <a href="../en/Systemd.html#Editing_provided_units" title="Systemd">overriding</a> the systemd service file. Create the folder <code>/etc/systemd/system/connman.service.d/</code> and add the file <code>disable_dns_proxy.conf</code>:
</p>
<pre>[Service]
ExecStart=
ExecStart=/usr/bin/connmand -n --nodnsproxy
</pre>
<p>Make sure to <a href="../en/Systemd.html#Using_units" title="Reload" class="mw-redirect">reload</a> the systemd daemon and <a href="../en/Systemd.html#Using_units" title="Restart" class="mw-redirect">restart</a> the <code>connman.service</code>, and your DNS proxy, after adding this file.
</p>
<h3><span class="mw-headline" id="Blacklist_interfaces">Blacklist interfaces</span></h3>
<p>If something like <a href="../en/Docker.html" title="Docker">Docker</a> is creating virtual interfaces Connman may attempt to connect to one of these instead of your physical adapter if the connection drops. A simple way of avoiding this is to blacklist the interfaces you do not want to use. Connman will by default blacklist interfaces starting with <code>vmnet</code>, <code>vboxnet</code>, <code>virbr</code> and <code>ifb</code>, so those need to be included in the new blacklist as well.
</p>
<p>Blacklisting interface names is also useful to avoid a race condition where connman may access <code>eth#</code> or <code>wlan#</code> before systemd/udev can change it to use a <a href="../en/Network_configuration.html#Device_names" title="Network configuration">predictable interface name</a> like <code>enp4s0</code>. Blacklisting the conventional (and unpredictable) interface prefixes makes connman wait until they are renamed.
</p>
<p>If it does not already exist, create <code>/etc/connman/main.conf</code>:
</p>
<pre>[General]
NetworkInterfaceBlacklist=vmnet,vboxnet,virbr,ifb,docker,veth,eth,wlan
</pre>
<p>Once <code>connman.service</code> has been <a href="../en/Systemd.html#Using_units" title="Systemd">restarted</a> this will also hide all the <code>veth#######</code> interfaces from GUI tools like Econnman.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Error_.2Fnet.2Fconnman.2Ftechnology.2Fwifi:_Not_supported">Error /net/connman/technology/wifi: Not supported</span></h3>
<p>You need to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=wpa_supplicant">wpa_supplicant</a></span> and then restart connman service: <code>systemctl restart connman.service</code>.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul><li> <a rel="nofollow" class="external text" href="https://git.kernel.org/cgit/network/connman/connman.git/tree/doc">git repo documentation</a> - for further detailed documentation</li></ul>

</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Network_configuration.html" title="Category:Network configuration">Network configuration</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
</ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
