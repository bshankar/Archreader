<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Chromebook Pixel 2 - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Chromebook_Pixel_2 skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Chromebook Pixel 2</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;">
<strong> Warning: </strong>This article relies on third-party scripts and modifications, and may irreparably damage your hardware or data. Proceed at your own risk.</div>
<p>The Chromebook Pixel 2 is a <a href="../en/Chrome_OS_devices.html" title="Chromebook" class="mw-redirect">Chromebook</a> manufactured by Google in 2015. This page details installing Arch Linux on the Pixel 2.
</p>
<p>Also see the forum thread: <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=194962">[1]</a>
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Enabling_developer_mode"><span class="tocnumber">1</span> <span class="toctext">Enabling developer mode</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Installation"><span class="tocnumber">2</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Grub"><span class="tocnumber">2.1</span> <span class="toctext">Grub</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Dual_Booting_ChromeOS_and_Arch_Linux"><span class="tocnumber">2.2</span> <span class="toctext">Dual Booting ChromeOS and Arch Linux</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5">
<a href="#Touchpad.2C_touchscreen_and_audio"><span class="tocnumber">3</span> <span class="toctext">Touchpad, touchscreen and audio</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Linux_4.1"><span class="tocnumber">3.1</span> <span class="toctext">Linux 4.1</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Linux_3.19"><span class="tocnumber">3.2</span> <span class="toctext">Linux 3.19</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Backlight_control"><span class="tocnumber">4</span> <span class="toctext">Backlight control</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Keyboard_rebindings"><span class="tocnumber">5</span> <span class="toctext">Keyboard rebindings</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Disabling_firmware_write_protect"><span class="tocnumber">6</span> <span class="toctext">Disabling firmware write protect</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#External_Links"><span class="tocnumber">7</span> <span class="toctext">External Links</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Enabling_developer_mode">Enabling developer mode</span></h2>
<p>Enable developer mode as you would on any Chrome OS Device, hold Esc and F3 (refresh icon) with the device powered off, then press the power button and use Ctrl-D to enable developer mode.
</p>
<p>Enabling developer mode will wipe all of your data.
</p>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>USB 3.0 may cause issues. Make sure that the installation media utilizes USB 2.0.</div>
<p>See <a href="../en/Chrome_OS_devices.html#Installation" title="Chrome OS devices">Chrome OS devices#Installation</a>.
</p>
<h5><span class="mw-headline" id="Grub">Grub</span></h5>
<p>It will not display the menu by default.  GRUB_GFXMODE is set to auto.  Grub does not detect the correct video mode.  Using vbeinfo, on the grub command line, it's detected at 1280x850x16.  The options to display the menu are to either turn off GRUB_GFXMODE or set the correct display in <code>/etc/default/grub</code>
</p>
<pre>GRUB_TERMINAL_OUTPUT=console
</pre>
<p>or setting 
</p>
<pre>GRUB_GFXMODE=1280x850x16
</pre>
<p>after making this change, run
</p>
<pre>grub-mkconfig -o /boot/grub/grub.cfg
</pre>
<h3><span class="mw-headline" id="Dual_Booting_ChromeOS_and_Arch_Linux">Dual Booting ChromeOS and Arch Linux</span></h3>
<p>See <a href="../en/Chrome_OS_devices.html#Alternative_installation.2C_Install_Arch_Linux_in_addition_to_Chrome_OS" title="Chrome OS devices">Chrome OS devices#Alternative installation, Install Arch Linux in addition to Chrome OS</a>.
</p>
<h2><span class="mw-headline" id="Touchpad.2C_touchscreen_and_audio">Touchpad, touchscreen and audio</span></h2>
<h3><span class="mw-headline" id="Linux_4.1">Linux 4.1</span></h3>
<p><a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linux-samus4/">linux-samus4</a></span><sup><small>AUR</small></sup> package for Linux 4.1 support. You will need to regenerate your GRUB configuration after installing linux-samus4. See <a rel="nofollow" class="external autonumber" href="https://github.com/raphael/linux-4.1-samus">[2]</a> for information on how to enable audio and microphone support.
</p>
<p>If the <code>linux-samus4</code> kernel hangs after <code>Loading initial ramdisk...</code> and you have an encrypted disk then try adding <code>i915</code> to <code>MODULES</code> in <code>/etc/mkinitcpio.conf</code> according to <a href="../en/Intel_graphics.html" title="Intel graphics">Intel graphics</a> and then run <code>mkinitcpio -p linux-samus4</code> to regenerate the image.
</p>
<h3><span class="mw-headline" id="Linux_3.19">Linux 3.19</span></h3>
<p><a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linux-samus/">linux-samus</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" title="ArchWiki:Requests">broken link</a>: archived in <a rel="nofollow" class="external text" href="https://github.com/felixonmars/aur3-mirror/tree/master/linux-samus">aur-mirror</a>]</sup> package. You will need to import 2 kernel signing keys using gpg. Support for the Pixel 2 should be added in Linux 4.1. You will need to regenerate your GRUB configuration after installing linux-samus.
</p>
<p>To fix the touchpad, add the file <code>/etc/X11/xorg.conf.d/25-touchpad.conf</code> with the following contents. You will also need to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=xf86-input-synaptics">xf86-input-synaptics</a></span>.
</p>
<pre>Section "InputClass"
    Identifier "touchpad"
    MatchIsTouchpad "on"
    MatchDevicePath "/dev/input/event*"
    Driver "synaptics"
EndSection
</pre>
<p>For audio, see <a rel="nofollow" class="external autonumber" href="https://github.com/tsowell/linux-samus">[3]</a>.
</p>
<h2><span class="mw-headline" id="Backlight_control">Backlight control</span></h2>
<p>The screen backlight can be controlled via <tt>/sys/class/backlight/intel_backlight/</tt>; see the <a rel="nofollow" class="external text" href="https://raw.githubusercontent.com/raphael/linux-samus/master/build/brightness">brightness</a> script from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linux-samus4/">linux-samus4</a></span><sup><small>AUR</small></sup>.
</p>
<p>The keyboard backlight can be controlled via <tt>/sys/class/leds/chromeos::kbd_backlight/</tt>; see the <a rel="nofollow" class="external text" href="https://gist.githubusercontent.com/strayArch/5c862648f261122d9e4e/raw/d0b800f13b8d792445f32e0317efd57e7f4439a1/keyboard-brightness.sh">keyboard-brightness.sh</a> script.
</p>
<h2><span class="mw-headline" id="Keyboard_rebindings">Keyboard rebindings</span></h2>
<p><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/extra/any/xkeyboard-config/">xkeyboard-config 2.16-1</a> added a <tt>chromebook</tt> model that enables the Chrome OS style functions for the function keys.  You can, for example, set this using <tt>localectl set-x11-keymap us chromebook</tt>.  See the <tt>chromebook</tt> definition in <tt>/usr/share/X11/xkb/symbols/inet</tt> for the full mappings.
</p>
<p>The search button acts as a <code>Super_L</code> key, which may be undesirable for keyboard layouts that make good use of this position. Using <a href="../en/Xmodmap.html" title="Xmodmap">xmodmap</a>, you can rebind this to whatever you would like. Example using <code>Tab</code> for a keyboard layout with six layers:
</p>
<pre>$ xmodmap -e "keycode 133 = Tab Tab Tab Tab Tab Tab"
</pre>
<p>Add this to your .xinitrc to load at login.
</p>
<h2><span class="mw-headline" id="Disabling_firmware_write_protect">Disabling firmware write protect</span></h2>
<p>Disabling the firmware write protect is only necessary if you wish to modify the firmware and is not necessary to install Linux.
</p>
<p>Power off the Chromebook. Carefully peel off the two adhesive strips on the bottom. They will stretch very easily, so push up from the device while peeling, and don't pull from the end of the adhesive strip. Then remove all the screws under both adhesive strips. The lid should just fall off if you rotate it upside down.
</p>
<p>Once the device is open, find the red-pink screw with a golden washer, located between the speaker and the USB Type-A port; remove the screw and washer. Reassemble your Chromebook and power it on.
</p>
<h2><span class="mw-headline" id="External_Links">External Links</span></h2>
<p><a rel="nofollow" class="external text" href="https://www.chromium.org/chromium-os/developer-information-for-chrome-os-devices/chromebook-pixel-2015">Chromium OS device page</a>
</p>
</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Laptops.html" title="Category:Laptops">Laptops</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li></ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
