<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Bluetooth headset - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Bluetooth_headset skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Bluetooth headset</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div style="width:45%; margin: 0 0 0.5em 0.5em;">
<p style="background:#333; color:white; padding:0.2em; border-bottom:5px #08c solid; margin:0; text-align:center; font-weight:bold;">Related articles</p>
<ul style="list-style-type:none; margin:0; padding:0.3em;">
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Bluetooth.html" title="Bluetooth">Bluetooth</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/ArchWiki:Archive.html" title="Bluez4" class="mw-redirect">Bluez4</a></li>
</ul>
</div>
<p>Currently, Arch Linux supports the A2DP profile (Audio Sink) for remote audio playback with the default installation.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Bluez5 is only supported by <a href="../en/PulseAudio.html" title="PulseAudio">PulseAudio</a> and not by <a href="../en/Advanced_Linux_Sound_Architecture.html" title="ALSA" class="mw-redirect">ALSA</a>. If you do not want to use PulseAudio, you need to install an older Bluez version from the AUR.</div>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Headset_via_Bluez5.2FPulseAudio"><span class="tocnumber">1</span> <span class="toctext">Headset via Bluez5/PulseAudio</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Setting_up_auto_connection"><span class="tocnumber">1.1</span> <span class="toctext">Setting up auto connection</span></a></li>
<li class="toclevel-2 tocsection-3">
<a href="#Troubleshooting"><span class="tocnumber">1.2</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#Selected_audio_profile.2C_but_headset_inactive_and_audio_cannot_be_redirected"><span class="tocnumber">1.2.1</span> <span class="toctext">Selected audio profile, but headset inactive and audio cannot be redirected</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#Pairing_fails_with_AuthenticationFailed"><span class="tocnumber">1.2.2</span> <span class="toctext">Pairing fails with AuthenticationFailed</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Pairing_works.2C_but_connecting_does_not"><span class="tocnumber">1.2.3</span> <span class="toctext">Pairing works, but connecting does not</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#Connecting_works.2C_but_I_cannot_play_sound"><span class="tocnumber">1.2.4</span> <span class="toctext">Connecting works, but I cannot play sound</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#UUIDs_has_unsupported_type"><span class="tocnumber">1.2.5</span> <span class="toctext">UUIDs has unsupported type</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#PC_shows_device_as_paired.2C_but_is_not_recognized_by_device"><span class="tocnumber">1.2.6</span> <span class="toctext">PC shows device as paired, but is not recognized by device</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-10">
<a href="#Legacy_method:_ALSA-BTSCO"><span class="tocnumber">2</span> <span class="toctext">Legacy method: ALSA-BTSCO</span></a>
<ul>
<li class="toclevel-2 tocsection-11">
<a href="#Connecting_the_headset"><span class="tocnumber">2.1</span> <span class="toctext">Connecting the headset</span></a>
<ul>
<li class="toclevel-3 tocsection-12">
<a href="#Pairing_the_headset_with_your_computer"><span class="tocnumber">2.1.1</span> <span class="toctext">Pairing the headset with your computer</span></a>
<ul>
<li class="toclevel-4 tocsection-13"><a href="#Using_bluez-gnome"><span class="tocnumber">2.1.1.1</span> <span class="toctext">Using <i>bluez-gnome</i></span></a></li>
<li class="toclevel-4 tocsection-14"><a href="#Using_passkey-agent"><span class="tocnumber">2.1.1.2</span> <span class="toctext">Using <i>passkey-agent</i></span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-15"><a href="#Headset_and_ALSA_Devices"><span class="tocnumber">2.2</span> <span class="toctext">Headset and ALSA Devices</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Headset.27s_multimedia_buttons"><span class="tocnumber">2.3</span> <span class="toctext">Headset's multimedia buttons</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17">
<a href="#Legacy_method:_PulseAudio"><span class="tocnumber">3</span> <span class="toctext">Legacy method: PulseAudio</span></a>
<ul>
<li class="toclevel-2 tocsection-18">
<a href="#Troubleshooting_2"><span class="tocnumber">3.1</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-3 tocsection-19"><a href="#Audio_sink_fails"><span class="tocnumber">3.1.1</span> <span class="toctext">Audio sink fails</span></a></li>
<li class="toclevel-3 tocsection-20"><a href="#Page_timeout_issue"><span class="tocnumber">3.1.2</span> <span class="toctext">Page timeout issue</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-21">
<a href="#Legacy_documentation:_ALSA.2C_bluez5_and_PulseAudio_method"><span class="tocnumber">4</span> <span class="toctext">Legacy documentation: ALSA, bluez5 and PulseAudio method</span></a>
<ul>
<li class="toclevel-2 tocsection-22">
<a href="#Install_Software_Packages"><span class="tocnumber">4.1</span> <span class="toctext">Install Software Packages</span></a>
<ul>
<li class="toclevel-3 tocsection-23"><a href="#Install_ALSA_and_associated_libraries"><span class="tocnumber">4.1.1</span> <span class="toctext">Install ALSA and associated libraries</span></a></li>
<li class="toclevel-3 tocsection-24"><a href="#Install_Bluez5"><span class="tocnumber">4.1.2</span> <span class="toctext">Install Bluez5</span></a></li>
<li class="toclevel-3 tocsection-25"><a href="#Install_Audacious"><span class="tocnumber">4.1.3</span> <span class="toctext">Install Audacious</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-26">
<a href="#Procedure"><span class="tocnumber">4.2</span> <span class="toctext">Procedure</span></a>
<ul>
<li class="toclevel-3 tocsection-27">
<a href="#Miscellaneous_configuration_files"><span class="tocnumber">4.2.1</span> <span class="toctext">Miscellaneous configuration files</span></a>
<ul>
<li class="toclevel-4 tocsection-28"><a href="#ALSA_.2Fetc.2Fasound.conf"><span class="tocnumber">4.2.1.1</span> <span class="toctext">ALSA /etc/asound.conf</span></a></li>
<li class="toclevel-4 tocsection-29"><a href="#.2Fetc.2Fdbus-1.2Fsystem.d.2Fbluetooth.conf"><span class="tocnumber">4.2.1.2</span> <span class="toctext">/etc/dbus-1/system.d/bluetooth.conf</span></a></li>
<li class="toclevel-4 tocsection-30"><a href="#Tested_applications"><span class="tocnumber">4.2.1.3</span> <span class="toctext">Tested applications</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-31">
<a href="#Switch_between_HSV_and_A2DP_setting"><span class="tocnumber">5</span> <span class="toctext">Switch between HSV and A2DP setting</span></a>
<ul>
<li class="toclevel-2 tocsection-32">
<a href="#A2DP_not_working_with_PulseAudio"><span class="tocnumber">5.1</span> <span class="toctext">A2DP not working with PulseAudio</span></a>
<ul>
<li class="toclevel-3 tocsection-33"><a href="#Socket_interface_problem"><span class="tocnumber">5.1.1</span> <span class="toctext">Socket interface problem</span></a></li>
<li class="toclevel-3 tocsection-34"><a href="#Gnome_with_GDM"><span class="tocnumber">5.1.2</span> <span class="toctext">Gnome with GDM</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-35"><a href="#Tested_headsets"><span class="tocnumber">6</span> <span class="toctext">Tested headsets</span></a></li>
<li class="toclevel-1 tocsection-36"><a href="#See_also"><span class="tocnumber">7</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Headset_via_Bluez5.2FPulseAudio">Headset via Bluez5/PulseAudio</span></h2>
<p>PulseAudio 5.x supports A2DP per default.
Make sure the following packages are <a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">installed</a>: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=pulseaudio-alsa">pulseaudio-alsa</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=pulseaudio-bluetooth">pulseaudio-bluetooth</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=bluez">bluez</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=bluez-libs">bluez-libs</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=bluez-utils">bluez-utils</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=bluez-firmware">bluez-firmware</a></span>. Without <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=pulseaudio-bluetooth">pulseaudio-bluetooth</a></span> you won't be able to connect after the next pairing and you won't get any usable error messages.
</p>
<p><a href="../en/Systemd.html#Using_units" title="Start" class="mw-redirect">Start</a> the <code>bluetooth.service</code> systemd unit.
</p>
<p>Now we can use the <i>bluetoothctl</i> command line utility to pair and connect. For troubleshooting and more detailed explanations of <i>bluetoothctl</i> see the <a href="../en/Bluetooth.html" title="Bluetooth">Bluetooth</a> article. Run
</p>
<pre># bluetoothctl
</pre>
<p>to be greeted by its internal command prompt. Then enter:
</p>
<pre># power on
# agent on
# default-agent
# scan on
</pre>
<p>Now make sure that your headset is in pairing mode. It should be discovered shortly. For example,
</p>
<pre>[NEW] Device 00:1D:43:6D:03:26 Lasmex LBT10
</pre>
<p>shows a device that calls itself "Lasmex LBT10" and has MAC address <i>00:1D:43:6D:03:26</i>. We will now use that MAC address to initiate the pairing:
</p>
<pre># pair 00:1D:43:6D:03:26
</pre>
<p>After pairing, you also need to explicitly connect the device (every time?):
</p>
<pre># connect 00:1D:43:6D:03:26
</pre>
<p>If everything works correctly, you now have a separate output device in <a href="../en/PulseAudio.html" title="PulseAudio">PulseAudio</a>.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>The device may be off by default. Select its audio profile (<i>OFF</i>, A2DP, HFP) in the "Configuration" tab of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=pavucontrol">pavucontrol</a></span>.</div>
<p>You can now redirect any audio through that device using the "Playback" and "Recording" tabs of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=pavucontrol">pavucontrol</a></span>.
</p>
<p>You can now disable scanning again and exit the program:
</p>
<pre># scan off
# exit
</pre>
<h4><span class="mw-headline" id="Setting_up_auto_connection">Setting up auto connection</span></h4>
<p>To make your headset auto connect you need to enable PulseAudio's switch-on-connect module. Do this by adding the following lines to your  the following to your <code>/etc/pulse/default.pa</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pulse/default.pa</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
# automatically switch to newly-connected devices
load-module module-switch-on-connect
</pre>
<p>Now make <i>bluetoothctl</i> trust your Bluetooth headset by running <i>trust 00:1D:43:6D:03:26</i> inside the <i>bluetoothctl</i> console to prevent errors similar to:
</p>
<pre>bluetoothd[487]: Authentication attempt without agent
bluetoothd[487]: Access denied: org.bluez.Error.Rejected
</pre>
<pre>[bluetooth]# trust 00:1D:43:6D:03:26
</pre>
<p>By default, your Bluetooth adapter will not power on after a reboot. To make it power on after a reboot, add a udev rule:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-local.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Set bluetooth power up
ACTION=="add", SUBSYSTEM=="bluetooth", KERNEL=="hci[0-9]*", RUN+="/usr/bin/hciconfig %k up"</pre>
<h3><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h3>
<p>Many users report frustration with getting A2DP/Bluetooth Headsets to work. 
</p>
<h4><span class="mw-headline" id="Selected_audio_profile.2C_but_headset_inactive_and_audio_cannot_be_redirected">Selected audio profile, but headset inactive and audio cannot be redirected</span></h4>
<p>Deceptively, this menu is available before the device has been connected; annoyingly it will have no effect. The menu seems to be created as soon as the receiver recognizes the device.
</p>
<p>Make sure to run bluetoothctl (with sudo/as root) and connect the device manually. There may be configuration options to remove the need to do this each time, but neither pairing nor trusting induce automatic connecting for me.
</p>
<h4><span class="mw-headline" id="Pairing_fails_with_AuthenticationFailed">Pairing fails with AuthenticationFailed</span></h4>
<p>If pairing fails, you can try <a rel="nofollow" class="external text" href="https://stackoverflow.com/questions/12888589/linux-command-line-howto-accept-pairing-for-bluetooth-device-without-pin">disabling SSPMode</a> with:
</p>
<pre># hciconfig hci0 sspmode 0
</pre>
<h4><span class="mw-headline" id="Pairing_works.2C_but_connecting_does_not">Pairing works, but connecting does not</span></h4>
<p>You might see the following error in <i>bluetoothctl</i>:
</p>
<pre>[bluetooth]# connect 00:1D:43:6D:03:26
Attempting to connect to 00:1D:43:6D:03:26
Failed to connect: org.bluez.Error.Failed
</pre>
<p>To further investigate, have a look at the log via one of the following commands:
</p>
<pre># systemctl status bluetooth
# journalctl -n 20
</pre>
<p>You might see a message like this:
</p>
<pre>bluetoothd[5556]: a2dp-sink profile connect failed for 00:1D:43:6D:03:26: Protocol not available
</pre>
<p>This may be due to the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=pulseaudio-bluetooth">pulseaudio-bluetooth</a></span> package not being installed. Install it if it missing, then restart pulseaudio.
</p>
<p>If the issue is not due to the missing package, the problem in this case is that PulseAudio is not catching up. A common solution to this problem is to restart PulseAudio. Note that it is perfectly fine to run <i>bluetoothctl</i> as root while PulseAudio runs as user. After restarting PulseAudio, retry to connect. It is not necessary to repeat the pairing.
</p>
<p>If restarting PulseAudio does not work, you need to load module-bluetooth-discover.
</p>
<pre># pactl load-module module-bluetooth-discover
</pre>
<p>The same load-module command can be added to <code>/etc/pulse/default.pa</code>.
</p>
<p>If that still does not work, or you are using PulseAudio's system-wide mode, also load the following PulseAudio modules (again these can be loaded via your default.pa or system.pa):
</p>
<pre>module-bluetooth-policy
module-bluez5-device
module-bluez5-discover
</pre>
<h4><span class="mw-headline" id="Connecting_works.2C_but_I_cannot_play_sound">Connecting works, but I cannot play sound</span></h4>
<p>Make sure that you see the following messages in your system log:
</p>
<pre>bluetoothd[5556]: Endpoint registered: sender=:1.83 path=/MediaEndpoint/A2DPSource
bluetoothd[5556]: Endpoint registered: sender=:1.83 path=/MediaEndpoint/A2DPSink
</pre>
<p>If you see a message similar to this, you can go on and investigate your PulseAudio configuration. Otherwise, go back and ensure the connection is successful.
</p>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-go-next.png" class="image"><img alt="Tango-go-next.png" src="../File:Tango-go-next.png" width="48" height="48"></a><b>This article or section is a candidate for moving to <a href="../en/PulseAudio/Troubleshooting.html" title="PulseAudio/Troubleshooting">PulseAudio/Troubleshooting</a>.</b><a href="../File:Tango-go-next.png" class="image"><img alt="Tango-go-next.png" src="../File:Tango-go-next.png" width="48" height="48"></a></p>
<div>
<b>Notes:</b> The following seems to be general issue: <a rel="nofollow" class="external autonumber" href="https://wiki.archlinux.org/index.php?title=PulseAudio/Troubleshooting&amp;diff=next&amp;oldid=421986">[1]</a> (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Bluetooth_headset">Talk:Bluetooth headset#</a>)</div>
</div>
<p>When using <a href="../en/GDM.html" title="GDM">GDM</a>, another instance of PulseAudio is started, which "captures" your bluetooth device connection. This can be prevented by <a href="../en/Systemd.html#Using_units" title="Mask" class="mw-redirect">masking</a> the pulseaudio socket for the GDM user by doing the following:
</p>
<pre>$ mkdir -p ~gdm/.config/systemd/user
$ ln -s /dev/null ~gdm/.config/systemd/user/pulseaudio.socket
</pre>
<p>On next reboot the second instance of PulseAudio will not be started.
</p>
<p>It may happen that bluez wrongly considers an headset as not a2dp capable. In this case, search the index of the bluetooth device with
</p>
<pre>$ pacmd ls
</pre>
<p>Among the output there should be a section related to the bluetooth headset, containing something similar to
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">pacmd ls</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">index: 2
        name: &lt;bluez_card.XX_XX_XX_XX_XX_XX&gt;
        driver: &lt;module-bluez5-device.c&gt;
        owner module: 27
        properties:
                device.description = "SONY MDR-100ABN"
                device.string = "XX:XX:XX:XX:XX:XX"
                device.api = "bluez"
                device.class = "sound"
                ...</pre>
<p>To manually set the profile, run
</p>
<pre>$ pacmd set-card-profile 2 a2dp_sink
</pre>
<p>where 2 is the index of the device retirieved through <code>pacmd ls</code>.
</p>
<h4><span class="mw-headline" id="UUIDs_has_unsupported_type">UUIDs has unsupported type</span></h4>
<p>During pairing you might see this output in <i>bluetoothctl</i>:
</p>
<pre>[CHG] Device 00:1D:43:6D:03:26 UUIDs has unsupported type
</pre>
<p>This message is a very common one and can be ignored.
</p>
<h4><span class="mw-headline" id="PC_shows_device_as_paired.2C_but_is_not_recognized_by_device">PC shows device as paired, but is not recognized by device</span></h4>
<p>This might be due to the device not supporting bluetooth LE for pairing. 
</p>
<p>Try setting <code>ControllerMode = bredr</code> in <code>/etc/bluetooth/main.conf</code>. See <a rel="nofollow" class="external autonumber" href="http://unix.stackexchange.com/questions/292189/pairing-bose-qc-35-over-bluetooth-on-fedora">[2]</a>.
</p>
<h2><span class="mw-headline" id="Legacy_method:_ALSA-BTSCO">Legacy method: ALSA-BTSCO</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" width="48" height="48"></a><b>This article or section is out of date.</b><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Instructions rely on <a href="../en/ArchWiki:Archive.html" title="Bluez4" class="mw-redirect">bluez4</a>. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Bluetooth_headset">Talk:Bluetooth headset#</a>)</div>
</div>
<p>It is much easier to set up your bluetooth headset today, with bluez &gt;= 3.16. You may want to try the out-of-box python script in <a rel="nofollow" class="external text" href="http://fosswire.com/2008/01/11/a2dp-stereo-linux/">this blog</a> (you need edit the script to work with gconftool-2). There is also a piece of equivalent bash script <a rel="nofollow" class="external text" href="http://lymanrb.blogspot.com/2008/05/linux.html">here</a>.
</p>
<p>You need your headset's bdaddr. It is of the form <i>12:34:56:78:9A:BC</i>. Either find it in the documentation of your headset, on the headset itself or with the <b>hcitool scan</b> command.
</p>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/btsco/">btsco</a></span><sup><small>AUR</small></sup>.
</p>
<p>To load the kernel module, type:
</p>
<pre># modprobe snd-bt-sco
</pre>
<p>There will now be an extra audio device. Use <code>alsamixer -cN</code> (where N is most likely 1) to set the volume. You can access the device with any alsa-capable application by choosing the device <i>BT headset</i>, or with any OSS application by using <code>/dev/dspN</code> as the audio device.
</p>
<p>But to actually get any sound, you have to connect your headset to the computer first.
</p>
<h3><span class="mw-headline" id="Connecting_the_headset">Connecting the headset</span></h3>
<p>If you connect your headset for the first time, read the section about pairing first. To connect to your headset to the computer, use the command
</p>
<pre>$ btsco -f &lt;bdaddr&gt;
</pre>
<p>for example
</p>
<pre>$ btsco -f 12:34:56:78:9A:BC
</pre>
<h4><span class="mw-headline" id="Pairing_the_headset_with_your_computer">Pairing the headset with your computer</span></h4>
<p>The first time you connect the headset, you have to pair it with the computer. To do this, you need your headset's PIN. Depending on your headset you may have to reset the headset and repeat the pairing everytime you used the headset with another bluetooth device.
</p>
<p>There are two ways to pair your headset with the computer:
</p>
<h5><span class="mw-headline" id="Using_bluez-gnome">Using <i>bluez-gnome</i></span></h5>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" width="48" height="48"></a><b>This article or section is out of date.</b><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Package does no longer exist in the repositories. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Bluetooth_headset">Talk:Bluetooth headset#</a>)</div>
</div>
<p>Install the <i>bluez-gnome</i> package from the community repository. Then start the <b>bt-applet</b> program. Once you try to connect to the headset, a window will open and ask for the PIN.
</p>
<h5><span class="mw-headline" id="Using_passkey-agent">Using <i>passkey-agent</i></span></h5>
<p>Before connecting to the headset, enter the command
</p>
<pre>$ passkey-agent --default &lt;pin&gt;
</pre>
<p>where <i>&lt;pin&gt;</i> is your headset's PIN. Then try to connect to the headset.
</p>
<h3><span class="mw-headline" id="Headset_and_ALSA_Devices">Headset and ALSA Devices</span></h3>
<p>1. First if you have not already, <a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=bluez">bluez</a></span> from the <a href="../en/Official_repositories.html" title="Official repositories">official repositories</a>.
</p>
<p>2. Scan for your device
</p>
<pre>$ hcitool (-i &lt;optional hci#&gt;***) scan
</pre>
<p>3. Pair your headset with your device:
</p>
<pre>$ bluez-simple-agent (optional hci# ***) XX:XX:XX:XX:XX:XX
</pre>
<p>and put in your pin (0000 or 1234, etc)
</p>
<p>4. Make sure your <code>/etc/bluetooth/audio.conf</code> allows A2DP Audio Sinks. Place this line just bellow the [General] heading:
</p>
<pre>Enable=Source,Sink,Media,Socket
</pre>
<p>5. Add this to your <code>/etc/asound.conf</code> file:
</p>
<pre>#/etc/asound.conf

pcm.btheadset {
   type plug
   slave {
       pcm {
           type bluetooth
           device XX:XX:XX:XX:XX:XX 
           profile "auto"
       }   
   }   
   hint {
       show on
       description "BT Headset"
   }   
}
ctl.btheadset {
  type bluetooth
}  
</pre>
<p>6. Check to see if it has been added to alsa devices
</p>
<pre>$ aplay -L
</pre>
<p>7. Now play with aplay:
</p>
<pre>$ aplay -D btheadset /path/to/audio/file
</pre>
<p>or Mplayer:
</p>
<pre>$ mplayer -ao alsa:device=btheadset /path/to/audio/or/video/file
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDFFDD; border: thin solid #BBDDBB; overflow: hidden;">
<strong> Tip: </strong>To find hci# for a usb dongle, type in 
<pre>$ hcitool dev
</pre>
</div>
<h3><span class="mw-headline" id="Headset.27s_multimedia_buttons">Headset's multimedia buttons</span></h3>
<p>In order to get your bluetooth headset's multimedia buttons (play, pause, next, previous) working you need to create <code>/etc/modules-load.d/uinput.conf</code> containing <code>uinput</code>.
</p>
<h2><span class="mw-headline" id="Legacy_method:_PulseAudio">Legacy method: PulseAudio</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" width="48" height="48"></a><b>This article or section is out of date.</b><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Instructions rely on <a href="../en/ArchWiki:Archive.html" title="Bluez4" class="mw-redirect">bluez4</a> (references to <code>/etc/bluetooth/audio.conf</code> and <i>bluez-simple-agent</i>). (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Bluetooth_headset">Talk:Bluetooth headset#</a>)</div>
</div>
<p>This one is much easier and more elegant. PulseAudio will seamlessly switch between output devices when the headset is turned on. If you have ALSA as the sound server, you need the following packages installed:
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=pulseaudio">pulseaudio</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=pulseaudio-alsa">pulseaudio-alsa</a></span>.
</p>
<p>Now, to configure the audio output to use bluetooth, just install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=pavucontrol">pavucontrol</a></span> and run it to configure the audio output:
</p>
<pre>$ pavucontrol
</pre>
<p>Make sure to take a look at the <a href="../en/PulseAudio.html" title="PulseAudio">PulseAudio</a> wiki entry for setting up PulseAudio, especially if you are running KDE.
</p>
<h3><span class="mw-headline" id="Troubleshooting_2">Troubleshooting</span></h3>
<h4><span class="mw-headline" id="Audio_sink_fails">Audio sink fails</span></h4>
<p>Bluetooth headset is connected, but ALSA/PulseAudio fails to pick up the connected device. You will get "Audio sink fails".
According to <a rel="nofollow" class="external text" href="http://wiki.gentoo.org/wiki/Bluetooth_Headset">gentoo wiki</a>, you have to verify than in <code>/etc/bluetooth/audio.conf</code> there is <code>Enable=Socket</code> under the <code>[General]</code> section heading.
</p>
<p>Just do a <code># systemctl restart bluetooth</code> to apply it.
</p>
<h4><span class="mw-headline" id="Page_timeout_issue">Page timeout issue</span></h4>
<p>If you receive this error whilst trying to pair your headset with your system using bluez-simple-agent, then you can try to restart your system and use the graphical bluez applet of your desktop environment.
</p>
<h2><span class="mw-headline" id="Legacy_documentation:_ALSA.2C_bluez5_and_PulseAudio_method">Legacy documentation: ALSA, bluez5 and PulseAudio method</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Describes two different methods, see the <a href="../en/Talk:Bluetooth_headset.html#bluez5_method:_overcomplicated_instructions" title="Talk:Bluetooth headset">talk page</a> for details. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Bluetooth_Headset#bluez5_method:_overcomplicated_instructions">Talk:Bluetooth_Headset#bluez5_method:_overcomplicated_instructions</a>)</div>
</div>
<a href="../en/Advanced_Linux_Sound_Architecture.html" title="ALSA" class="mw-redirect">ALSA</a>, <a href="../en/Bluetooth.html" title="Bluez" class="mw-redirect">bluez5</a>, and <a href="../en/PulseAudio.html" title="PulseAudio">PulseAudio</a> work together to allow a wireless <a href="../en/Bluetooth.html" title="Bluetooth">Bluetooth</a> headset to play audio. The following method works with a Lenovo T61p laptop and SoundBot SB220 wireless bluetooth headset. The required software stack is extensive and failure to include all components can produce errors which are difficult to understand. The following list of software packages might not be the minimum required set and needs to be examined more closely.
<p>Bluez5 has a regression causing HSP/HFP Telephone profile to not be available. This regression is documented in the <a rel="nofollow" class="external text" href="http://www.freedesktop.org/wiki/Software/PulseAudio/Notes/5.0/">draft release notes for Pulseaudio 5.0</a> which say (in "Notes for packagers"): "PulseAudio now supports BlueZ 5, but only the A2DP profile. BlueZ 4 is still the only way to make HSP/HFP work." (<a rel="nofollow" class="external text" href="https://fedoraproject.org/wiki/Common_F20_bugs#bluez5-profile">from here</a>)
</p>
<h3><span class="mw-headline" id="Install_Software_Packages">Install Software Packages</span></h3>
<p>The core software components are <a href="../en/Advanced_Linux_Sound_Architecture.html" title="ALSA" class="mw-redirect">ALSA</a>, Bluez5, <a href="../en/PulseAudio.html" title="PulseAudio">PulseAudio</a>. However there are additional libraries which are required. As well as a player which can play audio files. The following section lists the software packages installed in order to connect the headset and play audio over the headset.
</p>
<h4><span class="mw-headline" id="Install_ALSA_and_associated_libraries">Install ALSA and associated libraries</span></h4>
<p><a href="../en/Advanced_Linux_Sound_Architecture.html" title="ALSA" class="mw-redirect">ALSA</a> works with the linux kernel to provide audio services to user mode software. The following packages are used with the <a href="../en/Bluetooth.html" title="Bluetooth">Bluetooth</a> headset: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=alsa-utils">alsa-utils</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=alsa-plugins">alsa-plugins</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=alsa-tools">alsa-tools</a></span>.
</p>
<h4><span class="mw-headline" id="Install_Bluez5">Install Bluez5</span></h4>
<p>Bluez5 is the latest <a href="../en/Bluetooth.html" title="Bluetooth">Bluetooth</a> stack. It is required for <a href="../en/PulseAudio.html" title="PulseAudio">PulseAudio</a> to interface with wireless headsets. Required packages: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=bluez">bluez</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=bluez-utils">bluez-utils</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=bluez-libs">bluez-libs</a></span>.
</p>
<h4><span class="mw-headline" id="Install_Audacious">Install Audacious</span></h4>
<p><a href="../en/Audacious.html" title="Audacious">Audacious</a> is a program which plays audio files. It can work directly with <a href="../en/Advanced_Linux_Sound_Architecture.html" title="ALSA" class="mw-redirect">ALSA</a> or with <a href="../en/PulseAudio.html" title="PulseAudio">PulseAudio</a>. Required packages: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=audacious">audacious</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=audacious-plugins">audacious-plugins</a></span>.
</p>
<h3><span class="mw-headline" id="Procedure">Procedure</span></h3>
<p>Once the required packages are installed, use this procedure to play audio with a bluetooth headset. The high level overview of the procedure is to pair the headset, connect the headset, configure the player and pulse audio controller and then play audio.
</p>
<p>Start the bluetooth service as root:
</p>
<pre># systemctl start bluetooth
</pre>
<p>Verify Bluetooth is started
</p>
<pre># systemctl status bluetooth
bluetooth.service - Bluetooth service
  Loaded: loaded (/usr/lib/systemd/system/bluetooth.service; disabled)
  Active: active (running) since Sat 2013-12-07 12:31:14 PST; 12s ago
    Docs: man:bluetoothd(8)
Main PID: 3136 (bluetoothd)
  Status: "Running"
  CGroup: /system.slice/bluetooth.service
          └─3136 /usr/lib/bluetooth/bluetoothd

Dec 07 12:31:14 t61p systemd[1]: Starting Bluetooth service...
Dec 07 12:31:14 t61p bluetoothd[3136]: Bluetooth daemon 5.11
Dec 07 12:31:14 t61p systemd[1]: Started Bluetooth service.
Dec 07 12:31:14 t61p bluetoothd[3136]: Starting SDP server
Dec 07 12:31:14 t61p bluetoothd[3136]: Bluetooth management interface 1.3 i...ed
Hint: Some lines were ellipsized, use -l to show in full.
</pre>
<p>Start the PulseAudio daemon.  This must be done after X windows is started and as a normal user.
</p>
<pre>$ pulseaudio -D
</pre>
<p>Verify the PulseAudio daemon is running.
</p>
<pre>$ pulseaudio --check -v
I: [pulseaudio] main.c: Daemon running as PID 3186
</pre>
<p>Start up bluetoothctl as root and pair and connect your headset. As a regular user, bluetoothctl will pair but not connect. Perhaps this is related to the config file (shown below) which is setup for what appears to be the root user.
Note: the procedure shown below is for an initial pair and connect of the headphone. If the headset is already paired, then the procedure below can be shortened to: power on, agent on, default-agent, connect &lt;mac address&gt;. The mac address can be seen from the devices command output.
</p>
<pre> $ bluetoothctl 
 [NEW] Controller 00:1E:4C:F4:98:5B t61p-0 [default]
 [NEW] Device 00:1A:7D:12:36:B9 SoundBot SB220
 [bluetooth]# show
 Controller 00:1E:4C:F4:98:5B
       Name: t61p
       Alias: t61p-0
       Class: 0x000000
       Powered: no
       Discoverable: no
       Pairable: yes
       UUID: PnP Information           (00001200-0000-1000-8000-00805f9b34fb)
       UUID: Generic Access Profile    (00001800-0000-1000-8000-00805f9b34fb)
       UUID: Generic Attribute Profile (00001801-0000-1000-8000-00805f9b34fb)
       UUID: A/V Remote Control        (0000110e-0000-1000-8000-00805f9b34fb)
       UUID: A/V Remote Control Target (0000110c-0000-1000-8000-00805f9b34fb)
       UUID: Audio Source              (0000110a-0000-1000-8000-00805f9b34fb)
       UUID: Audio Sink                (0000110b-0000-1000-8000-00805f9b34fb)
       Modalias: usb:v1D6Bp0246d050B
       Discovering: no
 [bluetooth]# power on
 [CHG] Controller 00:1E:4C:F4:98:5B Class: 0x0c010c
 Changing power on succeeded
 [CHG] Controller 00:1E:4C:F4:98:5B Powered: yes
 [bluetooth]# agent on
 Agent registered
 [bluetooth]# default-agent
 Default agent request successful
</pre>
<p>&lt;power on your headset in pairing mode. Eventually you will see what appears to be a mac address.&gt;
</p>
<pre> [bluetooth]# scan on
 Discovery started
 [CHG] Controller 00:1E:4C:F4:98:5B Discovering: yes
 [CHG] Device 00:1A:7D:12:36:B9 RSSI: -61
 [bluetooth]# pair 00:1A:7D:12:36:B9
 Attempting to pair with 00:1A:7D:12:36:B9
 [CHG] Device 00:1A:7D:12:36:B9 Connected: yes
 [CHG] Device 00:1A:7D:12:36:B9 UUIDs has unsupported type
 [CHG] Device 00:1A:7D:12:36:B9 Paired: yes
 Pairing successful
 [bluetooth]# connect 00:1A:7D:12:36:B9
 [CHG] Device 00:1A:7D:12:36:B9 Connected: yes
 Connection successful
 [bluetooth]# info 00:1A:7D:12:36:B9
 Device 00:1A:7D:12:36:B9
       Name: SoundBot SB220
       Alias: SoundBot SB220
       Class: 0x240404
       Icon: audio-card
       Paired: yes
       Trusted: no
       Blocked: no
       Connected: yes
       LegacyPairing: yes
       UUID: Headset                   (00001108-0000-1000-8000-00805f9b34fb)
       UUID: Audio Sink                (0000110b-0000-1000-8000-00805f9b34fb)
       UUID: A/V Remote Control Target (0000110c-0000-1000-8000-00805f9b34fb)
       UUID: A/V Remote Control        (0000110e-0000-1000-8000-00805f9b34fb)
       UUID: Handsfree                 (0000111e-0000-1000-8000-00805f9b34fb)
</pre>
<p>Start up alsamixer, for simplicity un-mute all your outputs. Oddly enough some can be muted though. The ones I had muted during playback were:
</p>
<ul>
<li> Headphones</li>
<li> SPIDF</li>
</ul>
<p>Start up audacious. Use the menu to select PulseAudio as your output. Somewhere I read that bluez5 requires pulseaudio-git and this jives with my experience.
</p>
<p>Start up pavucontrol in a terminal. In the Outputs tab select the bluetooth headset.
</p>
<p><a rel="nofollow" class="external text" href="http://netskink.blogspot.com/2013/12/pulseaudio-pavucontrol-and-audacious.html">screenshot of application settings</a>
</p>
<h4><span class="mw-headline" id="Miscellaneous_configuration_files">Miscellaneous configuration files</span></h4>
<p>For reference, these settings were also done.
</p>
<h5><span class="mw-headline" id="ALSA_.2Fetc.2Fasound.conf">ALSA /etc/asound.conf</span></h5>
<p>The settings shown at the top of this page was used, but the additional modification for Intel laptop sound cards.
</p>
<pre>
pcm.btheadset {
  type plug
  slave {
    pcm {
      type bluetooth
      device 00:1A:7D:12:36:B9
      profile "auto"
    }
  }
  hint {
    show on
    description "BT Headset"
  }
}
ctl.btheadset {
  type bluetooth
}
options snd-hda-intel model=laptop
</pre>
<h5><span class="mw-headline" id=".2Fetc.2Fdbus-1.2Fsystem.d.2Fbluetooth.conf">/etc/dbus-1/system.d/bluetooth.conf</span></h5>
<p>The settings here seem to be enabled for root only.  See the policy user="root" section.  However, if a regular user is specified here, the system fails to start.  Someone with more knowledge could explain why.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/dbus-1/system.d/bluetooth.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
&lt;!-- This configuration file specifies the required security policies for Bluetooth core daemon to work. --&gt;

&lt;!DOCTYPE busconfig PUBLIC "-//freedesktop//DTD D-BUS Bus Configuration 1.0//EN"
  "http://www.freedesktop.org/standards/dbus/1.0/busconfig.dtd"&gt;
&lt;busconfig&gt;

  &lt;!-- ../system.conf have denied everything, so we just punch some holes --&gt;

  &lt;policy user="root"&gt;
    &lt;allow own="org.bluez"/&gt;
    &lt;allow send_destination="org.bluez"/&gt;
    &lt;allow send_interface="org.bluez.Agent1"/&gt;
    &lt;allow send_interface="org.bluez.MediaEndpoint1"/&gt;
    &lt;allow send_interface="org.bluez.MediaPlayer1"/&gt;
    &lt;allow send_interface="org.bluez.ThermometerWatcher1"/&gt;
    &lt;allow send_interface="org.bluez.AlertAgent1"/&gt;
    &lt;allow send_interface="org.bluez.Profile1"/&gt;
    &lt;allow send_interface="org.bluez.HeartRateWatcher1"/&gt;
    &lt;allow send_interface="org.bluez.CyclingSpeedWatcher1"/&gt;
  &lt;/policy&gt;

  &lt;policy at_console="true"&gt;
    &lt;allow send_destination="org.bluez"/&gt;
  &lt;/policy&gt;

  &lt;!-- allow users of lp group (printing subsystem) to communicate with bluetoothd --&gt;
  &lt;policy group="lp"&gt;
    &lt;allow send_destination="org.bluez"/&gt;
  &lt;/policy&gt;

  &lt;policy context="default"&gt;
    &lt;deny send_destination="org.bluez"/&gt;
  &lt;/policy&gt;

&lt;/busconfig&gt;
</pre>
<h5><span class="mw-headline" id="Tested_applications">Tested applications</span></h5>
<p>As noted above this will work easily with audacious. YouTube videos with Chromium and Flash Player will work on some videos. If the video has ads it will not work, but if the video does not have ads it will work. Just make sure that after audacious is working with Bluetooth headset, start Chromium, and navigate to YouTube. Find a video without leading ads, and it should play the audio. If the settings icon has the a menu with two drop-down combo boxes for Speed and Quality it will play.
</p>
<h2><span class="mw-headline" id="Switch_between_HSV_and_A2DP_setting">Switch between HSV and A2DP setting</span></h2>
<p>This can easily be achieved by the following command where 2 needs to be changed with the correct device number.
</p>
<pre>pacmd set-card-profile 2 a2dp_sink
</pre>
<h3><span class="mw-headline" id="A2DP_not_working_with_PulseAudio">A2DP not working with PulseAudio</span></h3>
<h4><span class="mw-headline" id="Socket_interface_problem">Socket interface problem</span></h4>
<p>If PulseAudio fails when changing the profile to A2DP with bluez 4.1+ and PulseAudio 3.0+, you can try disabling the Socket interface from <code>/etc/bluetooth/audio.conf</code> by removing the line <code>Enable=Socket</code> and adding line <code>Disable=Socket</code>.
</p>
<h4><span class="mw-headline" id="Gnome_with_GDM">Gnome with GDM</span></h4>
<div class="noprint archwiki-template-message">
<p><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" width="48" height="48"></a><b>This article or section is a candidate for merging with <a href="#Connecting_works.2C_but_I_cannot_play_sound">#Connecting works, but I cannot play sound</a>.</b><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" width="48" height="48"></a></p>
<div>
<b>Notes:</b> duplicate instructions (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Bluetooth_headset">Talk:Bluetooth headset#</a>)</div>
</div>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Below was tested with Gnome 3.18.4 and PulseAudio 8.0</div>
<p>If PulseAudio fails when changing the profile to A2DP while using GNOME with GDM, you need to prevent GDM from starting its own instance of PulseAudio :
</p>
<ul><li> Prevent Pulseaudio clients from automatically starting a server if one isn't running by adding the following lines to <code>/var/lib/gdm/.config/pulse/client.conf</code> :</li></ul>
<pre>autospawn = no
daemon-binary = /bin/true</pre>
<ul><li> Prevent systemd from starting Pulseaudio anyway with socket activation :</li></ul>
<pre>
sudo -ugdm mkdir -p /var/lib/gdm/.config/systemd/user
sudo -ugdm ln -s /dev/null /var/lib/gdm/.config/systemd/user/pulseaudio.socket
</pre>
<ul><li> Restart, and check that there is no Pulseaudio process for the <code>gdm</code> user.</li></ul>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Discussion about this problem can be found <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=194006">here</a> and <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=196689">here</a>
</div>
<h2><span class="mw-headline" id="Tested_headsets">Tested headsets</span></h2>
<table class="wikitable sortable">
<tr>
<th> Model
</th>
<th> Version
</th>
<th> Comments
</th>
<th> Compatible
</th>
</tr>
<tr>
<td> <b>Philips SHB9150</b>
</td>
<td> bluez5, pulseaudio 9
</td>
<td>
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Philips SHB9100</b>
</td>
<td>
</td>
<td> Pause and resume is flaky. See <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?pid=1315428#p1315428">[3]</a> for the underlying issue and a temporary solution to improve audio quality.
</td>
<td style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Limited
</td>
</tr>
<tr>
<td> <b>Philips SHB7000</b>
</td>
<td>
</td>
<td> Pause and resume is flaky.
</td>
<td style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Limited
</td>
</tr>
<tr>
<td> <b>Philips SHB7100</b>
</td>
<td> bluez 5.32, pulseaudio 6.0
</td>
<td> Next/previous buttons work. Pause and resume is flaky (sometimes works in VLC, not at all in Audacious). Tested only A2DP and Handsfree audio out, built-in mic was broken.
</td>
<td style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Limited
</td>
</tr>
<tr>
<td> <b>Philips SHB7150</b>
</td>
<td> bluez 5.32, pulseaudio 6.0
</td>
<td> Next/previous buttons work. Pause and resume work in VLC. Tested only A2DP profile.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Philips SHB5500BK/00</b>
</td>
<td> bluez 5.28, PulseAudio 6.0
</td>
<td> Pause and resume is not working.
</td>
<td style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Limited
</td>
</tr>
<tr>
<td> <b>Parrot Zik</b>
</td>
<td>
</td>
<td> Microphone detected but does not work (HSP profile unavailable). If the Bluetooth connection cuts, there will be a noticeable delay in audio. Work around by reinitializing the Bluetooth connection.
</td>
<td style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Limited
</td>
</tr>
<tr>
<td> <b>Parrot Zik 2.0</b>
</td>
<td>
</td>
<td> Microphone detected but does not work (HSP profile unavailable). If the Bluetooth connection cuts, there will be a noticeable delay in audio. Work around by reinitializing the Bluetooth connection.
</td>
<td style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Limited
</td>
</tr>
<tr>
<td> <b>Parrot Zik 3.0</b>
</td>
<td>
</td>
<td> Microphone detected but does not work (HSP profile unavailable). No delay issues.
</td>
<td style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Limited
</td>
</tr>
<tr>
<td> <b>Sony DR-BT50</b>
</td>
<td> bluez{4,5}
</td>
<td> Works for a2dp, see <a rel="nofollow" class="external autonumber" href="http://vlsd.blogspot.com/2013/11/bluetooth-headphones-and-arch-linux.html">[4]</a>). Adapter: D-Link DBT-120 USB dongle.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Sony SBH50</b>
</td>
<td> bluez5
</td>
<td> Works for a2dp, Adapter: Broadcom Bluetooth 2.1 Device (Vendor=0a5c ProdID=219b Rev=03.43). Requires the <code>btusb</code> <a href="../en/Kernel_modules.html" title="Modprobe" class="mw-redirect">module</a>.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Sony MDR-XB950BT</b>
</td>
<td> pulseaudio
</td>
<td> Tested a2dp. Adapter: Grand-X BT40G. Doesn't auto-connect, need to connect manually. Other functionality works fine.
</td>
<td style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Limited
</td>
</tr>
<tr>
<td> <b>Sony MUC-M1BT1</b>
</td>
<td> bluez5, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pulseaudio-git/">pulseaudio-git</a></span><sup><small>AUR</small></sup>
</td>
<td> Both A2DP &amp; HSP/HFP work fine.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>SoundBot SB220</b>
</td>
<td> bluez5, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pulseaudio-git/">pulseaudio-git</a></span><sup><small>AUR</small></sup>
</td>
<td>
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Auna Air 300</b>
</td>
<td> bluez5, pulseaudio-git
</td>
<td> For some reason, a few restarts were required, and eventually it just started working.
</td>
<td style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Limited
</td>
</tr>
<tr>
<td> <b>Sennheiser MM 400-X</b>
</td>
<td> bluez5, pulseaudio 4.0-6
</td>
<td>
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Sennheiser MM 550-X Travel</b>
</td>
<td> bluez 5.27-1, pulseaudio 5.0-1
</td>
<td> Next/Previous buttons work out-of-the-box, Play/Pause does not
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Sennheiser URBANITE XL Wireless</b>
</td>
<td> bluez 5.37-2, pulseaudio 7.1-3
</td>
<td> A2DP High Fidelity Playback. Play/Pause/Next/Previous works out-of-the-box.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Audionic BlueBeats (B-777)</b>
</td>
<td> bluez5, pulseaudio 4.0-6
</td>
<td>
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Logitech Wireless Headset</b>
</td>
<td> bluez 5.14, pulseaudio-git
</td>
<td> part number PN 981-000381, advertised for use with iPad
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>HMDX Jam Classic Bluetooth</b>
</td>
<td> bluez, pulseaudio-git
</td>
<td>
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>PT-810</b>
</td>
<td> bluez 5.14, pulseaudio-git
</td>
<td> Generic USB-Powered Bluetooth Audio Receiver with 3.5mm headset jack and a2dp profile. Widely available as "USB Bluetooth Receiver." IDs as PT-810.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Philips SHB4000WT</b>
</td>
<td> bluez5
</td>
<td> A2DP works, HDP distorted.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Philips AEA2000/12</b>
</td>
<td> bluez5
</td>
<td>
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Nokia BH-104</b>
</td>
<td> bluez4
</td>
<td>
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Creative AirwaveHD</b>
</td>
<td> bluez 5.23
</td>
<td> Bluetooth adapter Atheros Communications usb: 0cf3:0036
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Creative HITZ WP380</b>
</td>
<td> bluez 5.27, pulseaudio 5.0-1
</td>
<td> A2DP Profile only. Buttons work (Play, Pause, Prev, Next). Volume buttons are hardware-only. Auto-connect works but you should include the bluetooth module in "pulseaudio" to switch to it automatically. Clear HD Music Audio (This device support APTx codec but it isn't supported in linux yet). You may have some latency problems which needs pulseaudio restart.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>deleyCON Bluetooth Headset</b>
</td>
<td> bluez 5.23
</td>
<td> Adapter: CSL - USB nano Bluetooth-Adapter V4.0. Tested a2dp profile. Untested microphone. Does not auto-connect (even when paired and trusted), must connect manually. Play/pause button mutes/unmutes the headphones, not the playback. Playback fwd/bwd buttons do not work (nothing visible with <i>xev</i>).
</td>
<td style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Limited
</td>
</tr>
<tr>
<td> <b>UE BOOM</b>
</td>
<td> bluez 5.27, pulseaudio-git 5.99
</td>
<td> Update to latest UE BOOM fw 1.3.58. Sound latency in video solved by configuring pavucontrol. Works with UE BOOM x2.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>LG HBS-730</b>
</td>
<td> bluez 5.30, pulseaudio 6.0
</td>
<td> Works out of box with A2DP profile.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>LG HBS-750</b>
</td>
<td> bluez 5.30, pulseaudio-git 6.0
</td>
<td> Works out of box with A2DP profile.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Beats Studio Wireless</b>
</td>
<td> bluez 5.28, pulseaudio 6.0
</td>
<td> Works out of box. Not tested multimedia buttons.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>AKG Y45BT</b>
</td>
<td> bluez 5.30, pulseaudio 6.0
</td>
<td> Pause and resume does not work. Needs <code>Enable=Socket</code> in <code>/etc/bluetooth/audio.conf</code> and <code>load-module module-bluetooth-discover</code> in <code>/etc/pulse/default.pa</code>.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Bluedio Turbine/Turbine 2+</b>
</td>
<td> bluez 5.3, pulseaudio 6.0
</td>
<td> HSP/HFP work fine, A2DP work fine.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Sony SBH20</b>
</td>
<td> bluez 5.30, pulseaudio 6.0
</td>
<td> Works out of box with A2DP profile.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Nokia BH-111</b>
</td>
<td> bluez 5.30, pulseaudio 6.0
</td>
<td> Works with both HSP/HFP and A2DP. Buttons work in certain apps.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Sony MDR-ZX330BT</b>
</td>
<td> bluez 5.31, pulseaudio 6.0
</td>
<td> Works out of box (HSP/HFP and A2DP). Buttons work in certain apps.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Samsung Level Link</b>
</td>
<td> bluez 5.33, pulseaudio 6.0
</td>
<td> Works out of box (HSP/HFP and A2DP). Buttons work in certain apps.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Bernafon Soundgate 3</b>
</td>
<td> bluez 5.34-2, pulseaudio 7.0-1
</td>
<td> Works (A2DP) after installing blueman-git 2.0.r53.g2a812a8-1.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>JBL E40 BT</b>
</td>
<td> bluez 5.35, pulseaudio 7.0
</td>
<td> Connection works after installing blueberry and blueman. A2DP works after adding Disable=Socket to <code>/etc/bluetooth/audio.conf</code>. Media buttons works.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Sony SBH80</b>
</td>
<td> bluez 5.36, pulseaudio 7.1
</td>
<td> Media buttons do not work. A2DP works after disabling profiles and enabling A2DP in blueman.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Kitsound Manhattan</b>
</td>
<td> bluez 5.37, pulseaudio 7.13
</td>
<td> All appears to work fine.  If Pulseaudio is run as root ( --system) rather than as a user, it often resuls in either a refusal to connect once paired, or else a complete system freeze ( asking for the access PIN )!  You have been warned.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>JBL Everest 300</b>
</td>
<td> bluez 5.37, pulseaudio 8.0
</td>
<td> Everything works correctly.  Headphones connected with HSP/HFP profile and sound quality was bad, but after switching profile in <b>pavucontrol</b> to A2DP sink sound quality went way up (as expected). Pairing went without issues.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Logitech UE9000</b>
</td>
<td> bluez 5.37, pulseaudio 7.1, gnome 3.18.2
</td>
<td> Audio playback works correctly after gnome/gdm fix <a href="#Connecting_works.2C_but_I_cannot_play_sound">here</a>. Audio profile defaults to HSP/HFP. Microphone works in both HSP/HFP and A2DP profiles. Play/Pause and Fwd/Back functions work correctly in Spotify and VLC
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Bose AE2 SoundLink</b>
</td>
<td> bluez 5.36, pulseaudio 7.1
</td>
<td> Pause and resume does not work. Microphone does not work.
</td>
<td style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Limited
</td>
</tr>
<tr>
<td> <b>Jawbone Jambox</b>
</td>
<td> bluez 5.38, pulseaudio 8.0
</td>
<td>
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Plantronics BackBeat FIT</b>
</td>
<td> bluez5, pulseaudio 8.0
</td>
<td> Fully working on both headset and a2dp profiles. Pause button pauses the player. (Tested in mpv.)
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Aukey EP-B26</b>
</td>
<td> bluez 5.39-1, pulseaudio 8.0-3
</td>
<td> Fully working on both headset(poor quality) and a2dp(good quality) profiles. Pause button pauses the player, back/forth goes to previous/next song. (Tested in mpv) Microphone works only in HSP/HFP mode.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Plantronics BackBeat Pro</b>
</td>
<td> bluez5, pulseaudio 9.0
</td>
<td> Fully working on both headset and a2dp profiles. Pause button as well as removing the headset from the ears pauses the player.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Bose QuietComfort 35</b>
</td>
<td> bluez 5.41, pulseaudio 9.0
</td>
<td> Set <code>ControllerMode=bredr</code> to successfully pair.
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Sennheiser Momentum 2</b>
</td>
<td> bluez5, pulseaudio 9.0-1
</td>
<td> The A2DP profile change may fail if not avoided gdm to start fix is applied
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <b>Blue Tiger Dual Elite</b>
</td>
<td> bluez-5.42-1, pulseaudio 9.0-1
</td>
<td> Connects with <code>pulseaudio-bluetooth</code> package, mic &amp; controls not tested
</td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
</table>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<p>Using the same device on Windows and Linux without pairing the device over and over again
</p>
<ul><li> <a rel="nofollow" class="external text" href="http://ubuntuforums.org/showthread.php?p=9363229#post9363229">Dual booting with a Bluetooth keyboard</a>
</li></ul>

</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Sound.html" title="Category:Sound">Sound</a></li>
<li><a href="../en/Category:Bluetooth.html" title="Category:Bluetooth">Bluetooth</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Move.html" title="Category:Pages or sections flagged with Template:Move">Pages or sections flagged with Template:Move</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Merge.html" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li>
</ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
