<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Linuxsampler - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Linuxsampler skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Linuxsampler</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p>Linuxsampler is a software <a href="https://en.wikipedia.org/wiki/Sampler_(musical_instrument)" class="extiw" title="wikipedia:Sampler (musical instrument)">audio sampler</a>.It can be loaded with sound libraries in the gigasampler format (.gig).
One benefit of LS is it can stream the samples directly from hard disk, allowing the usage of huge libraries (several GBs..).LS can be started as a standalone application or lv2 or dssi plugin. 
By now, "Linuxsampler" refers to a group of software interacting together :
</p>
<ul>
<li> the sampler engine itself : linuxsampler</li>
<li> a gig file editor : gigedit</li>
<li> several graphical frontends : qsampler (QT based), jsampler-classic and jsampler-fantasia (both java based)</li>
</ul>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Quick_Installation"><span class="tocnumber">1</span> <span class="toctext">Quick Installation</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#The_.28not_so.29_long_way"><span class="tocnumber">2</span> <span class="toctext">The (not so) long way</span></a>
<ul>
<li class="toclevel-2 tocsection-3">
<a href="#Installation"><span class="tocnumber">2.1</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#The_backend_:_Linuxsampler"><span class="tocnumber">2.1.1</span> <span class="toctext">The backend : Linuxsampler</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#The_editor_:_Gigedit"><span class="tocnumber">2.1.2</span> <span class="toctext">The editor : Gigedit</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#The_frontend_:_Qsampler"><span class="tocnumber">2.1.3</span> <span class="toctext">The frontend : Qsampler</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="#Building_a_default_template_in_qsampler"><span class="tocnumber">2.2</span> <span class="toctext">Building a default template in qsampler</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Building_a_performance_template_in_qsampler"><span class="tocnumber">2.3</span> <span class="toctext">Building a performance template in qsampler</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#Advanced_topics"><span class="tocnumber">3</span> <span class="toctext">Advanced topics</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Filtering_midi_messages_before_they_reach_LS"><span class="tocnumber">3.1</span> <span class="toctext">Filtering midi messages before they reach LS</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11">
<a href="#Troubleshooting"><span class="tocnumber">4</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#Port_conflict_with_BitTorrent_Sync"><span class="tocnumber">4.1</span> <span class="toctext">Port conflict with BitTorrent Sync</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href="#External_Resources"><span class="tocnumber">5</span> <span class="toctext">External Resources</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="#TODO"><span class="tocnumber">6</span> <span class="toctext">TODO</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Quick_Installation">Quick Installation</span></h2>
<p>All packages are available from the <a href="../en/Arch_User_Repository.html" title="AUR" class="mw-redirect">AUR</a>.
</p>
<ul>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/qsampler/">qsampler</a></span><sup><small>AUR</small></sup>, a Qt interface</li>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=jsampler">jsampler</a></span>, a Java interface</li>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=gigedit">gigedit</a></span>, a gig file editor</li>
</ul>
<p>You can now run qsampler which will automatically start linuxsampler. If you use jsampler, you have to start linuxsampler first.
</p>
<h2><span class="mw-headline" id="The_.28not_so.29_long_way">The (not so) long way</span></h2>
<h3><span class="mw-headline" id="Installation">Installation</span></h3>
<p><b>IMPORTANT NOTE 1</b> : Follow the installation order of theses components to get a working set of apps.
All packages are available from the <a href="../en/Arch_User_Repository.html" title="AUR" class="mw-redirect">AUR</a>. 
</p>
<h4><span class="mw-headline" id="The_backend_:_Linuxsampler">The backend : Linuxsampler</span></h4>
<p>It is the "engine" of the sampler, which performs all the heavy and time critical computational tasks of handling MIDI events, calculating the audio data and sending the final audio data to your sound card(s). LinuxSampler itself usually runs as own process in the background of the computer and usually does not show up anything on the screen, or at most it can be launched to show status information and debug messages in a console window. Usually you will also need a frontend to control it.
</p>
<ul><li> Build and install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/libgig-svn/">libgig-svn</a></span><sup><small>AUR</small></sup> </li></ul>
<ul><li> Build and install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linuxsampler-svn/">linuxsampler-svn</a></span><sup><small>AUR</small></sup>  </li></ul>
<p>and check that the backend is ok :
</p>
<pre>$ linuxsampler
</pre>
<p>then <code>Ctrl+c</code> to quit.
</p>
<h4><span class="mw-headline" id="The_editor_:_Gigedit">The editor : Gigedit</span></h4>
<p>Gigedit allows you to edit and create instruments for the Gigasampler format, which can be used with LinuxSampler as well as with Tascam's Gigastudio. You can use gigedit as stand-alone application without Linuxsampler running or in live-mode, started from any frontend ("edit" button).In this case, all your modifications are audible in realtime.
</p>
<ul><li> Build and install (optional, you can skip this step if you do not need the editor): <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gigedit-svn/">gigedit-svn</a></span><sup><small>AUR</small></sup> </li></ul>
<p>and check that everything is ok :
</p>
<pre>$ gigedit
</pre>
<p>The editor should pop-up in "stand-alone" mode as indicated in the down-right corner.
Close the window.
</p>
<h4><span class="mw-headline" id="The_frontend_:_Qsampler">The frontend : Qsampler</span></h4>
<p>This frontend provides the user a set of menus, buttons, sliders, dials, etc. to allow the user to control the sampler in a convenient way. It does not perform any signal processing tasks, so you can see it as a "face" of the sampler. From Qsampler you can load/unload .gig files into Linuxsampler and set their midi channel number, volume, jack output etc...and finally store all this setup in a file for a speedy re-opening of your "sampling orchestra".
</p>
<ul><li> Build and install : <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/liblscp/">liblscp</a></span><sup><small>AUR</small></sup> </li></ul>
<ul><li> Build and install : <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/qsampler/">qsampler</a></span><sup><small>AUR</small></sup> <b>or</b> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/qsampler-svn/">qsampler-svn</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" title="ArchWiki:Requests">broken link</a>: archived in <a rel="nofollow" class="external text" href="https://github.com/felixonmars/aur3-mirror/tree/master/qsampler-svn">aur-mirror</a>]</sup>
</li></ul>
<h3><span class="mw-headline" id="Building_a_default_template_in_qsampler">Building a default template in qsampler</span></h3>
<p>Here, I will use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jack-keyboard/">jack-keyboard</a></span><sup><small>AUR</small></sup> as a MIDI controller, but everything below applies as well with a master keyboard or MIDI interface providing midi output.
</p>
<ul><li> Start jack then jack-keyboard then qsampler</li></ul>
<ul><li> Let's define some audio outputs in qsampler :</li></ul>
<dl>
<dd>Go to menu -&gt; View -&gt; Devices (or <code>F11</code> shortcut or the green pci card icon in the toolbar).</dd>
<dd>On the left panel, click on "Audio Devices".Now we can see the audio drivers available in the right panel.</dd>
<dd>Choose "Jack" in the Driver menu.The default config should give you a pair of audio outputs at a sample rate of 44100.</dd>
<dd>Click on the Create button down the window.</dd>
</dl>
<p><b>Note :</b> In some systems, qsampler crashes if this window is closed or even backgrounded while the Bottom-Right panel is still in view.Easy workaround : click on "Audio devices" or "Midi Devices" on the left panel before leaving or unfocusing the window.
</p>
<ul><li> If you want LS to auto-connect to jack system outputs when you launch your template :</li></ul>
<dl>
<dd>On the left panel, click on "Audio Jack Device 0" , then on right panel select "Audio Jack 0" from the "Channel" drop-down list.</dd>
<dd>Choose an output for the JACK_BINDINGS parameter, like "system:playback 1".</dd>
<dd>Select "Audio Jack 1" from the "Channel" drop-down list and assign JACK_BINDINGS parameter value, like system:playback 2"</dd>
</dl>
<ul><li> Now let's create a midi input also :</li></ul>
<dl>
<dd>On the left panel, click on "Midi Devices".</dd>
<dd>On the right panel, choose "jack" (jack-midi) in the Driver menu.</dd>
<dd>Hit the create button.</dd>
</dl>
<ul><li> If you want LS to auto-connect to jack-keyboard midi output when you launch your template :</li></ul>
<dl>
<dd>Select the "Midi jack device" port 0" on the left panel.</dd>
<dd>On the right panel, for the "JACK_BINDINGS" parameter value, choose "jack-keyboard:midi out".</dd>
</dl>
<p>Note that if jack-midi is not enabled in Qjackctl, you won't find the midi client in the drop-down list.You can check in Qjackctl setup : "Midi driver" should be set to "seq".A restart of jack and qsampler is needed.
</p>
<p>Also, if jack-keyboard or whatever midi controller you defined in here is not started before qsampler starts, you will likely receive an error from qsampler not finding the midi client.In that case, you can still start the midi device and connect it to LS through qjackctl.
</p>
<ul><li> Finally close the Devices Config window and save your template.</li></ul>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDFFDD; border: thin solid #BBDDBB; overflow: hidden;">
<strong> Tip: </strong>You can define as much midi ports as midi controllers you use. The same applies to audio outputs, e.g for sending separated instrument outputs for recording in Ardour.</div>
<h3><span class="mw-headline" id="Building_a_performance_template_in_qsampler">Building a performance template in qsampler</span></h3>
<ul>
<li> Open qsampler and load your configuration template.</li>
<li> Press the "Add channel" button in the toolbar (Ctrl-A).A "channel" in the LS terminology is an object (visually a strip) which stores the settings for a given instrument : Name and location of the gig file, inputs &amp; outputs used, midi channel, volume, solo/mute status, midi cc applied etc..much like a track in a sequencer.</li>
<li> The i/o settings of the channel pops up.
<ul>
<li> Choose a gig file</li>
<li> Choose an "instrument".A gig file can contain different "instruments".Basically a gig file is composed of a pool of sounds and some configuration possibilities of theses samples named "instruments". For example one instrument can load only the forte samples and apply some adsr on it, while another one can load every samples in the pool, and organize them as layers that will be triggered by the velocity applied on the controller. This way, very different types of of sound can be obtained from the same pool of samples, which is more efficient in terms of sound-design and disk space...</li>
<li> Set the midi and audio i/o for the channel from the different drop-down lists. All the options you will find here were created earlier in the device configuration setup stored in your config template. If you would like to change some of it, you can also do it from here with the "midi input setup" and "audio output setup" buttons.</li>
<li> Press ok.</li>
</ul>
</li>
<li> The channel is added to the main window and the gig file is loaded into RAM. Well, only the start of the sounds used in the instrument are cached in memory, the main task of LS will be to stream the biggest part of them directly from disk. That's how it's possible to load 30 GBs of samples with only 1 GB of ram.</li>
<li> You should now be able to play your instrument from jack-keyboard or whatever controller is tied to LS.</li>
</ul>
<p>If you get no sound, check the volume sliders both on the channel strip and on the main toolbar.
</p>
<ul>
<li> Repeat these steps as many times as you wish to complete your "sampling orchestra".</li>
<li> Save your template under a new name so you keep your default template clean if you want to start another orchestra from ground.</li>
</ul>
<h2><span class="mw-headline" id="Advanced_topics">Advanced topics</span></h2>
<h3><span class="mw-headline" id="Filtering_midi_messages_before_they_reach_LS">Filtering midi messages before they reach LS</span></h3>
<p>Sometimes sample libraries do not agree with how a composer/arranger expects the sounds played by his MIDI software.
A concrete example would be a score editor connected to LS, playing a piano part in the C3 to C4 octave, but what is heard is really one octave higher (C4 to C5). Probably the layering of the samples in the gig file is offset by one octave.
If you are sure the mapping is incorrect (opening the gig file in live mode from qsampler can help), then here is some solutions :
</p>
<ul>
<li> Transpose the MIDI part one octave lower. In an orchestral score, this is very wrong to see notes on staff sounding one octave lower, especially when you already deal with transposing instruments...Also you would have to transpose back before printing.</li>
<li> Redo the mapping inside the gig file. That would be the best solution as it definitely cures the problem. However this can be a lot of hassle if there is multiple instruments inside the file. Also some non-sounding notes are often reserved before the sounding ones to trigger some cc (keyswitches), making the remapping one octave lower more complex or even impossible.</li>
<li> The quick and non-destructive way here is to put a MIDI filter between the score editor and LS, that lowers the notes by one octave for the piano channel only. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/Qmidiroute/">Qmidiroute</a></span><sup><small>AUR</small></sup> can do that and it also monitors all midi messages along the way. You could for example check that the cc sent by the score are really what they should be (right midi ch, pan, velocity curves etc...)</li>
</ul>
<p>If you use this setup, you will have to change the piano part MIDI output in your score editor to go to qmidiroute instead of LS, and the piano "channel" in LS to use the qmidiroute output instead of your score editor.
This also could be done at the orchestra level if you want to monitor every instrument in your score or if using multiple midi outputs in your score editor is not possible.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<p>If you get the message : 
<i>Engine: WARNING, CONFIG_EG_MIN_RELEASE_TIME too big for current audio fragment size &amp; sampling rate!</i>
and eventually a crash after that, then it's time to reconsider latency for your soundcard.Raise the samples/period setting in qjackctl and retry. As an indication, on an M-audio delta 44, a setup of samples/period=128, periods in buffer=2 and sampling rate=44100 gives a working setup with LS.Latency = 5.8ms which is already quite low.
</p>
<h3><span class="mw-headline" id="Port_conflict_with_BitTorrent_Sync">Port conflict with BitTorrent Sync</span></h3>
<p>BitTorrent Sync and linuxsampler by default use the same port, 8888. If you attempt to run linuxsampler at the same time as BitTorrent Sync this message will be displayed. <i>Starting LSCP network server (0.0.0.0:8888)...LSCPServer: Could not bind server socket</i>
To avoid this issue start linuxsapler with the command <i>linuxsampler --lscp-port 8889</i> You may also have to adjust the server port on your Gui frontend.
</p>
<h2><span class="mw-headline" id="External_Resources">External Resources</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="http://www.linuxsampler.org/index.php">Homepage</a></li>
<li><a rel="nofollow" class="external text" href="http://www.linuxjournal.com/content/linuxsampler-project">Article about LS on LinuxJournal</a></li>
<li><a rel="nofollow" class="external text" href="http://www.linuxmao.org/tikiwiki/tiki-index.php?page=linuxsampler">LS tutorial (french)</a></li>
<li><a rel="nofollow" class="external text" href="http://www.linuxsampler.org/jsampler/manual/html/jsampler.html">JSampler Manual online</a></li>
<li><a rel="nofollow" class="external text" href="https://bb.linuxsampler.org/viewtopic.php?f=8&amp;t=11">Links to commercial and free sample libraries</a></li>
</ul>
<h2><span class="mw-headline" id="TODO">TODO</span></h2>
<ul>
<li> Rewrite the template configuration wich is too long. </li>
<li> add status of lv2, dssi plugins version of LS = OK (in overview)</li>
<li> Write a short section about LS as a plugin, involving different hosts (mostly prerequisite programs and command lines)
<ul><li> In a quick test, LS lv2 plugin works great.Test host was "elven" from "ll-plugins" package</li></ul>
</li>
<li> addjsampler-fantasia in the install section and configuration section</li>
<li> add options at build time in advanced topics</li>
</ul>

</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Multimedia.html" title="Category:Multimedia">Multimedia</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li></ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
