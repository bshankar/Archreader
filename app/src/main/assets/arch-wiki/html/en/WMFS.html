<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>WMFS - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-WMFS skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">WMFS</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="noprint archwiki-template-message">
<p><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" width="48" height="48"></a><b>This article or section is a candidate for merging with <a href="../en/WMFS2.html" title="WMFS2">WMFS2</a>.</b><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" width="48" height="48"></a></p>
<div>
<b>Notes:</b> The information about WMFS2 should be merged to its dedicated article. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:WMFS#wmfs_vs_wmfs2">Talk:WMFS#wmfs vs wmfs2</a>)</div>
</div>
<div style="width:45%; margin: 0 0 0.5em 0.5em;">
<p style="background:#333; color:white; padding:0.2em; border-bottom:5px #08c solid; margin:0; text-align:center; font-weight:bold;">Related articles</p>
<ul style="list-style-type:none; margin:0; padding:0.3em;">
<li style="padding:0.4em 0; line-height:1;"><a href="../en/WMFS2.html" title="WMFS2">WMFS2</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Comparison_of_tiling_window_managers.html" title="Comparison of tiling window managers">Comparison of tiling window managers</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="http://wmfs.info/">WMFS</a> (Window Manager From Scratch) is a lightweight and highly configurable tiling window manager for X. It can be configured with a configuration file, supports Xft (<a rel="nofollow" class="external text" href="http://www.freetype.org/">Freetype</a>) fonts and is compliant with the Extended Window Manager Hints (<a rel="nofollow" class="external text" href="http://standards.freedesktop.org/wm-spec/wm-spec-1.3.html">EWMH</a>) specifications. It is still under heavy development 
</p>
<p>The code structure of wmfs starts to become too old and is not adapted to the new ideas and concepts of the project anymore. So it has been rewritten (again from scratch). Changes and configuration is described in this <a rel="nofollow" class="external text" href="https://github.com/xorg62/wmfs/wiki">wiki</a>.
</p>
<p>Rest of this page can be applied only to older version of WMFS.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Configuration"><span class="tocnumber">2</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Configuration_file"><span class="tocnumber">2.1</span> <span class="toctext">Configuration file</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Tags_.26_Rules"><span class="tocnumber">2.2</span> <span class="toctext">Tags &amp; Rules</span></a></li>
<li class="toclevel-2 tocsection-5">
<a href="#Key_Bindings"><span class="tocnumber">2.3</span> <span class="toctext">Key Bindings</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#Scratchpad"><span class="tocnumber">2.3.1</span> <span class="toctext">Scratchpad</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="#Statusbar_configuration"><span class="tocnumber">2.4</span> <span class="toctext">Statusbar configuration</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Conky"><span class="tocnumber">2.5</span> <span class="toctext">Conky</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#WMFS_Status_Toolkit"><span class="tocnumber">2.6</span> <span class="toctext">WMFS Status Toolkit</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#Usage"><span class="tocnumber">3</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-11">
<a href="#Troubleshooting"><span class="tocnumber">4</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#Status_bar_not_working_in_last_git_version"><span class="tocnumber">4.1</span> <span class="toctext">Status bar not working in last git version</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href="#Resources"><span class="tocnumber">5</span> <span class="toctext">Resources</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>WMFS is in <a href="../en/Arch_User_Repository.html" title="AUR" class="mw-redirect">AUR</a>. Due the high development rate it is recommended to use the git version, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wmfs2-git/">wmfs2-git</a></span><sup><small>AUR</small></sup>. Please note that the package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wmfs-git/">wmfs-git</a></span><sup><small>AUR</small></sup> is now not being actively developed.
</p>
<p>WMFS will look for a configuration file in <code>$XDG_CONFIG_HOME/wmfs</code>. To configure WMFS to your liking, you will need to create a configuration file; for most users this will be <code>~/.config/wmfs/wmfsrc</code>. If <code>~/.config/wmfs</code> does not exist, create it:
</p>
<pre>mkdir -p ~/.config/wmfs
</pre>
<p>A default file is located in your XDG directory, normally in <code>/etc/xdg/wmfs</code>, called <code>wmfsrc</code>. Copy it to your newly created <code>.config/wmfs</code> folder and you can begin to modify it.
</p>
<pre>cp /etc/xdg/wmfs/wmfsrc ~/.config/wmfs
</pre>
<p>To use wmfs as a window manager, add it to your <code>.xinitrc</code>:
</p>
<pre>echo "exec wmfs" &gt;&gt; ~/.xinitrc
</pre>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<h3><span class="mw-headline" id="Configuration_file">Configuration file</span></h3>
<p>The configuration file is well commented. Make small changes cumulatively and reload WMFS (default key to restart is <code>Alt</code>+<code>Ctrl</code>+<code>r</code>) to test them.
</p>
<p>By default two different mod keys are used for keybindings (<code>Ctrl</code> and <code>Alt</code>) which may conflict with your existing set-up. These can be changed in <code>wmfsrc</code>. For example, if you want to use the Win-key instead of Alt, replace "Alt" with "Super" or "Mod4" in the configuration file, e.g:
</p>
<pre>[key] mod = { "Super" } key = "p" func = "launcher" cmd = "launcher_exec" [/key]
</pre>
<p>Or in a single command
</p>
<pre>sed --in-place=.bak 's/"Alt"/"Mod4"/' wmfsrc
</pre>
<p>To bind commands to special symbols you need to specify their name, like "slash" for "/". You can find symbol names by using xev and typing the symbol in question:
</p>
<pre>xev | grep keycode
   state 0x10, keycode 61 (keysym 0x2f, slash), same_screen YES,
   state 0x10, keycode 60 (keysym 0x2e, period), same_screen YES,
   state 0x10, keycode 59 (keysym 0x2c, comma), same_screen YES,
</pre>
<h3><span class="mw-headline" id="Tags_.26_Rules">Tags &amp; Rules</span></h3>
<p>Assigning clients to a tag, eg., having <a href="../en/UZBL-Browser.html" title="Uzbl" class="mw-redirect">Uzbl</a> open in tag 2, is done through rules. In <code>wmfsrc</code>, write a new rule in the [rules] section:
</p>
<pre>[rule] instance = "Uzbl" screen = 0  tag = "2"  max =  "false" [/rule]
</pre>
<p>This will open Uzbl in tag 2 unmaximized. To specify a layout for that tag, under [tags]:
</p>
<pre>[tag] name = "WWW"  screen = 0 layout = "tile_right" [/tag] 
</pre>
<p>For some rules, eg., where an application is opened in a terminal, you may need to specify a class as well as an instance:
</p>
<pre>[rule] instance = "mutt" class = "mutt" screen = 0  tag = "3"  max = "true" [/rule]
</pre>
<p>Use <a rel="nofollow" class="external text" href="http://www.xfree86.org/current/xprop.1.html">xprop</a> to determine the values for your rule.
</p>
<h3><span class="mw-headline" id="Key_Bindings">Key Bindings</span></h3>
<p>The [keys] section of <code>wmfsrc</code> allows you to customize your keybindings. As described above, this could mean just changing the default modifier from <code>Alt</code> to <code>Super</code>. 
</p>
<p>By default, WMFS is set up to cycle through the 9 available layouts. You might, for example, wish to include a keybind to set a specific layout, say tile_right (the classic tiled mode). You could bind that function to <code>Super</code>+<code>t</code> like so:
</p>
<pre>[key] mod = {"Mod4"} key = "t" func = "set_layout" cmd = "tile_right" [/key]
</pre>
<p>Similarly, you can customize keybinds for any of the other functions. A full list of the functions can be found in <code>/src/config.c</code> - search for "func_name_list_t".
</p>
<h4><span class="mw-headline" id="Scratchpad">Scratchpad</span></h4>
<p>By combining a rule with a keybind, you can create a basic scratchpad - a terminal bound to a keypress that will open in floating mode in any tag in a specific position; for example:
</p>
<pre>[key] mod = {"Control", "Alt"} key = "p" func = "spawn" cmd = "urxvtc -name scratchpad -geometry 64x10+480+34" [/key]

[rule] instance = "scratchpad"  name  = "scratchpad"   free = "true"  [/rule]
</pre>
<h3><span class="mw-headline" id="Statusbar_configuration">Statusbar configuration</span></h3>
<p>The text shown in the status bars (or infobars) is set on a running wmfs instance using the "wmfs -s" command.  You can set a different bar for each screen. The bars can also be positioned at the top or bottom of each tag in the configuration file. For example
</p>
<pre>wmfs -s "hello world, I am visible on all screens"
wmfs -s 3 "hello world, I am visible on screen 4 only" # screens begin at 0
</pre>
<p><b>Colors</b> may be encoded like this:
</p>
<pre>wmfs -s "This text is \\#ff0000\red, \\#00ff00\green and \\#0000ff\blue"
</pre>
<p><b>Rectangles</b> may be drawn like this:
</p>
<pre>wmfs -s "&lt;--look rectangles \b[700;9;14;5;#00ff00]\ \b[715;4;14;10;#00ff00]\ \b[730;3;14;11;#ff0000]\ "
</pre>
<p>The format is \b[xx;yy;ww;hh;#cccccc]\ where xx and yy are absolute (not relative) x and y positions, ww and hh are width and height, and cccccc is a color. This feature could be used to create CPU barcharts, volume displays and the like. Note: the absolute positioning makes it difficult to accurately interleave text and graphics.
</p>
<p><b>Images</b> may be added like this:
</p>
<pre> wmfs -s "there is sexy image at x;y on this statusbar \i[x;y;height;width;/home/you/img/sexyimg.ext]\ "
</pre>
<p>(Default image height and width can be set with height = 0 and width = 0 in the sequence.)
</p>
<p><b>Graph</b> may be user like this:
</p>
<pre> wmfs -s "graph \g[x;y;width;height;#color;data1;data2;...;datan]\ "
</pre>
<p>For more info on images and graphs in status bar:
<a rel="nofollow" class="external free" href="http://fu.rootards.org/viewtopic.php?pid=14#p14">http://fu.rootards.org/viewtopic.php?pid=14#p14</a>
</p>
<p>To pipe data to the bar, write a bash script with the relevant data you wish to display and source it in your <code>wmfsrc</code>. WMFS will call it at the interval you specify:
</p>
<pre>status_path = ".config/wmfs/wmfs-status"
status_timing = 5
</pre>
<p>Note that the output in the status.sh is as explained before.
</p>
<pre>wmfs -s "What ever you want to be displayed"
</pre>
<p>Some example status scripts are on the <a rel="nofollow" class="external text" href="http://wmfs.info/">WMFS</a> website.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Currently in Git version the statusbar does not start by itself, you will have to start it by yourself.</div>
<h3><span class="mw-headline" id="Conky">Conky</span></h3>
<p>You can use <a href="../en/Conky.html" title="Conky">Conky</a> to pipe output to the wmfs statusbar with the command:
</p>
<pre>conky | while read -r; do wmfs -s -name "$REPLY"; done
</pre>
<h3><span class="mw-headline" id="WMFS_Status_Toolkit">WMFS Status Toolkit</span></h3>
<p><a rel="nofollow" class="external free" href="https://aur.archlinux.org/packages.php?ID=38463">https://aur.archlinux.org/packages.php?ID=38463</a>
</p>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>The keybinding <code>Alt</code>+<code>p</code> starts a launcher in the titlebar (similar to <a href="../en/Dmenu.html" title="Dmenu">dmenu</a>). It supports tab-completion and command-line parameters. Multiple presses of the tab key iterate through possible completions.
</p>
<p>WMFS can be controlled from the command line with commands such as
</p>
<pre>wmfs -V :ln
</pre>
<p>which selects the next layout. Equivalently press <code>Alt</code>+<code>Escape</code> followed by ":ln". Type "wmfs -V help" to see the full list.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Status_bar_not_working_in_last_git_version">Status bar not working in last git version</span></h3>
<p>Since some revision, the <i>status_path</i> variable from the <i>misc</i> section is not being used anymore.
However, you can exploit the <i>background_command</i> from the <i>root</i> section to start your <i>status.sh</i> script.
</p>
<pre>background_command = "bash $HOME/.config/wmfs/status.sh"
</pre>
<p>This solution has some flaws:
</p>
<ul>
<li> The script is running independently from WMFS, so it will keep running after WMFS has terminated (which will outputs errors indefinitely in the TTY).</li>
<li> Reloading WMFS (<code>CTRL</code>+<code>ALT</code>+<code>R</code> by default) will launch another process of the script, which will mess everything up.</li>
</ul>
<p>Assuming your <i>status.sh</i> file is located in the wmfs config folder, you may try to put this command at the very beginning of your script:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/wmfs/status.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
kill $(ps U $UID | awk '/wmfs/&amp;&amp;/status.sh/' | grep -vi "$$\|grep\|awk" | awk '{print $1}')
</pre>
<p>It will prevent it from running multiple times.
To stop it once WMFS has terminated, you can use an appropriate loop:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/wmfs/status.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
while [ "$(ps U $UID | awk '{print $5}' | grep ^wmfs$)" != "" ] ; do
	wmfs -s "Blah"
	sleep 1
done
</pre>
<h2><span class="mw-headline" id="Resources">Resources</span></h2>
<ul>
<li> <a rel="nofollow" class="external text" href="http://wmfs.info/">WMFS</a> website</li>
<li> <a rel="nofollow" class="external text" href="https://github.com/xorg62/wmfs/wiki">Wiki for WMFS2</a> </li>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=110714">The WMFS thread</a></li>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=937394">Share your WMFS desktop! thread</a></li>
<li> #wmfs on Freenode</li>
</ul>

</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Dynamic_WMs.html" title="Category:Dynamic WMs">Dynamic WMs</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Merge.html" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li></ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
