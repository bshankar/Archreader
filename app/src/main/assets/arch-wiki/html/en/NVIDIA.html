<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>NVIDIA - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-NVIDIA skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">NVIDIA</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div style="width:45%; margin: 0 0 0.5em 0.5em;">
<p style="background:#333; color:white; padding:0.2em; border-bottom:5px #08c solid; margin:0; text-align:center; font-weight:bold;">Related articles</p>
<ul style="list-style-type:none; margin:0; padding:0.3em;">
<li style="padding:0.4em 0; line-height:1;"><a href="../en/NVIDIA/Tips_and_tricks.html" title="NVIDIA/Tips and tricks">NVIDIA/Tips and tricks</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/NVIDIA/Troubleshooting.html" title="NVIDIA/Troubleshooting">NVIDIA/Troubleshooting</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Nouveau.html" title="Nouveau">Nouveau</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Bumblebee.html" title="Bumblebee">Bumblebee</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/NVIDIA_Optimus.html" title="NVIDIA Optimus">NVIDIA Optimus</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Xorg.html" title="Xorg">Xorg</a></li>
</ul>
</div>
<p>This article covers the proprietary <a rel="nofollow" class="external text" href="http://www.nvidia.com">NVIDIA</a> graphics card driver. For the open-source driver, see <a href="../en/Nouveau.html" title="Nouveau">Nouveau</a>. If you have a laptop with hybrid Intel/NVIDIA graphics, see <a href="../en/NVIDIA_Optimus.html" title="NVIDIA Optimus">NVIDIA Optimus</a> instead.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Unsupported_drivers"><span class="tocnumber">1.1</span> <span class="toctext">Unsupported drivers</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Custom_kernel"><span class="tocnumber">1.2</span> <span class="toctext">Custom kernel</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Pure_Video_HD"><span class="tocnumber">1.3</span> <span class="toctext">Pure Video HD</span></a></li>
<li class="toclevel-2 tocsection-5">
<a href="#DRM_kernel_mode_setting"><span class="tocnumber">1.4</span> <span class="toctext">DRM kernel mode setting</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#Pacman_hook"><span class="tocnumber">1.4.1</span> <span class="toctext">Pacman hook</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="#Hardware_accelerated_video_decoding_with_XvMC"><span class="tocnumber">1.5</span> <span class="toctext">Hardware accelerated video decoding with XvMC</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Switching_between_NVIDIA_and_nouveau_drivers"><span class="tocnumber">1.6</span> <span class="toctext">Switching between NVIDIA and nouveau drivers</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#Configuration"><span class="tocnumber">2</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Minimal_configuration"><span class="tocnumber">2.1</span> <span class="toctext">Minimal configuration</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Automatic_configuration"><span class="tocnumber">2.2</span> <span class="toctext">Automatic configuration</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#NVIDIA_Settings"><span class="tocnumber">2.3</span> <span class="toctext">NVIDIA Settings</span></a></li>
<li class="toclevel-2 tocsection-13">
<a href="#Multiple_monitors"><span class="tocnumber">2.4</span> <span class="toctext">Multiple monitors</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="#Using_NVIDIA_Settings"><span class="tocnumber">2.4.1</span> <span class="toctext">Using NVIDIA Settings</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#ConnectedMonitor"><span class="tocnumber">2.4.2</span> <span class="toctext">ConnectedMonitor</span></a></li>
<li class="toclevel-3 tocsection-16">
<a href="#TwinView"><span class="tocnumber">2.4.3</span> <span class="toctext">TwinView</span></a>
<ul>
<li class="toclevel-4 tocsection-17"><a href="#Manual_CLI_configuration_with_xrandr"><span class="tocnumber">2.4.3.1</span> <span class="toctext">Manual CLI configuration with xrandr</span></a></li>
<li class="toclevel-4 tocsection-18"><a href="#Vertical_sync_using_TwinView"><span class="tocnumber">2.4.3.2</span> <span class="toctext">Vertical sync using TwinView</span></a></li>
<li class="toclevel-4 tocsection-19"><a href="#Gaming_using_TwinView"><span class="tocnumber">2.4.3.3</span> <span class="toctext">Gaming using TwinView</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-20">
<a href="#Mosaic_mode"><span class="tocnumber">2.4.4</span> <span class="toctext">Mosaic mode</span></a>
<ul>
<li class="toclevel-4 tocsection-21"><a href="#Base_Mosaic"><span class="tocnumber">2.4.4.1</span> <span class="toctext">Base Mosaic</span></a></li>
<li class="toclevel-4 tocsection-22"><a href="#SLI_Mosaic"><span class="tocnumber">2.4.4.2</span> <span class="toctext">SLI Mosaic</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-23"><a href="#Driver_persistence"><span class="tocnumber">2.5</span> <span class="toctext">Driver persistence</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-24"><a href="#See_also"><span class="tocnumber">3</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;">
<strong> Warning: </strong>Avoid installing the NVIDIA driver through the package provided from the NVIDIA website. Installation through <a href="../en/Pacman.html" title="Pacman">pacman</a> allows upgrading the driver together with the rest of the system.</div>
<p>These instructions are for those using the stock <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=linux">linux</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=linux-lts">linux-lts</a></span> packages. For custom kernel setup, skip to the <a href="#Custom_kernel">next</a> subsection.
</p>
<p>1. If you do not know what graphics card you have, find out by issuing:
</p>
<dl><dd><pre>$ lspci -k | grep -A 2 -E "(VGA|3D)"</pre></dd></dl>
<p>2. Determine the necessary driver version for your card by:
</p>
<dl><dd><ul>
<li> finding the code name (e.g. NV50, NVC0, etc.) on <a rel="nofollow" class="external text" href="http://nouveau.freedesktop.org/wiki/CodeNames">nouveau wiki's code names page</a>
</li>
<li> looking up the name in NVIDIA's <a rel="nofollow" class="external text" href="http://www.nvidia.com/object/IO_32667.html">legacy card list</a>: if your card is not there you can use the latest driver</li>
<li> visiting NVIDIA's <a rel="nofollow" class="external text" href="http://www.nvidia.com/Download/index.aspx">driver download site</a>
</li>
</ul></dd></dl>
<p>3. Install the appropriate driver for your card:
</p>
<dl><dd><ul>
<li> For GeForce 400 series cards and newer [NVCx and newer], <a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=nvidia">nvidia</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=nvidia-lts">nvidia-lts</a></span> package along with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=nvidia-libgl">nvidia-libgl</a></span>. If these packages do not work, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nvidia-beta/">nvidia-beta</a></span><sup><small>AUR</small></sup> may have a newer driver version that offers support.</li>
<li> For GeForce 8000/9000, ION and 100-300 series cards [NV5x, NV8x, NV9x and NVAx] from around 2006-2010, <a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=nvidia-340xx">nvidia-340xx</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=nvidia-340xx-lts">nvidia-340xx-lts</a></span> package along with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=nvidia-340xx-libgl">nvidia-340xx-libgl</a></span>.</li>
<li> For GeForce 6000/7000 series cards [NV4x and NV6x] from around 2004-2006, <a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=nvidia-304xx">nvidia-304xx</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=nvidia-304xx-lts">nvidia-304xx-lts</a></span> package along with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=nvidia-304xx-libgl">nvidia-304xx-libgl</a></span>.</li>
</ul></dd></dl>
<dl><dd><ul><li> For even older cards, have a look at <a href="#Unsupported_drivers">#Unsupported drivers</a>.</li></ul></dd></dl>
<p>4. If you are on 64-bit and also need 32-bit OpenGL support, you must also install the equivalent <i>lib32</i> package from the <a href="../en/Multilib.html" title="Multilib">multilib</a> repository (e.g. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=lib32-nvidia-libgl">lib32-nvidia-libgl</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=lib32-nvidia-340xx-libgl">lib32-nvidia-340xx-libgl</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=lib32-nvidia-304xx-libgl">lib32-nvidia-304xx-libgl</a></span>).
</p>
<p>5. Reboot. The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=nvidia">nvidia</a></span> package contains a file which blacklists the <i>nouveau</i> module, so rebooting is necessary.
</p>
<p>Once the driver has been installed, continue to <a href="#Configuration">#Configuration</a>.
</p>
<h3><span class="mw-headline" id="Unsupported_drivers">Unsupported drivers</span></h3>
<p>If you have a GeForce 5 FX series card or older, Nvidia no longer supports drivers for your card. This means that these drivers <a rel="nofollow" class="external text" href="http://nvidia.custhelp.com/app/answers/detail/a_id/3142/">do not support the current Xorg version</a>. It thus might be easier if you use the <a href="../en/Nouveau.html" title="Nouveau">nouveau</a> driver, which supports the old cards with the current Xorg.
</p>
<p>However, Nvidia's legacy drivers are still available and might provide better 3D performance/stability if you are willing to downgrade Xorg:
</p>
<ul>
<li> For GeForce 5 FX series cards [NV30-NV36], install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nvidia-173xx-dkms/">nvidia-173xx-dkms</a></span><sup><small>AUR</small></sup> package. Last supported Xorg version is 1.15.</li>
<li> For GeForce 2/3/4 MX/Ti series cards [NV11, NV17-NV28], install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/nvidia-96xx-dkms/">nvidia-96xx-dkms</a></span><sup><small>AUR</small></sup> package. Last supported Xorg version is 1.12.</li>
</ul>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDFFDD; border: thin solid #BBDDBB; overflow: hidden;">
<strong> Tip: </strong>The legacy nvidia-96xx-dkms and nvidia-173xx-dkms drivers can also be installed from the unofficial <a rel="nofollow" class="external text" href="http://pkgbuild.com/~bgyorgy/city.html">[city] repository</a>. (It is strongly advised that you do not skip any dependencies restriction when installing from here)</div>
<h3><span class="mw-headline" id="Custom_kernel">Custom kernel</span></h3>
<p>If you are using a custom kernel, compilation of the Nvidia kernel modules can be automated with <a href="../en/Dynamic_Kernel_Module_Support.html" title="DKMS" class="mw-redirect">DKMS</a>.
</p>
<p>Install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=nvidia-dkms">nvidia-dkms</a></span> package (or a specific branch such as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=nvidia-340xx-dkms">nvidia-340xx-dkms</a></span>). The Nvidia module will be rebuilt after every Nvidia or kernel update thanks to the DKMS <a href="../en/Pacman.html#Hooks" title="Pacman">Pacman Hook</a>.
</p>
<h3><span class="mw-headline" id="Pure_Video_HD">Pure Video HD</span></h3>
<p>At least a video card with second generation <a href="https://en.wikipedia.org/wiki/Nvidia_PureVideo#Table_of_GPUs_containing_a_PureVideo_SIP_block" class="extiw" title="wikipedia:Nvidia PureVideo">PureVideo HD</a> is required for <a href="../en/Hardware_video_acceleration.html" title="Hardware video acceleration">hardware video acceleration</a> using VDPAU.
</p>
<h3><span class="mw-headline" id="DRM_kernel_mode_setting">DRM kernel mode setting</span></h3>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>The NVIDIA driver does <b>not</b> provide an <code>fbdev</code> driver for the high-resolution console for the kernel compiled-in <code>vesafb</code> module. However, the kernel compiled-in <code>efifb</code> module supports high-resolution nvidia console on EFI systems.<a rel="nofollow" class="external autonumber" href="http://forums.fedoraforum.org/showthread.php?t=306271">[1]</a> Another option to get high-resolution consoles is to use GRUB, see <a href="../en/NVIDIA/Tips_and_tricks.html#Fixing_terminal_resolution" title="NVIDIA/Tips and tricks">NVIDIA/Tips and tricks#Fixing terminal resolution</a> and <a rel="nofollow" class="external autonumber" href="https://www.reddit.com/r/archlinux/comments/4gwukx/nvidia_drivers_and_high_resolution_tty_possible/">[2]</a>.</div>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=nvidia">nvidia</a></span> 364.16 adds support for DRM <a href="../en/Kernel_mode_setting.html" title="Kernel mode setting">kernel mode setting</a>. To enable this feature, add the <code>nvidia-drm.modeset=1</code> <a href="../en/Kernel_parameters.html" title="Kernel parameter" class="mw-redirect">kernel parameter</a>, and add nvidia, nvidia_modeset, nvidia_uvm and nvidia_drm to your <a href="../en/Mkinitcpio.html#MODULES" title="Initramfs" class="mw-redirect">initramfs#MODULES</a>.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;">
<strong> Warning: </strong> Do not forget to run mkinitcpio every time you update driver.</div>
<h4><span class="mw-headline" id="Pacman_hook">Pacman hook</span></h4>
<p>To avoid the possibility of forgetting to update your initramfs after an nvidia upgrade, you can use a pacman hook like this
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pacman.d/hooks/nvidia.hook</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Trigger]
Operation=Install
Operation=Upgrade
Operation=Remove
Type=Package
Target=nvidia

[Action]
Depends=mkinitcpio
When=PostTransaction
Exec=/usr/bin/mkinitcpio -p linux</pre>
<h3><span class="mw-headline" id="Hardware_accelerated_video_decoding_with_XvMC">Hardware accelerated video decoding with XvMC</span></h3>
<p>Accelerated decoding of MPEG-1 and MPEG-2 videos via <a href="../en/XvMC.html" title="XvMC">XvMC</a> are supported on GeForce4, GeForce 5 FX, GeForce 6 and GeForce 7 series cards. See <a href="../en/XvMC.html" title="XvMC">XvMC</a> for details.
</p>
<h3><span class="mw-headline" id="Switching_between_NVIDIA_and_nouveau_drivers">Switching between NVIDIA and nouveau drivers</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-cut.png" class="image"><img alt="Tango-edit-cut.png" src="../File:Tango-edit-cut.png" width="48" height="48"></a><b>This section is being considered for removal.</b><a href="../File:Tango-edit-cut.png" class="image"><img alt="Tango-edit-cut.png" src="../File:Tango-edit-cut.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> This script literally just installs NVIDIA and uninstalls nouveau or vice versa. Also it doesn't mention the blacklisting of the nouveau module. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:NVIDIA">Talk:NVIDIA#</a>)</div>
</div>
<p>If you need to switch between drivers, you may use the following script, run as root (say yes to all confirmations):
</p>
<pre>
#!/bin/bash
BRANCH= # Enter a branch if needed, i.e. -340xx or -304xx
NVIDIA=nvidia${BRANCH} # If no branch entered above this would be "nvidia"
NOUVEAU=xf86-video-nouveau

# Replace -R with -Rs to if you want to remove the unneeded dependencies
if [ $(pacman -Qqs ^mesa-libgl$) ]; then
    pacman -S $NVIDIA ${NVIDIA}-libgl # Add lib32-${NVIDIA}-libgl and ${NVIDIA}-lts if needed
    # pacman -R $NOUVEAU
elif [ $(pacman -Qqs ^${NVIDIA}$) ]; then
    pacman -S --needed $NOUVEAU mesa-libgl # Add lib32-mesa-libgl if needed
    pacman -R $NVIDIA # Add ${NVIDIA}-lts if needed
fi
</pre>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" width="48" height="48"></a><b>This article or section is out of date.</b><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> nvidia-xconfig should be avoided in 2016, and manual configuration isn't needed in most cases. Neither is the automatic configuration with nvidia-xconfig. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:NVIDIA">Talk:NVIDIA#</a>)</div>
</div>
<p>It is possible that after installing the driver it may not be needed to create an Xorg server configuration file. You can run <a href="../en/Xorg.html#Running" title="Xorg">a test</a> to see if the Xorg server will function correctly without a configuration file. However, it may be required to create a configuration file (prefer <code>/etc/X11/xorg.conf.d/20-nvidia.conf</code> over <code>/etc/X11/xorg.conf</code>) in order to adjust various settings. This configuration can be generated by the NVIDIA Xorg configuration tool, or it can be created manually. If created manually, it can be a minimal configuration (in the sense that it will only pass the basic options to the <a href="../en/Xorg.html" title="Xorg">Xorg</a> server), or it can include a number of settings that can bypass Xorg's auto-discovered or pre-configured options.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>For maunal configuration see <a href="../en/NVIDIA/Tips_and_tricks.html#Manual_configuration" title="NVIDIA/Tips and tricks">NVIDIA/Tips and tricks#Manual configuration</a>.</div>
<h3><span class="mw-headline" id="Minimal_configuration">Minimal configuration</span></h3>
<p>A basic configuration block in <code>20-nvidia.conf</code> (or deprecated in <code>xorg.conf</code>) would look like this:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/20-nvidia.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
Section "Device"
        Identifier "Nvidia Card"
        Driver "nvidia"
        VendorName "NVIDIA Corporation"
        Option "NoLogo" "true"
        #Option "UseEDID" "false"
        #Option "ConnectedMonitor" "DFP"
        # ...
EndSection
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDFFDD; border: thin solid #BBDDBB; overflow: hidden;">
<strong> Tip: </strong>If upgrading from nouveau make sure to remove <code>nouveau</code> from <code>/etc/mkinitcpio.conf</code>. See <a href="../en/NVIDIA/Tips_and_tricks.html#Switching_between_NVIDIA_and_nouveau_drivers" title="NVIDIA/Tips and tricks">Switching between NVIDIA and nouveau drivers</a><sup>[<a href="../en/ArchWiki:Requests.html#Broken_section_links" title="ArchWiki:Requests">broken link</a>: invalid section]</sup>, if switching between the open and proprietary drivers often.</div>
<h3><span class="mw-headline" id="Automatic_configuration">Automatic configuration</span></h3>
<p>The NVIDIA package includes an automatic configuration tool to create an Xorg server configuration file (<code>xorg.conf</code>) and can be run by:
</p>
<pre># nvidia-xconfig
</pre>
<p>This command will auto-detect and create (or edit, if already present) the <code>/etc/X11/xorg.conf</code> configuration according to present hardware.
</p>
<p>If there are instances of DRI, ensure they are commented out:
</p>
<pre>#    Load        "dri"
</pre>
<p>Double check your <code>/etc/X11/xorg.conf</code> to make sure your default depth, horizontal sync, vertical refresh, and resolutions are acceptable.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;">
<strong> Warning: </strong>That may still not work properly with Xorg-server 1.8 </div>
<h3><span class="mw-headline" id="NVIDIA_Settings">NVIDIA Settings</span></h3>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=nvidia-settings">nvidia-settings</a></span> tool lets you configure many options using either CLI or GUI. Running <code>nvidia-settings</code> without any options launches the GUI, for CLI options see <code>nvidia-settings(1)</code>.
</p>
<p>You can run the GUI as a normal user and save the settings to <code>~/.nvidia-settings-rc</code>. Then you can load the settings using <code>$ nvidia-settings --load-config-only</code> (for example in your <a href="../en/Xinit.html" title="Xinitrc" class="mw-redirect">xinitrc</a>). Alternatively, run <code>nvidia-settings</code> as root, and then save the configuration to <code>/etc/X11/xorg.conf.d/</code> as usual.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDFFDD; border: thin solid #BBDDBB; overflow: hidden;">
<strong> Tip: </strong>If your X server is crashing on startup, it may be because the GUI-generated settings are corrupt. Try deleting the generated file and starting from scratch.</div>
<h3><span class="mw-headline" id="Multiple_monitors">Multiple monitors</span></h3>
<p>See <a href="../en/Multihead.html" title="Multihead">Multihead</a> for more general information.
</p>
<h4><span class="mw-headline" id="Using_NVIDIA_Settings">Using NVIDIA Settings</span></h4>
<p>The <a href="#NVIDIA_Settings">nvidia-settings</a> tool can configure multiple monitors.
</p>
<p>For CLI configuration, first get the <code>CurrentMetaMode</code> by running:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ nvidia-settings -q CurrentMetaMode</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Attribute 'CurrentMetaMode' (hostnmae:0.0): id=50, switchable=no, source=nv-controlÂ :: DPY-1: 2880x1620 @2880x1620 +0+0 {ViewPortIn=2880x1620, ViewPortOut=2880x1620+0+0}</pre>
<p>Save everything after the <code>::</code> to the end of the attribute (in this case: <code>DPY-1: 2880x1620 @2880x1620 +0+0 {ViewPortIn=2880x1620, ViewPortOut=2880x1620+0+0}</code>) and use to reconfigure your displays with <code>nvidia-settings --assign "CurrentMetaMode=<i>your_meta_mode</i>"</code>.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDFFDD; border: thin solid #BBDDBB; overflow: hidden;">
<strong> Tip: </strong>You can create shell aliases for the different monitor and resolution configurations you use.</div>
<h4><span class="mw-headline" id="ConnectedMonitor">ConnectedMonitor</span></h4>
<p>If the driver does not properly detect a second monitor, you can force it to do so with ConnectedMonitor. 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">

Section "Monitor"
    Identifier     "Monitor1"
    VendorName     "Panasonic"
    ModelName      "Panasonic MICRON 2100Ex"
    HorizSync       30.0 - 121.0 # this monitor has incorrect EDID, hence Option "UseEDIDFreqs" "false"
    VertRefresh     50.0 - 160.0
    Option         "DPMS"
EndSection

Section "Monitor"
    Identifier     "Monitor2"
    VendorName     "Gateway"
    ModelName      "GatewayVX1120"
    HorizSync       30.0 - 121.0
    VertRefresh     50.0 - 160.0
    Option         "DPMS"
EndSection

Section "Device"
    Identifier     "Device1"
    Driver         "nvidia"
    Option         "NoLogo"
    Option         "UseEDIDFreqs" "false"
    Option         "ConnectedMonitor" "CRT,CRT"
    VendorName     "NVIDIA Corporation"
    BoardName      "GeForce 6200 LE"
    BusID          "PCI:3:0:0"
    Screen          0
EndSection

Section "Device"
    Identifier     "Device2"
    Driver         "nvidia"
    Option         "NoLogo"
    Option         "UseEDIDFreqs" "false"
    Option         "ConnectedMonitor" "CRT,CRT"
    VendorName     "NVIDIA Corporation"
    BoardName      "GeForce 6200 LE"
    BusID          "PCI:3:0:0"
    Screen          1
EndSection

</pre>
<p>The duplicated device with <code>Screen</code> is how you get X to use two monitors on one card without <code>TwinView</code>. Note that <code>nvidia-settings</code> will strip out any <code>ConnectedMonitor</code> options you have added.
</p>
<h4><span class="mw-headline" id="TwinView">TwinView</span></h4>
<p>You want only one big screen instead of two. Set the <code>TwinView</code> argument to <code>1</code>. This option should be used if you desire compositing. TwinView only works on a per card basis, when all participating monitors are connected to the same card.
</p>
<pre>Option "TwinView" "1"
</pre>
<p>Example configuration:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/10-monitor.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
Section "ServerLayout"
    Identifier     "TwinLayout"
    Screen         0 "metaScreen" 0 0
EndSection

Section "Monitor"
    Identifier     "Monitor0"
    Option         "Enable" "true"
EndSection

Section "Monitor"
    Identifier     "Monitor1"
    Option         "Enable" "true"
EndSection

Section "Device"
    Identifier     "Card0"
    Driver         "nvidia"
    VendorName     "NVIDIA Corporation"

    #refer to the link below for more information on each of the following options.
    Option         "HorizSync"          "DFP-0: 28-33; DFP-1 28-33"
    Option         "VertRefresh"        "DFP-0: 43-73; DFP-1 43-73"
    Option         "MetaModes"          "1920x1080, 1920x1080"
    Option         "ConnectedMonitor"   "DFP-0, DFP-1"
    Option         "MetaModeOrientation" "DFP-1 LeftOf DFP-0"
EndSection

Section "Screen"
    Identifier     "metaScreen"
    Device         "Card0"
    Monitor        "Monitor0"
    DefaultDepth    24
    Option         "TwinView" "True"
    SubSection "Display"
        Modes          "1920x1080"
    EndSubSection
EndSection
</pre>
<p><a rel="nofollow" class="external text" href="ftp://download.nvidia.com/XFree86/Linux-x86/355.11/README/configtwinview.html">Device option information</a>.
</p>
<p>If you have multiple cards that are SLI capable, it is possible to run more than one monitor attached to separate cards (for example: two cards in SLI with one monitor attached to each). The "MetaModes" option in conjunction with SLI Mosaic mode enables this. Below is a configuration which works for the aforementioned example and runs <a href="../en/GNOME.html" title="GNOME">GNOME</a> flawlessly.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/10-monitor.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
Section "Device"
        Identifier      "Card A"
        Driver          "nvidia"
        BusID           "PCI:1:00:0"
EndSection

Section "Device"
        Identifier      "Card B"
        Driver          "nvidia"
        BusID           "PCI:2:00:0"
EndSection

Section "Monitor"
        Identifier      "Right Monitor"
EndSection

Section "Monitor"
        Identifier      "Left Monitor"
EndSection

Section "Screen"
        Identifier      "Right Screen"
        Device          "Card A"
        Monitor         "Right Monitor"
        DefaultDepth    24
        Option          "SLI" "Mosaic"
        Option          "Stereo" "0"
        Option          "BaseMosaic" "True"
        Option          "MetaModes" "GPU-0.DFP-0: 1920x1200+4480+0, GPU-1.DFP-0:1920x1200+0+0"
        SubSection      "Display"
                        Depth           24
        EndSubSection
EndSection

Section "Screen"
        Identifier      "Left Screen"
        Device          "Card B"
        Monitor         "Left Monitor"
        DefaultDepth    24
        Option          "SLI" "Mosaic"
        Option          "Stereo" "0"
        Option          "BaseMosaic" "True"
        Option          "MetaModes" "GPU-0.DFP-0: 1920x1200+4480+0, GPU-1.DFP-0:1920x1200+0+0"
        SubSection      "Display"
                        Depth           24
        EndSubSection
EndSection

Section "ServerLayout"
        Identifier      "Default"
        Screen 0        "Right Screen" 0 0
        Option          "Xinerama" "0"
EndSection</pre>
<h5><span class="mw-headline" id="Manual_CLI_configuration_with_xrandr">Manual CLI configuration with xrandr</span></h5>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Do these commands set up the monitors in <i>TwinView</i> mode? (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:NVIDIA">Talk:NVIDIA#</a>)</div>
</div>
<p>If the latest solutions do not work for you, you can use your window manager's <i>autostart</i> implementation with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=xorg-xrandr">xorg-xrandr</a></span>.
</p>
<p>Some <code>xrandr</code> examples could be:
</p>
<pre>xrandr --output DVI-I-0 --auto --primary --left-of DVI-I-1
</pre>
<p>or:
</p>
<pre>xrandr --output DVI-I-1 --pos 1440x0 --mode 1440x900 --rate 75.0
</pre>
<p>When:
</p>
<ul>
<li> <code>--output</code> is used to indicate the "monitor" to which the options are set.</li>
<li> <code>DVI-I-1</code> is the name of the second monitor.</li>
<li> <code>--pos</code> is the position of the second monitor relative to the first.</li>
<li> <code>--mode</code> is the resolution of the second monitor.</li>
<li> <code>--rate</code> is the refresh rate (in Hz).</li>
</ul>
<h5><span class="mw-headline" id="Vertical_sync_using_TwinView">Vertical sync using TwinView</span></h5>
<p>If you are using TwinView and vertical sync (the "Sync to VBlank" option in <b>nvidia-settings</b>), you will notice that only one screen is being properly synced, unless you have two identical monitors. Although <b>nvidia-settings</b> does offer an option to change which screen is being synced (the "Sync to this display device" option), this does not always work. A solution is to add the following environment variables at startup, for example append in <code>/etc/profile</code>:
</p>
<pre>export __GL_SYNC_TO_VBLANK=1
export __GL_SYNC_DISPLAY_DEVICE=DFP-0
export VDPAU_NVIDIA_SYNC_DISPLAY_DEVICE=DFP-0
</pre>
<p>You can change <code>DFP-0</code> with your preferred screen (<code>DFP-0</code> is the DVI port and <code>CRT-0</code> is the VGA port).  You can find the identifier for your display from <b>nvidia-settings</b> in the "X Server XVideoSettings" section.
</p>
<h5><span class="mw-headline" id="Gaming_using_TwinView">Gaming using TwinView</span></h5>
<p>In case you want to play fullscreen games when using TwinView, you will notice that games recognize the two screens as being one big screen. While this is technically correct (the virtual X screen really is the size of your screens combined), you probably do not want to play on both screens at the same time. 
</p>
<p>To correct this behavior for SDL, try:
</p>
<pre>export SDL_VIDEO_FULLSCREEN_HEAD=1
</pre>
<p>For OpenGL, add the appropriate Metamodes to your xorg.conf in section <code>Device</code> and restart X:
</p>
<pre>Option "Metamodes" "1680x1050,1680x1050; 1280x1024,1280x1024; 1680x1050,NULL; 1280x1024,NULL;"
</pre>
<p>Another method that may either work alone or in conjunction with those mentioned above is <a href="../en/Gaming.html#Starting_games_in_a_separate_X_server" title="Gaming">starting games in a separate X server</a>.
</p>
<h4><span class="mw-headline" id="Mosaic_mode">Mosaic mode</span></h4>
<p>Mosaic mode is the only way to use more than 2 monitors across multiple graphics cards with compositing. Your window manager may or may not recognize the distinction between each monitor.
</p>
<h5><span class="mw-headline" id="Base_Mosaic">Base Mosaic</span></h5>
<p>Base Mosaic mode works on any set of Geforce 8000 series or higher GPUs. It cannot be enabled from within the nvidia-setting GUI. You must either use the <code>nvidia-xconfig</code> command line program or edit <code>xorg.conf</code> by hand. Metamodes must be specified. The following is an example for four DFPs in a 2x2 configuration, each running at 1920x1024, with two DFPs connected to two cards:
</p>
<pre>$ nvidia-xconfig --base-mosaic --metamodes="GPU-0.DFP-0: 1920x1024+0+0, GPU-0.DFP-1: 1920x1024+1920+0, GPU-1.DFP-0: 1920x1024+0+1024, GPU-1.DFP-1: 1920x1024+1920+1024"
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>While the documentation lists a 2x2 configuration of monitors, Nvidia has reduced that ability to just 3 monitors in Base Mosaic mode as of driver version 304. More monitors are available with a Quadro card, but with standard consumer cards, it is limited to three. The explanation given for this reduction is "Feature parity with the Windows driver". As of September 2014, Windows has no restriction on the number of monitors, even on the same driver version. This is not a bug, this is entirely by design.</div>
<h5><span class="mw-headline" id="SLI_Mosaic">SLI Mosaic</span></h5>
<p>If you have an SLI configuration and each GPU is a Quadro FX 5800, Quadro Fermi or newer then you can use SLI Mosaic mode. It can be enabled from within the nvidia-settings GUI or from the command line with:
</p>
<pre>$ nvidia-xconfig --sli=Mosaic --metamodes="GPU-0.DFP-0: 1920x1024+0+0, GPU-0.DFP-1: 1920x1024+1920+0, GPU-1.DFP-0: 1920x1024+0+1024, GPU-1.DFP-1: 1920x1024+1920+1024"
</pre>
<h3><span class="mw-headline" id="Driver_persistence">Driver persistence</span></h3>
<p>Nvidia has a daemon that is to be run at boot. See the <a rel="nofollow" class="external text" href="http://docs.nvidia.com/deploy/driver-persistence/index.html">Driver Persistence</a> section of the Nvidia documentation for more details.
</p>
<p>To start the persistence daemon at boot, <a href="../en/Systemd.html#Using_units" title="Enable" class="mw-redirect">enable</a> the <code>nvidia-persistenced.service</code>. For manual usage see the <a rel="nofollow" class="external text" href="http://docs.nvidia.com/deploy/driver-persistence/index.html#usage">upstream documentation</a>.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li> <a rel="nofollow" class="external text" href="https://forums.geforce.com/">NVIDIA User forums</a>
</li>
<li> <a rel="nofollow" class="external text" href="ftp://download.nvidia.com/XFree86/Linux-x86/355.11/README/README.txt">Official README for NVIDIA drivers, all on one text page. Most Recent Driver Version as of September 7, 2015: 355.11.</a>
</li>
<li> <a rel="nofollow" class="external text" href="ftp://download.nvidia.com/XFree86/Linux-x86/355.11/README/xconfigoptions.html">README Appendix B. X Config Options, 355.11 (direct link)</a>
</li>
</ul>

</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Graphics.html" title="Category:Graphics">Graphics</a></li>
<li><a href="../en/Category:X_server.html" title="Category:X server">X server</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Sections_flagged_with_Template:Remove.html" title="Category:Sections flagged with Template:Remove">Sections flagged with Template:Remove</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
</ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
