<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>General troubleshooting - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-General_troubleshooting skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">General troubleshooting</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div style="width:45%; margin: 0 0 0.5em 0.5em;">
<p style="background:#333; color:white; padding:0.2em; border-bottom:5px #08c solid; margin:0; text-align:center; font-weight:bold;">Related articles</p>
<ul style="list-style-type:none; margin:0; padding:0.3em;">
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Reporting_bug_guidelines.html" title="Reporting bug guidelines">Reporting bug guidelines</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Step-by-step_debugging_guide.html" title="Step-by-step debugging guide">Step-by-step debugging guide</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Debug_-_Getting_Traces.html" title="Debug - Getting Traces">Debug - Getting Traces</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/IRC_Collaborative_Debugging.html" title="IRC Collaborative Debugging">IRC Collaborative Debugging</a></li>
</ul>
</div>
<p>This article explains some methods for general troubleshooting. For application specific issues, please reference the particular wiki page for that program.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#General_procedures"><span class="tocnumber">1</span> <span class="toctext">General procedures</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Attention_to_detail"><span class="tocnumber">1.1</span> <span class="toctext">Attention to detail</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Questions.2Fchecklist"><span class="tocnumber">1.2</span> <span class="toctext">Questions/checklist</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Be_more_specific"><span class="tocnumber">1.3</span> <span class="toctext">Be more specific</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Additional_support"><span class="tocnumber">1.4</span> <span class="toctext">Additional support</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6">
<a href="#Boot_problems"><span class="tocnumber">2</span> <span class="toctext">Boot problems</span></a>
<ul>
<li class="toclevel-2 tocsection-7">
<a href="#Console_messages"><span class="tocnumber">2.1</span> <span class="toctext">Console messages</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#Flow_control"><span class="tocnumber">2.1.1</span> <span class="toctext">Flow control</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#Scrollback"><span class="tocnumber">2.1.2</span> <span class="toctext">Scrollback</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#Debug_output"><span class="tocnumber">2.1.3</span> <span class="toctext">Debug output</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11"><a href="#Recovery_shells"><span class="tocnumber">2.2</span> <span class="toctext">Recovery shells</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Blank_screen_with_Intel_video"><span class="tocnumber">2.3</span> <span class="toctext">Blank screen with Intel video</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Stuck_while_loading_the_kernel"><span class="tocnumber">2.4</span> <span class="toctext">Stuck while loading the kernel</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Debugging_kernel_modules"><span class="tocnumber">2.5</span> <span class="toctext">Debugging kernel modules</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Debugging_hardware"><span class="tocnumber">2.6</span> <span class="toctext">Debugging hardware</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#See_also"><span class="tocnumber">2.7</span> <span class="toctext">See also</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#Package_management"><span class="tocnumber">3</span> <span class="toctext">Package management</span></a></li>
<li class="toclevel-1 tocsection-18"><a href="#fuser"><span class="tocnumber">4</span> <span class="toctext">fuser</span></a></li>
<li class="toclevel-1 tocsection-19"><a href="#Session_permissions"><span class="tocnumber">5</span> <span class="toctext">Session permissions</span></a></li>
<li class="toclevel-1 tocsection-20"><a href="#error_while_loading_shared_libraries"><span class="tocnumber">6</span> <span class="toctext">error while loading shared libraries</span></a></li>
<li class="toclevel-1 tocsection-21"><a href="#file:_could_not_find_any_magic_files.21"><span class="tocnumber">7</span> <span class="toctext">file: could not find any magic files!</span></a></li>
<li class="toclevel-1 tocsection-22"><a href="#See_also_2"><span class="tocnumber">8</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="General_procedures">General procedures</span></h2>
<h3><span class="mw-headline" id="Attention_to_detail">Attention to detail</span></h3>
<p>In order to resolve an issue that you are having, it is <i>absolutely crucial</i> to have a firm basic understanding of how that specific subsystem functions. How does it work, and what does it need to run without error? If you cannot comfortably answer these question then you would best review the <a href="../en/Table_of_contents.html" title="Table of contents">Archwiki</a> article for the subsystem that you are having trouble with. Once you feel like you've understood it, it will be easier for you to pinpoint the cause of the problem.
</p>
<h3><span class="mw-headline" id="Questions.2Fchecklist">Questions/checklist</span></h3>
<p>The following gives a number of questions for you whenever dealing with a malfunctioning system. Under each question there are notes explaining how you should be answering each question, followed by some light examples on how to easily gather data output and what tools can be used to review logs and the journal.
</p>
<ol>
<li> What is the issue(s)?
<dl><dd> Be <i>as precise as possible</i>. This will help you not get confused and/or side-tracked when looking up specific information.</dd></dl>
</li>
<li> Are there error messages? (if any)
<dl>
<dd> Copy and paste <i>full outputs</i> that contain <b>error messages</b> related to your issue into a separate file, such as <code>$HOME/issue.log</code>. For example, to forward the output of the following <a href="../en/Mkinitcpio.html" title="Mkinitcpio">mkinitcpio</a> command to <code>$HOME/issue.log</code>:</dd>
<dd> <pre>$ mkinitcpio -p linux &gt;&gt; $HOME/issue.log<i></i></pre>
</dd>
</dl>
</li>
<li> Can you reproduce the issue?
<dl><dd> If so, give <i>exact</i> <b>step-by-step</b> instructions/commands needed to do so.</dd></dl>
</li>
<li> When did you first encounter these issues and what was changed between then and when the system was operating without error?
<dl>
<dd>If it occurred right after an update then, list <b>all packages that were updated</b>. Include <i>version numbers</i>, also, paste the entire update from <a href="../en/Pacman.html" title="Pacman">pacman</a>.log (<code>/var/log/pacman.log</code>). Also take note of the statuses of <i>any</i> service(s) needed to support the malfunctioning application(s) using <a href="../en/Systemd.html" title="Systemd">systemd</a>'s systemctl tools. For example, to forward the output of the following <a href="../en/Systemd.html#Basic_systemctl_usage" title="Systemd">systemd</a> command to <code>$HOME/issue.log</code>:</dd>
<dd> <pre>$ systemctl status dhcpcd@eth0.service &gt;&gt; $HOME/issue.log</pre>
</dd>
<dd> <div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Using <code><b>&gt;&gt;</b></code> will ensure any previous text in <code>$HOME/issue.log</code> will not be overwritten.</div>
</dd>
</dl>
</li>
</ol>
<h3><span class="mw-headline" id="Be_more_specific">Be more specific</span></h3>
<p>When attempting to resolve an issue, <b>never</b> approach it as: 
</p>
<p><i>Application X does not work.</i>
</p>
<p>Instead, look at it in its entirety: 
</p>
<p><i>Application X produces Y error(s) when performing Z tasks under conditions A and B.</i>
</p>
<h3><span class="mw-headline" id="Additional_support">Additional support</span></h3>
<p>With all the information in front of you you should have a good idea as to what is going on with the system and you can now start working on a proper fix.
</p>
<p>If you require any additional support, it can be found on <a rel="nofollow" class="external text" href="https://bbs.archlinux.org">the forums</a> or IRC at irc.freenode.net #archlinux See <a href="../en/IRC_channel.html" title="IRC channels" class="mw-redirect">IRC channels</a> for other options.
</p>
<p>When asking for support post the <b>complete</b> output/logs, not just what you think are the significant sections. Sources of information include:
</p>
<ul>
<li> Full output of any command involved - don't just select what you think is relevant.</li>
<li> Output from systemd's <code>journalctl</code>. For more extensive output, use the <code>systemd.log_level=debug</code> boot parameter.</li>
<li> Log files (have a look in <code>/var/log</code>)</li>
<li> Relevant configuration files</li>
<li> Drivers involved</li>
<li> Versions of packages involved</li>
<li> Kernel: <code>dmesg</code>. For a boot problem, at least the last 10 lines displayed, preferably more</li>
<li> Networking: Exact output of commands involved, and any configuration files</li>
<li> Xorg: <code>/var/log/Xorg.0.log</code>, and prior logs if you have overwritten the problematic one</li>
<li> Pacman: If a recent upgrade broke something, look in <code>/var/log/pacman.log</code>
</li>
</ul>
<p>One of the better ways to post this information is to use an online pastebin. You can <a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=pbpst">pbpst</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=gist">gist</a></span> package to automatically upload information. For example, to upload the content of your systemd journal from this boot you would do:
</p>
<pre># journalctl -xb | pbpst -S
</pre>
<p>A link will then be output that you can paste to the forum or IRC.
</p>
<p>Additionally, before posting your question, you may wish to review <a rel="nofollow" class="external text" href="http://www.catb.org/esr/faqs/smart-questions.html">how to ask smart questions</a>. See also <a href="../en/Code_of_conduct.html" title="Code of conduct">Code of conduct</a>.
</p>
<h2><span class="mw-headline" id="Boot_problems">Boot problems</span></h2>
<p>Diagnosing errors during the <a href="../en/Arch_boot_process.html" title="Boot process" class="mw-redirect">boot process</a> involves changing the <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a>, and rebooting the system.
</p>
<p>If booting the system is not possible, boot from a <a rel="nofollow" class="external text" href="https://www.archlinux.org/download/">live image</a> and <a href="../en/Change_root.html" title="Change root">change root</a> to the existing system.
</p>
<h3><span class="mw-headline" id="Console_messages">Console messages</span></h3>
<p>After the boot process, the screen is cleared and the login prompt appears, leaving users unable to read init output and error messages. This default behavior may be modified using methods outlined in the sections below.
</p>
<p>Note that regardless of the chosen option, kernel messages can be displayed for inspection after booting by using <code>dmesg</code> or all logs from the current boot with <code>journalctl -b</code>.
</p>
<h4><span class="mw-headline" id="Flow_control">Flow control</span></h4>
<p>This is basic management that applies to most terminal emulators, including virtual consoles (vc):
</p>
<ul>
<li> Press <code>Ctrl+S</code> to pause the output</li>
<li> And <code>Ctrl+Q</code> to resume it</li>
</ul>
<p>This pauses not only the output, but also programs which try to print to the terminal, as they will block on the <code>write()</code> calls for as long as the output is paused. If your <i>init</i> appears frozen, make sure the system console is not paused.
</p>
<p>To see error messages which are already displayed, see <a href="../en/Getty.html#Have_boot_messages_stay_on_tty1" title="Getty">Getty#Have_boot_messages_stay_on_tty1</a>.
</p>
<h4><span class="mw-headline" id="Scrollback">Scrollback</span></h4>
<p>Scrollback allows the user to go back and view text which has scrolled off the screen of a text console. This is made possible by a buffer created between the video adapter and the display device called the scrollback buffer.  By default, the key combinations of <code>Shift+PageUp</code> and <code>Shift+PageDown</code> scroll the buffer up and down.
</p>
<p>If scrolling up all the way does not show you enough information, you need to expand your scrollback buffer to hold more output. This is done by tweaking the kernel's framebuffer console (fbcon) with the <a href="../en/Kernel_parameters.html" title="Kernel parameter" class="mw-redirect">kernel parameter</a> <code>fbcon=scrollback:Nk</code> where <code>N</code> is the desired buffer size is kilobytes. The default size is 32k.
</p>
<p>If this does not work, your framebuffer console may not be properly enabled. Check the <a rel="nofollow" class="external text" href="https://www.kernel.org/doc/Documentation/fb/fbcon.txt">Framebuffer Console documentation</a> for other parameters, e.g. for changing the framebuffer driver.
</p>
<h4><span class="mw-headline" id="Debug_output">Debug output</span></h4>
<p>Most kernel messages are hidden during boot. You can see more of these messages by adding different kernel parameters. The simplest ones are:
</p>
<ul>
<li> <code>debug</code> enables debug messages for both the kernel and <a href="../en/Systemd.html" title="Systemd">systemd</a>
</li>
<li> <code>ignore_loglevel</code> forces <i>all</i> kernel messages to be printed</li>
</ul>
<p>Other parameters you can add that might be useful in certain situations are:
</p>
<ul>
<li> <code>earlyprintk=vga,keep</code> prints kernel messages very early in the boot process, in case the kernel would crash before output is shown. You must change <code>vga</code> to <code>efi</code> for <a href="../en/Unified_Extensible_Firmware_Interface.html" title="EFI" class="mw-redirect">EFI</a> systems</li>
<li> <code>log_buf_len=16M</code> allocates a larger (16MB) kernel message buffer, to ensure that debug output is not overwritten</li>
</ul>
<p>There are also a number of separate debug parameters for enabling debugging in specific subsystems e.g. <code>bootmem_debug</code>, <code>sched_debug</code>. Check the <a rel="nofollow" class="external text" href="https://www.kernel.org/doc/Documentation/kernel-parameters.txt">kernel parameter documentation</a> for specific information.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>If you cannot scroll back far enough to view the desired boot output, you should increase the size of the <a href="#Scrollback">scrollback buffer</a>.</div>
<h3><span class="mw-headline" id="Recovery_shells">Recovery shells</span></h3>
<p>Getting an interactive shell at some stage in the boot process can help you pinpoint exactly where and why something is failing. There are several kernel parameters for doing so, but they all launch a normal shell which you can <code>exit</code> to let the kernel resume what it was doing:
</p>
<ul>
<li> <code>rescue</code> launches a shell shortly after the root filesystem is remounted read/write</li>
<li> <code>emergency</code> launches a shell even earlier, before most filesystems are mounted</li>
<li> <code>init=/bin/sh</code> (as a last resort) changes the init program to a root shell. <code>rescue</code> and <code>emergency</code> both rely on <a href="../en/Systemd.html" title="Systemd">systemd</a>, but this should work even if <i>systemd</i> is broken</li>
</ul>
<p>Another option is systemd's debug-shell which adds a root shell on <code>tty9</code> (accessible with Ctrl+Alt+F9). It can be enabled by either adding <code>systemd.debug-shell</code> to the <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a>, or by <a href="../en/Systemd.html#Using_units" title="Enabling" class="mw-redirect">enabling</a> <code>debug-shell.service</code>. Take care to disable the service when done to avoid the security risk of leaving a root shell open on every boot.
</p>
<h3><span class="mw-headline" id="Blank_screen_with_Intel_video">Blank screen with Intel video</span></h3>
<p>This is most likely due to a problem with <a href="../en/Kernel_mode_setting.html" title="Kernel mode setting">kernel mode setting</a>. Try <a href="../en/Kernel_mode_setting.html#Disabling_modesetting" title="Kernel mode setting">disabling modesetting</a> or changing the <a href="../en/Intel_graphics.html#KMS_Issue:_console_is_limited_to_small_area" title="Intel" class="mw-redirect">video port</a>.
</p>
<h3><span class="mw-headline" id="Stuck_while_loading_the_kernel">Stuck while loading the kernel</span></h3>
<p>Try disabling ACPI by adding the <code>acpi=off</code> kernel parameter.
</p>
<h3><span class="mw-headline" id="Debugging_kernel_modules">Debugging kernel modules</span></h3>
<p>See <a href="../en/Kernel_modules.html#Obtaining_information" title="Kernel modules">Kernel modules#Obtaining information</a>.
</p>
<h3><span class="mw-headline" id="Debugging_hardware">Debugging hardware</span></h3>
<p>See <a href="../en/Udev.html#Debug_output" title="Udev">udev#Debug output</a>.
</p>
<h3><span class="mw-headline" id="See_also">See also</span></h3>
<ul>
<li> <a rel="nofollow" class="external text" href="http://www.memtest.org/">Memtest86+</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://wiki.ultimatebootcd.com/index.php?title=Tools">List of Tools for UBCD</a> - Can be added to custom menu.lst like memtest</li>
<li> Wikipedia's page on <a href="https://en.wikipedia.org/wiki/BIOS_Boot_partition" class="extiw" title="wikipedia:BIOS Boot partition">BIOS Boot partition</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://fedoraproject.org/wiki/QA/Sysrq">QA/Sysrq</a> - Using sysrq</li>
<li> systemd documentation: <a rel="nofollow" class="external text" href="http://freedesktop.org/wiki/Software/systemd/Debugging#Debug_Logging_to_a_Serial_Console">Debug Logging to a Serial Console</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://web.archive.org/web/20120217124742/http://www.lesswatts.org/projects/acpi/debug.php">How to Isolate Linux ACPI Issues</a>
</li>
</ul>
<h2><span class="mw-headline" id="Package_management">Package management</span></h2>
<p>See <a href="../en/Pacman.html#Troubleshooting" title="Pacman">Pacman#Troubleshooting</a> for general topics, and <a href="../en/Pacman/Package_signing.html#Troubleshooting" title="Pacman/Package signing">pacman/Package signing#Troubleshooting</a> for issues with PGP keys.
</p>
<h2><span class="mw-headline" id="fuser">fuser</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Write an example how to use it. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:General_troubleshooting">Talk:General troubleshooting#</a>)</div>
</div>
<p><i>fuser</i> is a command-line utility for identifying processes using resources such as files, filesystems and TCP/UDP ports.
</p>
<p><i>fuser</i> is provided by the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=psmisc">psmisc</a></span> package, which should be already installed as part of the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/groups/x86_64/base/">base</a></span> group.
</p>
<h2><span class="mw-headline" id="Session_permissions">Session permissions</span></h2>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>You must be using <a href="../en/Systemd.html" title="Systemd">systemd</a> as your init system for local sessions to work.<a rel="nofollow" class="external autonumber" href="https://www.archlinux.org/news/d-bus-now-launches-user-buses/">[1]</a> It is required for polkit permissions and ACLs for various devices (see <code>/usr/lib/udev/rules.d/70-uaccess.rules</code> and  <a rel="nofollow" class="external autonumber" href="http://enotty.pipebreaker.pl/2012/05/23/linux-automatic-user-acl-management/">[2]</a>)</div>
<p>First, make sure you have a valid local session within X:
</p>
<pre>$ loginctl show-session $XDG_SESSION_ID
</pre>
<p>This should contain <code>Remote=no</code> and <code>Active=yes</code> in the output. If it does not, make sure that X runs on the same tty where the login occurred. This is required in order to preserve the logind session.
</p>
<p>A D-Bus session should also be started along with X. See <a href="../en/D-Bus.html#Starting_the_user_session" title="D-Bus">D-Bus#Starting the user session</a> for more information on this.
</p>
<p>Basic <a href="../en/Polkit.html" title="Polkit">polkit</a> actions do not require further set-up. Some polkit actions require further authentication, even with a local session. A polkit authentication agent needs to be running for this to work. See <a href="../en/Polkit.html#Authentication_agents" title="Polkit">polkit#Authentication agents</a> for more information on this.
</p>
<h2><span class="mw-headline" id="error_while_loading_shared_libraries">error while loading shared libraries</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Or the program needs to be rebuilt after a <a href="../en/System_maintenance.html#Partial_upgrades_are_unsupported" title="System maintenance">soname bump</a>. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:General_troubleshooting">Talk:General troubleshooting#</a>)</div>
</div>
<p>If, while using a program, you get an error similar to: 
</p>
<pre>error while loading shared libraries: libusb-0.1.so.4: cannot open shared object file: No such file or directory
</pre>
<p>Use <a href="../en/Pacman.html" title="Pacman">pacman</a> or <a href="../en/Pkgfile.html" title="Pkgfile">pkgfile</a> to search for the package that owns the missing library:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ pacman -Fs libusb-0.1.so.4</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
extra/libusb-compat 0.1.5-1
    usr/lib/libusb-0.1.so.4
</pre>
<p>In this case, the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=libusb-compat">libusb-compat</a></span> package needs to be <a href="../en/Help:Reading.html#Installation_of_packages" title="Installed" class="mw-redirect">installed</a>.
</p>
<p>The error could also mean that the package that you used to install your program does not list the library as a dependency in its <a href="../en/PKGBUILD.html" title="PKGBUILD">PKGBUILD</a>: if it is an official package, <a href="../en/Reporting_bug_guidelines.html" title="Report a bug" class="mw-redirect">report a bug</a>; if it is an <a href="../en/Arch_User_Repository.html" title="AUR" class="mw-redirect">AUR</a> package, report it to the maintainer using its page in the AUR website.
</p>
<h2><span class="mw-headline" id="file:_could_not_find_any_magic_files.21">file: could not find any magic files!</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" width="48" height="48"></a><b>This article or section needs language, wiki syntax or style improvements.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> and related articles. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:General_troubleshooting">Talk:General troubleshooting#</a>)</div>
</div>
<p><i>Example:</i> After an every-day routine update or following the installation of a package you are given the following error:
</p>
<pre># file: could not find any magic files!
</pre>
<p>This will most likely leave your system crippled. And, any attempts made to recompile/reinstall the package(s) responsible for the breakage will fail. Also, any attempts made to try to rebuild the <a href="../en/Mkinitcpio.html" title="Initramfs" class="mw-redirect">initramfs</a> will result in the following:
</p>
<pre># mkinitcpio -p linux
==&gt; Building image from preset: 'default'
 -&gt; -k /boot/vmlinuz-linux -c /etc/mkinitcpio.conf -g /boot/initramfs-linux.img
file: could not find any magic files!
==&gt; ERROR: invalid kernel specifier: `/boot/vmlinuz-linux'
==&gt; Building image from preset: 'fallback'
 -&gt; -k /boot/vmlinuz-linux -c /etc/mkinitcpio.conf -g /boot/initramfs-linux-fallback.img -S autodetect
file: could not find any magic files!
@==&gt; ERROR: invalid kernel specifier: `/boot/vmlinuz-linux'
</pre>
<p>Typically a previously installed application had placed a configuration file within <code>/etc/ld.so.conf.d/</code> or it had made changes to <code>/etc/ld.so.conf</code> which are now invalid.
</p>
<ol>
<li>Boot into the Arch Linux Live CD / Installation Media.</li>
<li>Mount your root (<code><b>/</b></code>) partition to <code>/mnt</code> and using <a href="../en/Change_root.html#Change_root" title="Change root">arch-chroot</a>, <a href="../en/Change_root.html" title="Chroot" class="mw-redirect">chroot</a> into your system.</li>
</ol>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong><a href="../en/Change_root.html#Change_root" title="Change root">arch-chroot</a> leaves mounting the <code>/boot</code> partition up to the user.</div>
<ol>
<li>Examine <code>/etc/ld.so.conf</code> and remove any invalid lines found.</li>
<li>Examine the files located inside the directory <code>/etc/ld.so.conf.d/</code> and remove all invalid files.</li>
<li>Rebuild the <a href="../en/Mkinitcpio.html" title="Initramfs" class="mw-redirect">initramfs</a>.</li>
</ol>
<pre># mkinitcpio -p linux
</pre>
<ol>
<li>Reboot back to your installed system.</li>
<li>Once booted, reinstall the package that was responsible for leaving your system inoperable using:</li>
</ol>
<pre># pacman -S &lt;package&gt;
</pre>
<h2><span class="mw-headline" id="See_also_2">See also</span></h2>
<ul>
<li> <a rel="nofollow" class="external text" href="http://www.tuxradar.com/content/how-fix-most-common-linux-problems">Fix the Most Common Problems</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://www.reddit.com/r/archlinux/comments/tjjwr/archlinux_a_howto_in_troubleshooting_for_newcomers/">A how-to in troubleshooting for newcomers</a>
</li>
</ul>

</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:System_administration.html" title="Category:System administration">System administration</a></li>
<li><a href="../en/Category:System_recovery.html" title="Category:System recovery">System recovery</a></li>
<li><a href="../en/Category:Getting_and_installing_Arch.html" title="Category:Getting and installing Arch">Getting and installing Arch</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
</ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
