<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Spotify - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Spotify skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Spotify</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p><a rel="nofollow" class="external text" href="http://www.spotify.com/">Spotify</a> is a digital music service that gives you access to millions of songs.
</p>
<p>This Internet music service allows you to select any song in its database and stream for free. The service was recently introduced to the United States after previously being exclusive to Europe. The Linux client is only officially packaged for Debian and Fedora distributions, but is also available in the AUR: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/spotify/">spotify</a></span><sup><small>AUR</small></sup>. Officially, they recommend that Linux users run the windows client under Wine. There are also the occasional voice ads in between songs for users who do not wish to subscribe.
</p>
<p>Spotify also offers free users the ability to create playlist which can be shuffled, and set to repeat tracks. Content provided by Spotify comes in explicit versions as well as censored.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Linux"><span class="tocnumber">1.1</span> <span class="toctext">Linux</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Windows_.28Wine.29"><span class="tocnumber">1.2</span> <span class="toctext">Windows (Wine)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4">
<a href="#Global_media_hotkeys"><span class="tocnumber">2</span> <span class="toctext">Global media hotkeys</span></a>
<ul>
<li class="toclevel-2 tocsection-5">
<a href="#Linux_2"><span class="tocnumber">2.1</span> <span class="toctext">Linux</span></a>
<ul>
<li class="toclevel-3 tocsection-6">
<a href="#MPRIS"><span class="tocnumber">2.1.1</span> <span class="toctext">MPRIS</span></a>
<ul>
<li class="toclevel-4 tocsection-7"><a href="#Playerctl"><span class="tocnumber">2.1.1.1</span> <span class="toctext">Playerctl</span></a></li>
<li class="toclevel-4 tocsection-8"><a href="#D-Bus"><span class="tocnumber">2.1.1.2</span> <span class="toctext">D-Bus</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-9"><a href="#xdotool"><span class="tocnumber">2.1.2</span> <span class="toctext">xdotool</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-10"><a href="#Windows"><span class="tocnumber">2.2</span> <span class="toctext">Windows</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11">
<a href="#Tips_.26_Tricks"><span class="tocnumber">3</span> <span class="toctext">Tips &amp; Tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#Disable_track_notifications"><span class="tocnumber">3.1</span> <span class="toctext">Disable track notifications</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Show_track_notifications"><span class="tocnumber">3.2</span> <span class="toctext">Show track notifications</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Skip_overplayed_radio_tracks"><span class="tocnumber">3.3</span> <span class="toctext">Skip overplayed radio tracks</span></a></li>
<li class="toclevel-2 tocsection-15">
<a href="#Mute_commercials"><span class="tocnumber">3.4</span> <span class="toctext">Mute commercials</span></a>
<ul>
<li class="toclevel-3 tocsection-16"><a href="#blockify"><span class="tocnumber">3.4.1</span> <span class="toctext">blockify</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="#spotblock"><span class="tocnumber">3.4.2</span> <span class="toctext">spotblock</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#Spotify-AdKiller"><span class="tocnumber">3.4.3</span> <span class="toctext">Spotify-AdKiller</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-19">
<a href="#Remote_Control"><span class="tocnumber">3.5</span> <span class="toctext">Remote Control</span></a>
<ul>
<li class="toclevel-3 tocsection-20"><a href="#Send_commands_via_SSH"><span class="tocnumber">3.5.1</span> <span class="toctext">Send commands via SSH</span></a></li>
<li class="toclevel-3 tocsection-21"><a href="#Grab_the_Spotify_window_via_SSH"><span class="tocnumber">3.5.2</span> <span class="toctext">Grab the Spotify window via SSH</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-22"><a href="#HiDPI_Mode"><span class="tocnumber">3.6</span> <span class="toctext">HiDPI Mode</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-23">
<a href="#Troubleshooting"><span class="tocnumber">4</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-24"><a href="#Using_search_causes_the_whole_interface_to_blink_and_then_crash"><span class="tocnumber">4.1</span> <span class="toctext">Using search causes the whole interface to blink and then crash</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Blinking_images_and_improper_rendering_while_using_Spotify_Linux_with_DWM"><span class="tocnumber">4.2</span> <span class="toctext">Blinking images and improper rendering while using Spotify Linux with DWM</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#Broken_search.2C_browsing_or_radio"><span class="tocnumber">4.3</span> <span class="toctext">Broken search, browsing or radio</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#SpotifyHelper.exe_crashes_.28Windows_client.29"><span class="tocnumber">4.4</span> <span class="toctext">SpotifyHelper.exe crashes (Windows client)</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Wrong_launcher_icon_.28Windows_client.29"><span class="tocnumber">4.5</span> <span class="toctext">Wrong launcher icon (Windows client)</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#Deadlock_GUI_Thread"><span class="tocnumber">4.6</span> <span class="toctext">Deadlock GUI Thread</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#Pulseaudio"><span class="tocnumber">4.7</span> <span class="toctext">Pulseaudio</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Spotify_does_not_detect_other_devices_on_local_network"><span class="tocnumber">4.8</span> <span class="toctext">Spotify does not detect other devices on local network</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#Search_Bar_text_is_invisible_when_using_a_dark_theme"><span class="tocnumber">4.9</span> <span class="toctext">Search Bar text is invisible when using a dark theme</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#Segmentation_fault_when_playing_a_local_file"><span class="tocnumber">4.10</span> <span class="toctext">Segmentation fault when playing a local file</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-34"><a href="#See_also"><span class="tocnumber">5</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Choose which client you would prefer. The Linux client is receiving good reviews. However, if you are comfortable with wine and its configuration, you might want to choose the windows client. Please note that you do <b>not</b> need to install both. There is also the online player (requires flash) on <a rel="nofollow" class="external free" href="https://play.spotify.com/">https://play.spotify.com/</a>.
</p>
<p>There are also some alternatives to the official spotify client:
</p>
<ul><li> <b><a href="https://en.wikipedia.org/wiki/Clementine_(software)" class="extiw" title="wikipedia:Clementine (software)">Clementine</a></b> — Amarok 1.4 clone, ported to Qt 4, is able of streaming from Spotify with a premium account after activating (downloading) a plugin in the settings.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="http://www.clementine-player.org/">http://www.clementine-player.org/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=clementine">clementine</a></span>
</dd></dl>
<ul><li> <b><a rel="nofollow" class="external text" href="https://www.mopidy.com/">Mopidy</a></b> — An alternative plug-in based implementation of <a href="../en/Music_Player_Daemon.html" title="Music Player Daemon">Music Player Daemon</a> is able of streaming from Spotify with an extension.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/mopidy">https://github.com/mopidy</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=mopidy">mopidy</a></span>+ <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mopidy-spotify/">mopidy-spotify</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/despotify-svn/">despotify-svn</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h3><span class="mw-headline" id="Linux">Linux</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/spotify/">spotify</a></span><sup><small>AUR</small></sup> from the <a href="../en/Arch_User_Repository.html" title="AUR" class="mw-redirect">AUR</a> will automatically download the software. If you wish to play local files you will need to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=ffmpeg0.10">ffmpeg0.10</a></span> as well.
</p>
<h3><span class="mw-headline" id="Windows_.28Wine.29">Windows (Wine)</span></h3>
<p>See <a href="../en/Wine.html" title="Wine">Wine</a>.
</p>
<p>Obtaining Spotify can be done by registering for an account on their Website, the application does not offer in-app registration. However you can obtain the application prior to registering by using the following URL. <a rel="nofollow" class="external autonumber" href="http://download.spotify.com/Spotify%20Installer.exe">[1]</a>
</p>
<p>After you have registered and downloaded your copy of the installer you will need to run the application through Wine, depending on your setup you may be able to run the application by right clicking the file. If not terminal will work just fine, as long as you run the below command in the directory of your download.
</p>
<pre>$ wine Spotify\ Installer.exe
</pre>
<p>Once the application is successfully installed you may run Spotify by using one of the following commands in terminal, or in the ALT+F2 launcher:
</p>
<p>If you use a x86_64 copy of ArchLinux, you will have to run it like this:
</p>
<pre>$ wine "/home/username/.wine/drive_c/Program Files (x86)/Spotify/spotify.exe"
</pre>
<p>If you use a x86 copy of ArchLinux, you can use this command just fine:
</p>
<pre>$ wine ~/.wine/drive_c/Program\ Files/Spotify/spotify.exe
</pre>
<p>If you have any additional problems, I recommend setting the winecfg to Windows XP or Windows 7 emulation.
</p>
<h2><span class="mw-headline" id="Global_media_hotkeys">Global media hotkeys</span></h2>
<p>Spotify has support for media keys like <code>XF86AudioPlay</code>, but out of the box they only work inside Spotify. We can use for example <a href="../en/Xbindkeys.html" title="Xbindkeys">xbindkeys</a> to catch the global media keypresses, and then forward them to Spotify using one of the methods below. If you use xbindkeys, ensure that Spotify is restarted after installation and key configuration otherwise the key events will not be properly caught.
</p>
<h3><span class="mw-headline" id="Linux_2">Linux</span></h3>
<h4><span class="mw-headline" id="MPRIS">MPRIS</span></h4>
<p>The Spotify client implements the <a rel="nofollow" class="external text" href="https://specifications.freedesktop.org/mpris-spec/latest/">MPRIS2 </a> D-Bus interface which allows external control.
</p>
<h5><span class="mw-headline" id="Playerctl">Playerctl</span></h5>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/playerctl/">playerctl</a></span><sup><small>AUR</small></sup> utility provides a command line tool to send commands to MPRIS clients. The only commands you will likely need to bind globally are <code>play-pause</code>, <code>next</code> and <code>previous</code>
</p>
<pre>$ playerctl play-pause
$ playerctl next
$ playerctl previous
</pre>
<p>Playerctl will send the command to the first player it finds, so this method will also work with others players such as <a href="../en/VLC_media_player.html" title="Vlc" class="mw-redirect">vlc</a>. To ignore other players, pass <code>--player=spotify</code> as an argument.
</p>
<h5><span class="mw-headline" id="D-Bus">D-Bus</span></h5>
<p>An alternative to the above is to manually use <a href="../en/D-Bus.html" title="D-Bus">D-Bus</a>, which should be available by default as it is a dependency of <a href="../en/Systemd.html" title="Systemd">systemd</a>.
</p>
<p>To play or pause the current song in Spotify:
</p>
<pre>$ dbus-send --print-reply --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.PlayPause
</pre>
<p>In order to bind this and the other commands to the media keys you need to install <a href="../en/Xbindkeys.html" title="Xbindkeys">Xbindkeys</a> and edit your .xbindkeysrc and add the following lines:
</p>
<pre># Play/Pause
"dbus-send --print-reply --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.PlayPause"
XF86AudioPlay

# Next
"dbus-send --print-reply --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.Next"
XF86AudioNext

# Previous
"dbus-send --print-reply --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.Previous"
XF86AudioPrev

# Stop
"dbus-send --print-reply --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.Stop"
XF86AudioStop
</pre>
<p>If the above commands do not work, try setting the dbus address:
</p>
<pre> USER=`whoami`
 PROCESS=spotify
 PID=`pgrep -o -u $USER $PROCESS`
 ENVIRON=/proc/$PID/environ
 if [ -e $ENVIRON ]
 then
     export `grep -z DBUS_SESSION_BUS_ADDRESS $ENVIRON`
 else
     echo "Unable to set DBUS_SESSION_BUS_ADDRESS."
     exit 1
 fi
</pre>
<h4><span class="mw-headline" id="xdotool">xdotool</span></h4>
<p>With the help of <code>xdotool</code> it is possible to send your hotkeys to the application. The following script is an example of how to control Spotify from the outside:
</p>
<pre>#!/bin/sh

case $1 in
   "play")
       key="XF86AudioPlay"
       ;;
   "next")
       key="XF86AudioNext"
       ;;
   "prev")
       key="XF86AudioPrev"
       ;;
   *)
       echo "Usage: $0 play|next|prev"
       exit 1
        ;;
esac
xdotool key --window $(xdotool search --name "Spotify (Premium |Unlimited |Free )?- Linux Preview"|head -n1) $key
exit 0
</pre>
<p>Let us call it <code>musickeys.sh</code>. Make the script executable:
</p>
<pre>$ chmod +x musickeys.sh
</pre>
<p>By executing <code>./musickeys.sh play</code> you can now toggle playing a song. Now you can bind this script to any tool that catches keypresses, such as <a href="../en/Xbindkeys.html" title="Xbindkeys">xbindkeys</a>.
</p>
<h3><span class="mw-headline" id="Windows">Windows</span></h3>
<p>If you prefer the wine-version of Spotify, you can use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/spotifycmd/">spotifycmd</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" title="ArchWiki:Requests">broken link</a>: archived in <a rel="nofollow" class="external text" href="https://github.com/felixonmars/aur3-mirror/tree/master/spotifycmd">aur-mirror</a>]</sup> to send actions to Spotify. <a rel="nofollow" class="external text" href="https://github.com/Tarrasch/dotfiles/compare/0149505f%5E...19ede1f6">Here</a> is a sample setup of xmonad bindings using spotifycmd.
</p>
<h2><span class="mw-headline" id="Tips_.26_Tricks">Tips &amp; Tricks</span></h2>
<h3><span class="mw-headline" id="Disable_track_notifications">Disable track notifications</span></h3>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>It is worth noting that if you have a <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/SpotCommander/">SpotCommander</a></span><sup><small>AUR</small></sup> <a rel="nofollow" class="external text" href="http://olejon.github.io/spotcommander/">Server</a> running alongside Spotify, and you disable track notifications by following the instructions below, the <a rel="nofollow" class="external text" href="https://play.google.com/store/apps/details?id=net.olejon.spotcommander&amp;hl=en">SpotCommander Client</a> running on your mobile device will display that “No Music is Playing” and will <a rel="nofollow" class="external text" href="http://askubuntu.com/questions/472325/remove-spotify-pop-up-notification-when-a-song-starts/472329#472329">fail to display track info</a> such as title, artist, album art, etc.  Apart from that, the mobile client still works fine though, and is still able to skip, play, pause, control volume, etc.</div>
<p>After version 0.9.10, track change notifications were enabled by default. They can be quite intrusive. To disable them, add the following line to <code>~/.config/spotify/Users/&lt;spotifylogin&gt;-user/prefs</code>
</p>
<pre> ui.track_notifications_enabled=false
</pre>
<p>It is also possible to launch spotify with the <code>--ui.track_notifications_enabled=false</code> option.
</p>
<h3><span class="mw-headline" id="Show_track_notifications">Show track notifications</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/playerctl/">playerctl</a></span><sup><small>AUR</small></sup> provides a library you can use with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=python-gobject">python-gobject</a></span> and a notification daemon such as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=dunst">dunst</a></span> to show the artist and title in a notification when the track changes.
</p>
<pre>#!/usr/bin/env python3

from gi.repository import Playerctl, GLib
from subprocess import Popen

player = Playerctl.Player()

def on_track_change(player, e):
    track_info = '{artist} - {title}'.format(artist=player.get_artist(), title=player.get_title())
    Popen(['notify-send', track_info])

player.on('metadata', on_track_change)

GLib.MainLoop().run()
</pre>
<h3><span class="mw-headline" id="Skip_overplayed_radio_tracks">Skip overplayed radio tracks</span></h3>
<p>Another use of the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/playerctl/">playerctl</a></span><sup><small>AUR</small></sup> library is to skip tracks that are played too much on radio when you do not necessarily want to downvote these tracks because you may want to hear them again later on that station.
</p>
<pre>#!/usr/bin/env python3

from gi.repository import Playerctl, GLib

player = Playerctl.Player()

played_out = ['Zu Fuss', 'Walk And Talk', 'Neuland']

def on_track_change(player, e):
    if player.get_title() in played_out:
        player.next()

player.on('metadata', on_track_change)

GLib.MainLoop().run()
</pre>
<h3><span class="mw-headline" id="Mute_commercials">Mute commercials</span></h3>
<h4><span class="mw-headline" id="blockify">blockify</span></h4>
<p>With <a rel="nofollow" class="external text" href="https://github.com/mikar/blockify">blockify</a> you can mute commercials. It is available in the <a href="../en/Arch_User_Repository.html" title="AUR" class="mw-redirect">AUR</a> as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/blockify/">blockify</a></span><sup><small>AUR</small></sup>.
</p>
<p>To have this start and run in the background every time Spotify starts you will need to automate this yourself:
</p>
<pre>
#!/bin/sh

spotify=/usr/bin/spotify

if [[ -x $spotify &amp;&amp; -x /usr/bin/blockify ]];
then
  blockify &amp;
  block_pid=$!
  $spotify
  trap "kill -9 $block_pid" SIGINT SIGTERM EXIT
fi
</pre>
<p>By placing this script at <code>/usr/local/bin/spotify</code>, it gets preferred to <code>/usr/bin/spotify</code> everytime you start Spotify, so there's nothing else to change and updates won't break it.
</p>
<h4><span class="mw-headline" id="spotblock">spotblock</span></h4>
<p><a rel="nofollow" class="external text" href="https://github.com/mahkoh/spotblock">spotblock</a> (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/spotblock-git/">spotblock-git</a></span><sup><small>AUR</small></sup>) is a resource-efficient ad blocker that runs as a systemd daemon.
</p>
<h4><span class="mw-headline" id="Spotify-AdKiller">Spotify-AdKiller</span></h4>
<p><a rel="nofollow" class="external text" href="https://github.com/SecUpwN/Spotify-AdKiller">Spotify-AdKiller</a> (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/spotify-adkiller/">spotify-adkiller</a></span><sup><small>AUR</small></sup>) is another alternative to block Spotify adds.
</p>
<h3><span class="mw-headline" id="Remote_Control">Remote Control</span></h3>
<h4><span class="mw-headline" id="Send_commands_via_SSH">Send commands via SSH</span></h4>
<p>If you set up ssh on the server, you can send controls from a client to a remote Spotify instance with
</p>
<pre>$ ssh user@host <i>yourcommand</i>
</pre>
<p>where <i>yourcommand</i> can be <a rel="nofollow" class="external text" href="https://code.google.com/p/spotifycmd/">spotifycmd</a> that you installed on the server, or a dbus script for the linux version, as described above.
</p>
<h4><span class="mw-headline" id="Grab_the_Spotify_window_via_SSH">Grab the Spotify window via SSH</span></h4>
<p>Aside from grabbing the whole desktop with TeamViewer or VNC to remotely control your server, you can also only grab the Spotify Window from the server to your client.
</p>
<p>To do that, you need to configure sshd on your server and install x11vnc on both server and client as well as tigervnc on the client. Then you can use these scripts to grab either the complete dektop or only the Spotify window, which essentially gets you GUI client-like behavior as with MPD.
</p>
<pre>
#!/bin/bash
# vncget.sh

if [[ $1 == all ]];then
  ssh -f -t -L 5900:localhost:5900 user@host "x11vnc -q -display :0 -auth .Xauthority"
else
  ssh -f -t -L 5900:localhost:5900 user@host ".bin/vncgetspotify.sh"
fi
 
for i in {1..4}; do
  sleep 2
  if vncviewer localhost:0; then break; fi
done
</pre>
<pre>
#!/bin/bash
# vncgetspotify.sh

export DISPLAY=:0

id=$(wmctrl -lx | awk '/spotify.exe.Wine/ {print $1}')
[[ -z $id ]] &amp;&amp; id=$(wmctrl -lx | awk '/spotify.Spotify/ {print $1}')

x11vnc -sid $id -display :0 -auth .Xauthority
</pre>
<p>You will need to copy the second script to ~/.bin/vncgetspotify.sh on the server and the first script to any place on your client.
</p>
<p>Finally, to grab the spotify window, run on the client:
</p>
<pre>$ sh vncget.sh
</pre>
<p>or, for the whole desktop:
</p>
<pre>$ sh vncget.sh all
</pre>
<h3><span class="mw-headline" id="HiDPI_Mode">HiDPI Mode</span></h3>
<p>As the current Spotify build is not DPI aware, the amount to scale the interface by can be specified using the terminal command:
</p>
<pre>$ spotify --force-device-scale-factor=X
</pre>
<p>where X is the amount to scale the interface by, e.g 2.
</p>
<p>This change can be added to the <code>spotify.desktop</code> file, located in the <code>/usr/share/applications</code> directory, in order to apply the scaling when launching from the desktop.
</p>
<p>Example <code>spotify.desktop</code> file:
</p>
<pre>[Desktop Entry]
Name=Spotify
GenericName=Music Player
Comment=Spotify streaming music client
Icon=spotify-client
Exec=spotify --force-device-scale-factor=2%U
TryExec=spotify
Terminal=false
Type=Application
Categories=Audio;Music;Player;AudioVideo
MimeType=x-scheme-handler/spotify
</pre>
<p>In alternative, it is possible to create an application launcher override in the <code>~/.local/share/applications/</code> folder so that once the app gets updated, the setting will be kept.
</p>
<p>Example <code>spotify.desktop</code> override:
</p>
<pre>cp /usr/share/applications/spotify.desktop ~/.local/share/applications/
# edit ~/.local/share/applications/spotify.desktop
# so that the following
# Exec=spotify %U
# becomes this:
Exec=spotify --force-device-scale-factor=2 %U
# or use --force-device-scale-factor=1.0000001
# if you are not on HiDPi screen
</pre>
<p>Please keep in mind you need to relaunch your Desktop Manager once, before these override changes will be effective.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Using_search_causes_the_whole_interface_to_blink_and_then_crash">Using search causes the whole interface to blink and then crash</span></h3>
<p>Spotify is using an old version of Chromium Embedded Framework and hits a bug causing it to crash repeatedly when trying to use the search.  This can be worked around by using the following command line option:
</p>
<pre> --force-device-scale-factor=1.0000001
</pre>
<h3><span class="mw-headline" id="Blinking_images_and_improper_rendering_while_using_Spotify_Linux_with_DWM">Blinking images and improper rendering while using Spotify Linux with DWM</span></h3>
<p>Start spotify as a floating window.
</p>
<p>You can add this rule to the rules array in your <code>config.h</code>:
</p>
<pre> { "Spotify",     NULL,       NULL,        2,         True,     -1 },
</pre>
<p>This will tell dwm to start spotify as a floating window associated with the tag "2" no matter what window mode you are in. Recompile and install dwm to apply your new settings.
</p>
<h3><span class="mw-headline" id="Broken_search.2C_browsing_or_radio">Broken search, browsing or radio</span></h3>
<dl><dd> Spotify <a rel="nofollow" class="external text" href="http://community.spotify.com/t5/Help-Desktop-Linux-Mac-and/Bug-Desktop-Linux-0-9-0-133-gd18ed589-Having-mixed-locale-breaks/td-p/418270">bug report</a> concerning non-english locales</dd></dl>
<p>If various tabs like browsing only show a blank screen, the search field doesn't seem to do anything or the radio page is broken (stuck when starting and unsresponsive to input) you might be using a custom locale.
</p>
<p>Try setting the environment variable <code>LC_NUMERIC</code> to <code>en_US.utf8</code> before starting Spotify.
</p>
<h3><span class="mw-headline" id="SpotifyHelper.exe_crashes_.28Windows_client.29">SpotifyHelper.exe crashes (Windows client)</span></h3>
<p>If SpotifyHelper.exe crashes when starting Spotify, disable the d3d9 library with <code>winecfg</code>. Go to the "Libraries" tab, choose "d3d9" and click Add. To disable it, click edit and select the "Disable" option.
</p>
<h3><span class="mw-headline" id="Wrong_launcher_icon_.28Windows_client.29">Wrong launcher icon (Windows client)</span></h3>
<p>If the Spotify icon does not show up correctly in your launcher, add the following line to <code>~/.local/share/applications/wine/Programs/Spotify.desktop</code>:
</p>
<pre>StartupWMClass=spotify.exe
</pre>
<h3><span class="mw-headline" id="Deadlock_GUI_Thread">Deadlock GUI Thread</span></h3>
<p>Can occur under tiling window managers, such as Awesome, when double-clicking new song or playlist. Edit the file <code>~/.config/spotify/Users/[1-9]*-user/prefs</code> to add or change the following:
</p>
<pre>ui.track_notifications_enabled=false
</pre>
<p>Restart Spotify. Note that several causes appear to exist for this problem, and this particular fix only applies to select versions of Spotify client and Awesome, and it may be that additional root causes exist for the Debian and Ubuntu users reporting this issue. Observed with Spotify 0.9.17.1.g9b85d436 and Awesome 3.4.15.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>As of Spotify 1.0.17.75-2, <code>ui.track_notifications_enabled=false</code> seems to be ignored. On the other hand some, users report not experimenting the deadlock anymore as of Awesome 3.5.6. Deadlocks could be caused by scripts called by Awesome, which rely on buggy spotify dbus properties. See <a rel="nofollow" class="external autonumber" href="https://github.com/acrisci/playerctl/issues/20">[2]</a>.</div>
<p><b>Note:</b> This issue has multiple causes, so keep track of what you change while researching this. Update this section with additional scenarios and fixes.
</p>
<h3><span class="mw-headline" id="Pulseaudio">Pulseaudio</span></h3>
<p>See <a href="../en/PulseAudio/Troubleshooting.html" title="PulseAudio/Troubleshooting">PulseAudio/Troubleshooting</a> and <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?pid=1393465#p1393465">[3]</a>
</p>
<p>=== Album art and images are missing, show up as squares; with 
Quit spotify, then open spotify preferences <code>~/.config/spotify/prefs</code>
</p>
<p>Change @https to @http:
</p>
<pre> network.proxy.addr="your-proxy.com:80<strong>@http</strong>"
 network.proxy.mode=2
</pre>
<p>See original form post <a rel="nofollow" class="external text" href="http://community.spotify.com/t5/Help-Desktop-Linux-Mac-and/Mac-Windows-0-9-0-128-Apps-can-t-connect-anywhere-behind-proxy/m-p/448704#M52332">here</a>.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>As of 1.0.17 it looks like replacing https with http as suggested above can result in no connectivity at all. If this happens an alternative solution is to set 'no proxy' in the GUI use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=proxychains-ng">proxychains-ng</a></span> to force all TCP connection coming from the app through a proxy. Even with HTTP proxies that reject connections on port 80 (and only work for port 443) this works reliably.</div>
<h3><span class="mw-headline" id="Spotify_does_not_detect_other_devices_on_local_network">Spotify does not detect other devices on local network</span></h3>
<p>If a firewall is in place, open ports 57621 for UDP and TCP. If you use a variant of the <a href="../en/Iptables.html" title="Iptables">iptables</a> <a href="../en/Simple_stateful_firewall.html" title="Simple stateful firewall">Simple stateful firewall</a>, the following should do it:
</p>
<pre>iptables -A TCP -p tcp --dport 57621 -j ACCEPT -m comment --comment spotify
iptables -A UDP -p udp --dport 57621 -j ACCEPT -m comment --comment spotify
</pre>
<p>It is also possible to restrict the source and destination to the local network.
</p>
<h3><span class="mw-headline" id="Search_Bar_text_is_invisible_when_using_a_dark_theme">Search Bar text is invisible when using a dark theme</span></h3>
<p>The text in the search bar appears to be hardcoded to be white, making it invisible when using a dark Qt theme. To fix this, you'll need to make an override.
</p>
<p>First create a css file somewhere your account has permission to read/write from (such as your home folder). Call it whatever you like (eg. <b>spotify-override.css</b>).
</p>
<p>Open the newly created css file and add the following:
</p>
<pre>QLineEdit { color: #000 }
</pre>
<p>Save the file and exit. Next, you need to add the following to the end of your Spotify launcher (substitute the path with the actual path of your css file):
</p>
<pre>-stylesheet=/home/user/spotify-overide.css
</pre>
<p>So your full launch path should look something like this:
</p>
<pre>/usr/share/spotify/spotify-client/spotify -stylesheet=/home/user/spotify-override.css
</pre>
<h3><span class="mw-headline" id="Segmentation_fault_when_playing_a_local_file">Segmentation fault when playing a local file</span></h3>
<p>The cause of this problem is a missing dependency. For Pulseaudio users, installing <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ffmpeg-compat-54/">ffmpeg-compat-54</a></span><sup><small>AUR</small></sup> should fix it.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://github.com/acrisci/playerctl">playerctl</a>: A command-line utility and library for controlling media players</li>
<li>
<a href="../en/List_of_applications/Multimedia.html#GUI_players" title="SpotCommander" class="mw-redirect">SpotCommander</a>: A web based remote control for Spotify</li>
<li><a rel="nofollow" class="external free" href="http://www.spotify.com/int/help/faq/wine/">http://www.spotify.com/int/help/faq/wine/</a></li>
<li><a rel="nofollow" class="external free" href="http://www.spotify.com/int/download/previews/">http://www.spotify.com/int/download/previews/</a></li>
</ul>

</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Multimedia_players.html" title="Category:Multimedia players">Multimedia players</a></li>
<li><a href="../en/Category:Wine.html" title="Category:Wine">Wine</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li></ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
