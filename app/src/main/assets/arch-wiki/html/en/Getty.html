<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>getty - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Getty skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">getty</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p><span></span>
</p>
<div style="width:45%; margin: 0 0 0.5em 0.5em;">
<p style="background:#333; color:white; padding:0.2em; border-bottom:5px #08c solid; margin:0; text-align:center; font-weight:bold;">Related articles</p>
<ul style="list-style-type:none; margin:0; padding:0.3em;">
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Display_manager.html" title="Display manager">Display manager</a></li>
</ul>
</div>
<p>A <a href="https://en.wikipedia.org/wiki/getty_(Unix)" class="extiw" title="w:getty (Unix)">getty</a> is the generic name for a program which manages a terminal line and its connected terminal.  Its purpose is to protect the system from unauthorized access.  Generally, each getty process is started by <a href="../en/Systemd.html" title="Systemd">systemd</a> and manages a single terminal line. 
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Add_additional_virtual_consoles"><span class="tocnumber">2</span> <span class="toctext">Add additional virtual consoles</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#Automatic_login_to_virtual_console"><span class="tocnumber">3</span> <span class="toctext">Automatic login to virtual console</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Virtual_console"><span class="tocnumber">3.1</span> <span class="toctext">Virtual console</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Serial_console"><span class="tocnumber">3.2</span> <span class="toctext">Serial console</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Have_boot_messages_stay_on_tty1"><span class="tocnumber">4</span> <span class="toctext">Have boot messages stay on tty1</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#See_also"><span class="tocnumber">5</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" width="48" height="48"></a><b>This article or section needs language, wiki syntax or style improvements.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Description of TTY settings and "staircase effect" is out of context here. The default number of TTYs can be moved to <a href="#Add_additional_virtual_consoles">#Add additional virtual consoles</a> as it does not depend on agetty. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Getty">Talk:Getty#</a>)</div>
</div>
<p><i>agetty</i> is the default getty in Arch Linux, as part of the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=util-linux">util-linux</a></span> package. It modifies the TTY settings while waiting for a login so that the newlines are not translated to CR-LFs. This tends to cause a "staircase effect" for messages printed to the console. Agetty manages virtual consoles and six of these virtual consoles are provided by default in Arch Linux. They are usually accessible by pressing <code>Ctrl+Alt+F1</code> through <code>Ctrl+Alt+F6</code>.
</p>
<p>Alternatives include:
</p>
<ul><li> <b>mingetty</b> — A minimal getty which allows automatic logins.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://aur.archlinux.org/packages/mingetty/">https://aur.archlinux.org/packages/mingetty/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mingetty/">mingetty</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li> <b>fbgetty</b> — A console getty like mingetty, which supports framebuffers.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="http://projects.meuh.org/fbgetty/">http://projects.meuh.org/fbgetty/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=fbgetty">fbgetty</a></span>
</dd></dl>
<ul><li> <b>mgetty</b> — A versatile program to handle all aspects of a modem under Unix.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="http://mgetty.greenie.net/">http://mgetty.greenie.net/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mgetty/">mgetty</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h2><span class="mw-headline" id="Add_additional_virtual_consoles">Add additional virtual consoles</span></h2>
<p>Open the file <code>/etc/systemd/logind.conf</code> and set the option <b>NAutoVTs=6</b> to the number of virtual terminals that you want at boot.
</p>
<p>If you wish to start one temporarily, you can start a getty service at the desired TTY by typing:
</p>
<pre>$ systemctl start getty@ttyN.service
</pre>
<h2><span class="mw-headline" id="Automatic_login_to_virtual_console">Automatic login to virtual console</span></h2>
<p>Configuration relies on systemd <a href="../en/Systemd.html#Editing_provided_units" title="Systemd">drop-in files</a> to override the default parameters passed to <i>agetty</i>.
</p>
<p>Configuration differs for virtual versus serial consoles. In most cases, you want to set up automatic login on a virtual console, (whose device name is <code>tty<i>N</i></code>, where <code><i>N</i></code> is a number). The configuration of automatic login for serial consoles will be slightly different. Device names of the serial consoles look like <code>ttyS<i>N</i></code>, where <code><i>N</i></code> is a number.
</p>
<h3><span class="mw-headline" id="Virtual_console">Virtual console</span></h3>
<p><a href="../en/Systemd.html#Editing_provided_units" title="Systemd">Edit the provided unit</a> either manually by creating the following drop-in snippet, or by running <code>systemctl edit getty@tty1</code> and pasting its content:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/getty@tty1.service.d/override.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Service]
ExecStart=
ExecStart=-/usr/bin/agetty --autologin <i>username</i> --noclear %I $TERM</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDFFDD; border: thin solid #BBDDBB; overflow: hidden;">
<strong> Tip: </strong>The option <code>Type=idle</code> found in the default <code>getty@.service</code> will delay the service startup until all jobs (state change requests to units) are completed in order to avoid polluting the login prompt with boot-up messages. When <a href="../en/Xinit.html#Autostart_X_at_login" title="Start X at login" class="mw-redirect">starting X automatically</a>, it may be useful to start <code>getty@tty1.service</code> immediately by adding <code>Type=simple</code> into the <a href="../en/Systemd.html#Editing_provided_units" title="Drop-in snippet" class="mw-redirect">drop-in snippet</a>. Both the init system and <i>startx</i> can be <a href="../en/Silent_boot.html" title="Silent boot">silenced</a> to avoid the interleaving of their messages during boot-up.</div>
<p>If you want to use a <i>tty</i> other than <i>tty1</i>, see <a href="../en/Systemd_FAQ.html#How_do_I_change_the_default_number_of_gettys.3F" title="Systemd FAQ">systemd FAQ</a>.
</p>
<h3><span class="mw-headline" id="Serial_console">Serial console</span></h3>
<p>Create the following file (and leading directories):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/serial-getty@ttyS0.service.d/autologin.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Service]
ExecStart=
ExecStart=-/usr/bin/agetty --autologin <i>username</i> -s %I 115200,38400,9600 vt102</pre>
<h2><span class="mw-headline" id="Have_boot_messages_stay_on_tty1">Have boot messages stay on tty1</span></h2>
<p>By default, Arch has the <code>getty@tty1</code> service enabled. The service file already passes <code>--noclear</code>, which stops agetty from clearing the screen. However <a href="../en/Systemd.html" title="Systemd">systemd</a> clears the screen before starting it. To disable this behavior, create <code>/etc/systemd/system/getty@tty1.service.d/noclear.conf</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/getty@tty1.service.d/noclear.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Service]
TTYVTDisallocate=no</pre>
<p>This overrides only <code>TTYVTDisallocate</code> for <i>agetty</i> on TTY1, and leaves the global service file <code>/usr/lib/systemd/system/getty@.service</code> untouched. See <a href="../en/Systemd.html#Editing_provided_units" title="Systemd">Systemd#Editing provided units</a>.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>
<ul>
<li> Make sure to remove <code>quiet</code> from the <a href="../en/Kernel_parameters.html" title="Kernel parameter" class="mw-redirect">kernel parameters</a>.</li>
<li> Late KMS starting may cause the first few boot messages to clear. See <a href="../en/Kernel_mode_setting.html#Early_KMS_start" title="KMS" class="mw-redirect">KMS#Early KMS start</a>.</li>
</ul>
</div>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul><li> <a href="../en/Systemd.html#Change_default_target_to_boot_into" title="Systemd">Systemd#Change_default_target_to_boot_into</a>
</li></ul>

</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Boot_process.html" title="Category:Boot process">Boot process</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li></ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
