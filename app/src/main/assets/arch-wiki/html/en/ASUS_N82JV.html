<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>ASUS N82JV - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-ASUS_N82JV skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">ASUS N82JV</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<table class="wikitable" style="float: right;">
<tr>
<td> <b>Device</b> </td>
<td> <b>Status</b> </td>
<td> <b>Modules</b>
</td>
</tr>
<tr>
<td> Intel </td>
<td style="color:green"> <b>Working</b> </td>
<td> xf86-video-intel
</td>
</tr>
<tr>
<td> Nvidia </td>
<td style="color:orange"> <b>Partially Working</b> </td>
<td> nouveau
</td>
</tr>
<tr>
<td> Ethernet </td>
<td style="color:green"> <b>Working</b> </td>
<td>  atl1c
</td>
</tr>
<tr>
<td> Wireless </td>
<td style="color:green"> <b>Working</b> </td>
<td> ath9k
</td>
</tr>
<tr>
<td> Audio </td>
<td style="color:green"> <b>Working</b> </td>
<td> snd_hda_intel
</td>
</tr>
<tr>
<td> Touchpad </td>
<td style="color:green"> <b>Working</b> </td>
<td>
</td>
</tr>
<tr>
<td> Camera </td>
<td style="color:green"> <b>Working</b> </td>
<td> uvcvideo
</td>
</tr>
<tr>
<td> USB 3.0 </td>
<td style="color:green"> <b>Working</b> </td>
<td> xhci-hcd
</td>
</tr>
<tr>
<td> USB 2.0 </td>
<td style="color:green"> <b>Working</b> </td>
<td> ehci-hcd
</td>
</tr>
<tr>
<td> eSATA </td>
<td style="color:orange"> <b>Untested</b> </td>
<td>
</td>
</tr>
<tr>
<td> Card Reader </td>
<td style="color:green"> <b>Working</b> </td>
<td>
</td>
</tr>
<tr>
<td> Function Keys </td>
<td style="color:orange"> <b>Partially Working</b> </td>
<td>
</td>
</tr>
<tr>
<td> Suspend to RAM </td>
<td style="color:green"> <b>Working</b> </td>
<td>
</td>
</tr>
</table>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Hardware"><span class="tocnumber">1</span> <span class="toctext">Hardware</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Configuration"><span class="tocnumber">2</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#CPU"><span class="tocnumber">2.1</span> <span class="toctext">CPU</span></a></li>
<li class="toclevel-2 tocsection-4">
<a href="#Video"><span class="tocnumber">2.2</span> <span class="toctext">Video</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#Intel"><span class="tocnumber">2.2.1</span> <span class="toctext">Intel</span></a></li>
<li class="toclevel-3 tocsection-6">
<a href="#Nvidia"><span class="tocnumber">2.2.2</span> <span class="toctext">Nvidia</span></a>
<ul>
<li class="toclevel-4 tocsection-7"><a href="#Switching_.2F_Using_Nvidia_card"><span class="tocnumber">2.2.2.1</span> <span class="toctext">Switching / Using Nvidia card</span></a></li>
<li class="toclevel-4 tocsection-8">
<a href="#Disabling_the_Nvidia_card"><span class="tocnumber">2.2.2.2</span> <span class="toctext">Disabling the Nvidia card</span></a>
<ul>
<li class="toclevel-5 tocsection-9">
<a href="#acpi_call_.28manual.29"><span class="tocnumber">2.2.2.2.1</span> <span class="toctext">acpi_call (manual)</span></a>
<ul>
<li class="toclevel-6 tocsection-10"><a href="#Run_on_Startup"><span class="tocnumber">2.2.2.2.1.1</span> <span class="toctext">Run on Startup</span></a></li>
<li class="toclevel-6 tocsection-11"><a href="#Enable.2FDisable_Scripts"><span class="tocnumber">2.2.2.2.1.2</span> <span class="toctext">Enable/Disable Scripts</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-12">
<a href="#Audio"><span class="tocnumber">2.3</span> <span class="toctext">Audio</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#HDMI"><span class="tocnumber">2.3.1</span> <span class="toctext">HDMI</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-14">
<a href="#Touchpad"><span class="tocnumber">2.4</span> <span class="toctext">Touchpad</span></a>
<ul>
<li class="toclevel-3 tocsection-15"><a href="#Working_10-synaptics.conf"><span class="tocnumber">2.4.1</span> <span class="toctext">Working 10-synaptics.conf</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-16"><a href="#Suspend_to_RAM"><span class="tocnumber">2.5</span> <span class="toctext">Suspend to RAM</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#Webcam"><span class="tocnumber">3</span> <span class="toctext">Webcam</span></a></li>
<li class="toclevel-1 tocsection-18"><a href="#Function_Keys"><span class="tocnumber">4</span> <span class="toctext">Function Keys</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Hardware">Hardware</span></h1>
<p><i>CPU</i> Intel Core i5 430M
</p>
<p><i>Mainboard</i> | Intel HM55
</p>
<p><i>RAM</i> 4096 MB, 2x 2048 MByte DDR3-10700 (1066 MHz)
</p>
<p><i>Display</i> 14" HD LED (1366x768)
</p>
<p><i>Graphics adapter</i> NVIDIA GeForce GT 335M - 1024 MB, Core: 450 MHz, Memory: 790 MHz, Shader rate: 1080 MHz
</p>
<p><i>Soundcard</i> Realtek ALC269 @ Intel Ibex Peak PCH
</p>
<p><i>Network</i> Atheros AR8131 PCI-E Gigabit Ethernet Controller (1000MBit), Atheros AR9285 Wireless Network 
</p>
<p><i>Hard disk</i> 320GB 5400rpm SATA
</p>
<p><i>Webcam</i> Chicony Electronics
</p>
<p><i>Touchpad</i> Elantech
</p>
<h1><span class="mw-headline" id="Configuration">Configuration</span></h1>
<p>My particular model is Asus N82JV-VX038V but the contents of the page should remain valid for every N82JV<a rel="nofollow" class="external autonumber" href="http://www.notebookcheck.net/Review-Asus-N82JV-Notebook.29437.0.html">[1]</a> model.
</p>
<h2><span class="mw-headline" id="CPU">CPU</span></h2>
<p>Works out of the box.
</p>
<p>Follow the <a href="../en/CPU_frequency_scaling.html" title="SpeedStep" class="mw-redirect">SpeedStep</a> guide to enable speed-stepping.
</p>
<h2><span class="mw-headline" id="Video">Video</span></h2>
<p>This laptop sports two gpus. The Intel GMA HD (Core ix integrated) and the Nvidia Geforce GT 335M, with the ability to switch granted by Nvidia Optimus technology.
</p>
<h3><span class="mw-headline" id="Intel">Intel</span></h3>
<p>Follow these guides: <a href="../en/Xorg.html" title="Xorg">Xorg</a> and <a href="../en/Intel_graphics.html" title="Intel" class="mw-redirect">Intel</a>
</p>
<p>No problems detected. VGA out and HDMI working.
</p>
<h3><span class="mw-headline" id="Nvidia">Nvidia</span></h3>
<p>The official proprietary Nvidia drivers for linux do not support Nvidia Optimus yet.
</p>
<h4><span class="mw-headline" id="Switching_.2F_Using_Nvidia_card">Switching / Using Nvidia card</span></h4>
<p>While it still isn't possible to <i>switch</i> in the manner that Optimus is supposed to switch, in order to make use of the dedicated graphic card you need to use <a href="../en/Bumblebee.html" title="Bumblebee">Bumblebee</a>. In short, <b>it is possible to run a specific program with Nvidia</b>, while the rest of the system is relying on the Intel card. 
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong> Bumblebee's development is rapidly progressing, so be sure to check it's website<a rel="nofollow" class="external autonumber" href="https://github.com/MrMEEE/bumblebee">[2]</a> regularly; it's also worth checking Linux Hybrid Graphics blog<a rel="nofollow" class="external autonumber" href="http://linux-hybrid-graphics.blogspot.com/">[3]</a> and the mailing list<a rel="nofollow" class="external autonumber" href="https://lists.launchpad.net/hybrid-graphics-linux/">[4]</a>.</div> 
<h4><span class="mw-headline" id="Disabling_the_Nvidia_card">Disabling the Nvidia card</span></h4>
<p>There's more than one method to do this. Namely with <b>vgaswitcheroo</b> (not working reliably yet with these cards) and <b>acpi_call (AUR<a rel="nofollow" class="external autonumber" href="https://aur.archlinux.org/packages.php?ID=39470">[5]</a>)</b>, which is recommended. 
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>If you use the AUR version, the steps are different than the ones below, but they are explained during/after install; the scripts can be easily adapted to the new locations, if necessary</div>
<h5><span class="mw-headline" id="acpi_call_.28manual.29">acpi_call (manual)</span></h5>
<p>In order to switch following hack is available<a rel="nofollow" class="external autonumber" href="http://linux-hybrid-graphics.blogspot.com/2010/07/using-acpicall-module-to-switch-onoff.html">[6]</a><a rel="nofollow" class="external autonumber" href="http://github.com/mkottman/acpi_call">[7]</a>.
</p>
<p><i>What it is</i>: A kernel module that enables you to call parameterless ACPI methods by writing the method name to /proc/acpi/call, e.g. to turn off discrete graphics card in a dual graphics environment (like NVIDIA Optimus).
</p>
<p>Instalation:
</p>
<pre>git clone <a rel="nofollow" class="external free" href="http://github.com/mkottman/acpi_call.git">http://github.com/mkottman/acpi_call.git</a>
cd acpi_call
make
sudo insmod acpi_call.ko
./test_off.sh</pre>
<p>Usage:
</p>
<pre># turn off discrete graphics card
echo '\_SB.PCI0.PEG1.GFX0.DOFF' &gt; /proc/acpi/call
# turn it back on
echo '\_SB.PCI0.PEG1.GFX0.DON' &gt; /proc/acpi/call</pre>
<h6><span class="mw-headline" id="Run_on_Startup">Run on Startup</span></h6>
If you want run it on every startup add these lines to <code>/etc/rc.local</code> <div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Running this without a delay on Kernel 2.6.35.x has problems (Boots fine but X and tty do not show up; to avoid that, simply add <code>sleep &lt;time&gt;</code> before these lines and remember that sleep affects every line below it. If you mess up or decide to test it, just boot into recovery mode and edit <code>/etc/rc.local</code> from cli, to either add the delay or remove the lines altogether</div>
<pre># Disable Nvidia
insmod &lt;path to acpi_call dir&gt;/acpi_call.ko
echo '\_SB.PCI0.PEG1.GFX0.DOFF' &gt; /proc/acpi/call</pre>
<p>If want, you may verify the power usage, on battery, with <code>grep rate /proc/acpi/battery/BAT0/state</code>. There should be a difference of about 7500 mW in battery usage.
</p>
<h6><span class="mw-headline" id="Enable.2FDisable_Scripts">Enable/Disable Scripts</span></h6>
<p>You can easily create a couple of scripts to enable and disable it.
</p>
<pre>
#/bin/sh
# Disable Nvidia
sudo insmod /home/xehoz/build/acpi_call/acpi_call.ko
echo '\_SB.PCI0.PEG1.GFX0.DOFF' &gt; /proc/acpi/call</pre>
<pre>
#/bin/sh
# Enable Nvidia
sudo insmod /home/xehoz/build/acpi_call/acpi_call.ko
echo '\_SB.PCI0.PEG1.GFX0.DON' &gt; /proc/acpi/call</pre>
<p><code>chmod +x</code> both of them and type <code>sh &lt;name you've given them&gt;</code> to use them.
</p>
<h2><span class="mw-headline" id="Audio">Audio</span></h2>
<p>Follow the official documentation: <a href="../en/Advanced_Linux_Sound_Architecture.html" title="ALSA" class="mw-redirect">ALSA</a> and <a href="../en/PulseAudio.html" title="PulseAudio">PulseAudio</a>
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>From my experience <a href="../en/Open_Sound_System.html" title="OSS" class="mw-redirect">OSS</a> doesn't work</div>
<p>While it outputs sound to the speakers, the headphone jack won't work, and the speakers won't mute when a headphone is plugged in and the integrated mic won't work either. 
</p>
<p>In order to fix this, follow these steps.
</p>
<p>1. Install ALSA drivers available at Realtek <a rel="nofollow" class="external autonumber" href="http://218.210.127.131/downloads/downloadsView.aspx?Langid=1&amp;PNid=14&amp;PFid=24&amp;Level=4&amp;Conn=3&amp;DownTypeID=3&amp;GetDown=false">[8]</a>
</p>
<pre>tar xvf LinuxPkg_x.x
tar xvf alsa-driver-1.0.xx
cd alsa-driver-1.0.xx
./configure --with-cards=hda-intel
make
make install</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Realtek's ALSA drivers, currently 1.0.23-5.15rc5, aren't compiling properly in kernel 2.6.35. As an alternative, download the latest alsa-driver snapshot from here<a rel="nofollow" class="external autonumber" href="http://ftp.kernel.org/pub/linux/kernel/people/tiwai/alsa/alsa-driver/alsa-driver-snapshot.tar.gz">[9]</a> (tested with 01/09/2010 snapshot)</div>
<p>2. Add <code>options snd-hda-intel index=0 model=auto</code> to <code>/etc/modprobe.d/modprobe.conf</code>.
</p>
<p>Open <code>/etc/modprobe.d/sound.conf</code> and add:
</p>
<pre>alias snd-card-0 snd-hda-intel
alias sound-slot-0 snd-hda-intel</pre>
<h3><span class="mw-headline" id="HDMI">HDMI</span></h3>
<p>Sound through HDMI works, but requires that the sound profile (mixer) be changed manually (not really a problem).
</p>
<h2><span class="mw-headline" id="Touchpad">Touchpad</span></h2>
<p>1. Follow the <a href="../en/Touchpad_Synaptics.html" title="Synaptics" class="mw-redirect">Synaptics</a> guide.
</p>
<p>Type <code>xinput list </code>. What you want to see:
</p>
<pre>⎜   ↳ ETPS/2 Elantech Touchpad                	id=16	[slave  pointer  (2)]</pre>
<p>However, you'll see that the system is misinterpreting the touchpad for a wheel mouse. This is because this laptop (and so many others recently) is using an Elantech Touchpad. In order to fix it, enter this in the command line:
</p>
<pre>echo "options psmouse force_elantech=1" | sudo tee -a /etc/modprobe.d/psmouse.conf
sudo rmmod psmouse &amp;&amp; sudo modprobe psmouse</pre>
<p>Then, open <code>/etc/X11/xorg.conf.d/10-synaptics.conf</code>. A bare minimum configuration requires this text:
</p>
<pre>Section "InputClass"
        Identifier      "touchpad catchall"
        Driver          "synaptics"
        MatchIsTouchpad "on"
              Option    "LeftEdge"              "130"
              Option    "RightEdge"             "840"
              Option    "TopEdge"               "130"
              Option    "BottomEdge"            "640"
EndSection</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>While I settled with these coordinates, they may require tuning: <a href="../en/Touchpad_Synaptics.html#Synclient" title="Touchpad Synaptics">Touchpad Synaptics#Synclient</a>.</div>
<h3><span class="mw-headline" id="Working_10-synaptics.conf">Working 10-synaptics.conf</span></h3>
<p>Here's a fully working 10-synaptics.conf with Edge Scrolling, Two Finger Scrolling and with middle mouse click (LTCornerButton and RTCornerButton) on the top corners activated. Circular Scrolling works, but it's deactivated.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/10-synaptics.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "InputClass"
        Identifier      "touchpad catchall"
        Driver          "synaptics"
        MatchIsTouchpad "on"
		Option	"SHMConfig"		"on"
		Option 	"LeftEdge"          	"130"
		Option	"RightEdge"         	"840"
		Option	"TopEdge"           	"130"
		Option	"BottomEdge"        	"640"
		Option	"VertEdgeScroll"	"on"
		Option	"HorizEdgeScroll"	"on"
		Option	"CornerCoasting"	"on"
		Option	"CoastingSpeed"		"0.30"
		Option	"VertTwoFingerScroll"   "on"
		Option	"HorizTwoFingerScroll"  "on"
		Option	"CircularScrolling"	"off"
		Option	"CricularTrigger"	"0"
		Option	"TapButton1" 		"1"
		Option	"TapButton2" 		"2"
		Option	"TapButton3" 		"3"
		Option	"LTCornerButton"	"2"
		Option	"RTCornerButton"	"2"
EndSection</pre>
<h2><span class="mw-headline" id="Suspend_to_RAM">Suspend to RAM</span></h2>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>As far as I can tell, there is a general problem with USB 3.0 and suspending at the kernel level.</div>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>This is section was written in kernel 2.6.36.2-1 and with the packages available on 18th December.</div>
<p>I achieved Suspension to RAM by using pm-utils with either the uswsusp and kernel method.
</p>
<p>1. Follow the <a href="../en/Pm-utils.html" title="Pm-utils">pm-utils</a> article . It is quite extense and can be confusing, but, if I recall, this is the very minimum of what is needed to do:
</p>
<p>1.1 Type <code>pacman -S pm-utils uswsusp</code>
</p>
<p>1.2 To a file inside <code>/etc/pm/config.d/</code>, add:
</p>
<pre>SLEEP_MODULE="uswsusp"
#SLEEP_MODULE="kernel"
HIBERNATE_MODE="shutdown"</pre>
<p>1.3 Add the <code>resume</code> hook to <code>/etc/mkinitcpio.conf</code>, before filesystems.
</p>
<pre>HOOKS="base udev autodetect block resume filesystems"</pre>
<p>1.4 Rebuild the initrd image with <code>mkinitcpio -p linux</code>.
</p>
<p>Now, to the hardware specific part.
</p>
2. Add <pre>SUSPEND_MODULES="xhci-hcd ehci-hcd"</pre> to <code>/etc/pm/config.d/usb3-suspend-workaround</code>.
<p>After a surge of updates, somewhere on the end of November/start of December (bug report), suspend to ram only works if nouveau is explicitly disabled in rc.conf. Since nouveau isn't related to the ability to power the nvidia card off, powering it off is still possible, even after 
disabling that module.
</p>
<p>3. Add <code>!nouveau</code> to the <code>MODULES</code> line in <code>rc.conf</code>. It should look like this:
</p>
<pre>MODULES=(fuse acpi-cpufreq cpufreq_ondemand cpufreq_powersave !snd-pcm-oss vboxdrv !nouveau)</pre>
<h1><span class="mw-headline" id="Webcam">Webcam</span></h1>
<p>Working, since version v4l-utils 0.8.1-1 (in previous versions the picture was upside down).
</p>
<pre>$ lsusb |grep Chicony
Bus 002 Device 003: ID 04f2:b1bb Chicony Electronics Co., Ltd</pre>
<h1><span class="mw-headline" id="Function_Keys">Function Keys</span></h1>
<p>Most of them do work. Exceptions are the multimedia player commands (fn+arrows), fn+c, fn+v and fn+F9 (which should disable the touchpad). It should be possible to have them all working by following <a href="../en/Extra_keyboard_keys.html" title="Extra keyboard keys">Extra keyboard keys</a>.
</p>
</div>
<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:ASUS.html" title="Category:ASUS">ASUS</a></li></ul>
</div></div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
