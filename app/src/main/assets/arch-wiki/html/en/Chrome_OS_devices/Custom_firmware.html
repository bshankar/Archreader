<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Chrome OS devices/Custom firmware - ArchWiki</title>
<link rel="stylesheet" href="../../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Chrome_OS_devices_Custom_firmware skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 2em; margin-bottom: 0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Chrome OS devices/Custom firmware</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"><span class="subpages">&lt; <a href="../../en/Chrome_OS_devices.html" title="Chrome OS devices">Chrome OS devices</a></span></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div style="float:right; clear:right; width:25%; margin: 0 0 0.5em 0.5em;">
<p style="background:#333; color:white; padding:0.2em; border-bottom:5px #08c solid; margin:0; text-align:center; font-weight:bold;">Related articles</p>
<ul style="list-style-type:none; margin:0; padding:0.3em;">
<li style="padding:0.4em 0; line-height:1;"><a href="../../en/Chrome_OS_devices.html" title="Chromebook" class="mw-redirect">Chromebook</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../../en/Chromebook_Pixel_2.html" title="Chromebook Pixel 2">Chromebook Pixel 2</a></li>
</ul>
</div>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;">
<strong> Warning: </strong>This article relies on third-party scripts and modifications, and may irreparably damage your hardware or data. Proceed at your own risk.</div>
<div class="noprint archwiki-template-message">
<p><a href="../../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../../File:Tango-edit-clear.png" width="48" height="48"></a><b>This article or section needs language, wiki syntax or style improvements.</b><a href="../../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../../File:Tango-edit-clear.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> This topic on this page were moved out from the Chromebook page as it was too bloated, hard to navigate and follow, the page here is still needs a little more work to stand by it own and we can probably move out a little more details from the Chromebook page to avoid duplicates, anyone who create hot links in other pages to specific topics in this page should be aware that some topics' headers might be change. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Chrome_OS_devices/Custom_firmware">Talk:Chrome OS devices/Custom firmware#</a>)</div>
</div>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a>
<ul>
<li class="toclevel-2 tocsection-2">
<a href="#Why_flash_a_custom_firmware.3F"><span class="tocnumber">1.1</span> <span class="toctext">Why flash a custom firmware?</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#Pros"><span class="tocnumber">1.1.1</span> <span class="toctext">Pros</span></a></li>
<li class="toclevel-3 tocsection-4"><a href="#Cons"><span class="tocnumber">1.1.2</span> <span class="toctext">Cons</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-5">
<a href="#Flashing_the_custom_firmware"><span class="tocnumber">2</span> <span class="toctext">Flashing the custom firmware</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Disable_the_hardware_write_protection"><span class="tocnumber">2.1</span> <span class="toctext">Disable the hardware write protection</span></a></li>
<li class="toclevel-2 tocsection-7">
<a href="#Flashing_with_John_Lewis.27_script"><span class="tocnumber">2.2</span> <span class="toctext">Flashing with John Lewis' script</span></a>
<ul>
<li class="toclevel-3 tocsection-8">
<a href="#Understanding_the_script"><span class="tocnumber">2.2.1</span> <span class="toctext">Understanding the script</span></a>
<ul>
<li class="toclevel-4 tocsection-9"><a href="#What_John_Lewis.27_getnflash_johnlewis_rom.sh_script_does_.3F"><span class="tocnumber">2.2.1.1</span> <span class="toctext">What John Lewis' getnflash_johnlewis_rom.sh script does ?</span></a></li>
<li class="toclevel-4 tocsection-10"><a href="#What_the_script_does_not_do_.3F"><span class="tocnumber">2.2.1.2</span> <span class="toctext">What the script does not do ?</span></a></li>
<li class="toclevel-4 tocsection-11"><a href="#Conclusions"><span class="tocnumber">2.2.1.3</span> <span class="toctext">Conclusions</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-12"><a href="#Running_the_script_in_Chrome_OS"><span class="tocnumber">2.2.2</span> <span class="toctext">Running the script in Chrome OS</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#Running_the_script_in_Arch_Linux"><span class="tocnumber">2.2.3</span> <span class="toctext">Running the script in Arch Linux</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-14"><a href="#Flashing_with_ezScript"><span class="tocnumber">2.3</span> <span class="toctext">Flashing with ezScript</span></a></li>
<li class="toclevel-2 tocsection-15">
<a href="#Manually_with_flashrom"><span class="tocnumber">2.4</span> <span class="toctext">Manually with flashrom</span></a>
<ul>
<li class="toclevel-3 tocsection-16"><a href="#Get_flashrom_for_Arch_Linux"><span class="tocnumber">2.4.1</span> <span class="toctext">Get flashrom for Arch Linux</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="#Get_flashrom_for_Chrome_OS"><span class="tocnumber">2.4.2</span> <span class="toctext">Get flashrom for Chrome OS</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#Basic_use_of_flashrom"><span class="tocnumber">2.4.3</span> <span class="toctext">Basic use of flashrom</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#Flashing_back_stock_firmware"><span class="tocnumber">3</span> <span class="toctext">Flashing back stock firmware</span></a></li>
<li class="toclevel-1 tocsection-20">
<a href="#Unbricking_your_Chrome_OS_device"><span class="tocnumber">4</span> <span class="toctext">Unbricking your Chrome OS device</span></a>
<ul>
<li class="toclevel-2 tocsection-21"><a href="#Required_tools"><span class="tocnumber">4.1</span> <span class="toctext">Required tools</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#General_idea_on_the_unbricking_process"><span class="tocnumber">4.2</span> <span class="toctext">General idea on the unbricking process</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Recommended_reading_about_unbricking"><span class="tocnumber">4.3</span> <span class="toctext">Recommended reading about unbricking</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-24">
<a href="#Firmware_write_protection"><span class="tocnumber">5</span> <span class="toctext">Firmware write protection</span></a>
<ul>
<li class="toclevel-2 tocsection-25"><a href="#Hardware_write_protection"><span class="tocnumber">5.1</span> <span class="toctext">Hardware write protection</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#Software_write_protection"><span class="tocnumber">5.2</span> <span class="toctext">Software write protection</span></a></li>
<li class="toclevel-2 tocsection-27">
<a href="#Understanding_the_Process_of_Disabling_the_Write_Protection"><span class="tocnumber">5.3</span> <span class="toctext">Understanding the Process of Disabling the Write Protection</span></a>
<ul>
<li class="toclevel-3 tocsection-28"><a href="#Disabling_the_hardware_write_protection"><span class="tocnumber">5.3.1</span> <span class="toctext">Disabling the hardware write protection</span></a></li>
<li class="toclevel-3 tocsection-29"><a href="#Disabling_the_software_write_protection"><span class="tocnumber">5.3.2</span> <span class="toctext">Disabling the software write protection</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<h3><span class="mw-headline" id="Why_flash_a_custom_firmware.3F">Why flash a custom firmware?</span></h3>
<h4><span class="mw-headline" id="Pros">Pros</span></h4>
<ul>
<li> Adds a much recent version of SeaBIOS</li>
<li> Adds SeaBIOS payload of coreboot to Chrome OS devices that did not shipped with SeaBIOS.</li>
<li> Reduce boot time.</li>
<li> Remove developer Mode screen.</li>
<li> Enables VMX.</li>
<li> Fixes some issues (like suspend) without further modifications.</li>
</ul>
<h4><span class="mw-headline" id="Cons">Cons</span></h4>
<ul>
<li> Dangerous, might brick your device.</li>
<li> Cannot boot stock Chrome OS (you can install <a rel="nofollow" class="external text" href="http://arnoldthebat.co.uk/wordpress/chromium-os/">Arnold the Bat’s Chromium OS build</a> and it should be possible upgrade it to full blown Chrome OS with a script).</li>
<li> It is possible that some quirks will be added, <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?pid=1460520#p1460520">[1]</a>.</li>
</ul>
<h2><span class="mw-headline" id="Flashing_the_custom_firmware">Flashing the custom firmware</span></h2>
<p>There are several approaches for flashing a custom firmware:
</p>
<ul>
<li> Use John Lewis' script which will save you time finding the correct firmware.</li>
<li> Use Matt DeVillier's <a rel="nofollow" class="external text" href="http://forum.kodi.tv/showthread.php?tid=194362">ezScript</a> (currently supports only Chromeboxes).</li>
<li> Manually with <code>flashrom</code>, in this case you will need to obtain the firmware by yourself or to compile it from the Coreboot sources (<a rel="nofollow" class="external text" href="http://www.coreboot.org/Download_coreboot">official</a> or <a rel="nofollow" class="external text" href="https://chromium.googlesource.com/chromiumos/third_party/coreboot/">Chromium OS fork</a>).</li>
</ul>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>With Linux kernel versions greater than 4.4, CONFIG_IO_STRICT_DEVMEM a new kernel security measure can make flashrom stop working, in that case you can try adding "iomem=relaxed" to your kernel parameters. <a rel="nofollow" class="external autonumber" href="https://www.flashrom.org/FAQ%EF%BB%BF">[2]</a>.</div>
<h3><span class="mw-headline" id="Disable_the_hardware_write_protection">Disable the hardware write protection</span></h3>
<p>See the <a href="#Disabling_the_hardware_write_protection">Disabling the hardware write protection</a> at the <a href="#Firmware_write_protection">Firmware write protection</a>.
</p>
<h3><span class="mw-headline" id="Flashing_with_John_Lewis.27_script">Flashing with John Lewis' script</span></h3>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;">
<strong> Warning: </strong>Do not run the script before disabling the hardware write protection.</div>
<h4><span class="mw-headline" id="Understanding_the_script">Understanding the script</span></h4>
<h5><span class="mw-headline" id="What_John_Lewis.27_getnflash_johnlewis_rom.sh_script_does_.3F">What John Lewis' <code>getnflash_johnlewis_rom.sh</code> script does ?</span></h5>
<ul>
<li> Automatically downloads Chromium OS 32bit version of <code>flashrom</code>.</li>
<li> Backup your current firmware.</li>
<li> Disables software write protection by running <code># ./flashrom --wp-disable</code>.</li>
<li> Checks the Chromebook product name with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=dmidecode">dmidecode</a></span> and download the proper custom firmware.</li>
<li> Writes the custom firmware.</li>
</ul>
<h5><span class="mw-headline" id="What_the_script_does_not_do_.3F">What the script does not do ?</span></h5>
<ul>
<li> Does not ask for confirmation.</li>
<li> Does not check if the hardware write protection is disabled.</li>
<li> Does not confirm the compatibility of a custom firmware to a specific Chromebook sub-model.</li>
</ul>
<h5><span class="mw-headline" id="Conclusions">Conclusions</span></h5>
<ul>
<li> Make sure you disabled the hardware write protection.</li>
<li> Read the <a rel="nofollow" class="external text" href="https://johnlewis.ie/custom-chromebook-firmware/faq/">FAQ</a>.</li>
<li> <a rel="nofollow" class="external text" href="https://johnlewis.ie/custom-chromebook-firmware/rom-download/">Confirm that your Chromebook model is supported</a>, if your model is untested then visit the <a rel="nofollow" class="external text" href="https://plus.google.com/communities/112479827373921524726">coreboot on Chromebooks Google+ community</a> and ask for advice.</li>
</ul>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;">
<strong> Warning: </strong>If you are flashing a custom firmware be prepared to the possibility that you might brick your device and make yourself familiar with the <a href="#Unbricking_Your_Chromebook">unbricking methods</a><sup>[<a href="../../en/ArchWiki:Requests.html#Broken_section_links" title="ArchWiki:Requests">broken link</a>: invalid section]</sup>.</div>
<h4><span class="mw-headline" id="Running_the_script_in_Chrome_OS">Running the script in Chrome OS</span></h4>
<ul>
<li> Access your command prompt via VT-2. <code>Ctrl + Alt + =&gt;</code>
</li>
<li> Enter the command shown on the <a rel="nofollow" class="external text" href="https://johnlewis.ie/custom-chromebook-firmware/rom-download/">Download ROM page at John Lewis site</a>.</li>
</ul>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>The reason for not posting here is to force you to visit the site and read the page before proceeding.</div>
<ul><li> After the script exited copy the backed up firmware to an external storage before rebooting the system.</li></ul>
<p>You should now have a custom firmware installed on your device, cross your fingers and reboot.
</p>
<p>If you flashed the firmware as part of the installation process then continue by following <a href="#Installing_Arch_Linux">Installing Arch Linux</a><sup>[<a href="../../en/ArchWiki:Requests.html#Broken_section_links" title="ArchWiki:Requests">broken link</a>: invalid section]</sup>, if the custom firmware boots the installation media correctly then you might want to enable back the hardware write protection.
</p>
<h4><span class="mw-headline" id="Running_the_script_in_Arch_Linux">Running the script in Arch Linux</span></h4>
<ul><li> In Arch Linux on 64bit environment you will need to enable the Multilib repository (if it is not already enabled) in pacman.conf and install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=lib32-glibc">lib32-glibc</a></span>.</li></ul>
<pre># pacman -S lib32-glibc
</pre>
<ul><li> Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=dmidecode">dmidecode</a></span>.</li></ul>
<pre># pacman -S dmidecode
</pre>
<ul><li> Enter the command shown on the <a rel="nofollow" class="external text" href="https://johnlewis.ie/custom-chromebook-firmware/rom-download/">Download ROM page at John Lewis site</a>.</li></ul>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>The reason for not posting here is to force you to visit the site and read the page before proceeding.</div>
<ul><li> After the script exited copy the backed up firmware to an external storage before rebooting the system.</li></ul>
<p>You should now have a custom firmware installed on your device, cross you fingers and reboot.
</p>
<p>If the custom firmware boots Arch Linux correctly then you might want to enable back the hardware write protection, although <a rel="nofollow" class="external text" href="https://blogs.fsfe.org/the_unconventional/2014/09/19/c720-coreboot/">John Lewis states</a> that it's not necessary and will only make upgrading more difficult later. However, if you do not re-enable it you want to be careful not to use flashrom.
</p>
<h3><span class="mw-headline" id="Flashing_with_ezScript">Flashing with ezScript</span></h3>
<p>Currently ezScript supports only Intel based Chromeboxes.
</p>
<p>Before installing this custom firmware carefully read instructions at <a rel="nofollow" class="external text" href="http://forum.kodi.tv/showthread.php?tid=194362">ezScript official page</a>. To install firmware only use install option #5 (<code>Install/update: custom coreboot Firmware</code>).
</p>
<h3><span class="mw-headline" id="Manually_with_flashrom">Manually with flashrom</span></h3>
<p>The use of the upstream <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=flashrom">flashrom</a></span> package is discouraged as it's missing operations like <code>--wp-disable</code>, <code>--wp-status</code> and it will not write firmware successfully to the ROM of the Chromebook unless it already been programmed externally (i.e. flashing by another device over SPI with SOIC clip), this is why it's recommended to use Chromium OS's <code>flashrom</code>. 
</p>
<h4><span class="mw-headline" id="Get_flashrom_for_Arch_Linux">Get flashrom for Arch Linux</span></h4>
<ul><li> Download a 64-bit statically linked Chromium OS's <code>flashrom</code> version.</li></ul>
<pre># wget --no-check-certificate <a rel="nofollow" class="external free" href="https://johnlewis.ie/flashrom">https://johnlewis.ie/flashrom</a>
# chmod +x flashrom
</pre>
<p>Do not forget that <code>flashrom</code>'s location is not in <code>$PATH</code>, to execute it you will need to precede the command with <code>./</code>, e.g. <code># ./flashrom</code>.
</p>
<h4><span class="mw-headline" id="Get_flashrom_for_Chrome_OS">Get flashrom for Chrome OS</span></h4>
<p>Chrome OS already includes <code>flashrom</code>.
</p>
<h4><span class="mw-headline" id="Basic_use_of_flashrom">Basic use of flashrom</span></h4>
<ul><li> Disable software write protection before writing to the firmware chip.</li></ul>
<pre># flashrom --wp-disable
</pre>
<ul><li> Backup firmware from the firmware chip.</li></ul>
<pre># flashrom -r old_firmware.bin
</pre>
<ul><li> Write firmware to the firmware chip.</li></ul>
<pre># flashrom -w new_firmware.bin
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDFFDD; border: thin solid #BBDDBB; overflow: hidden;">
<strong> Tip: </strong>Find your firmware chip by running the command <code>flashrom -V|grep 'Found' |grep 'flash chip'</code>
</div>
<h2><span class="mw-headline" id="Flashing_back_stock_firmware">Flashing back stock firmware</span></h2>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>The following assumes that your device is not bricked, if it does bricked then jump to <a href="#Unbricking_your_Chrome_OS_device">Unbricking your Chrome OS device</a>
</div>
<p><a href="#Disabling_the_hardware_write_protection">Disable the hardware write protection</a> and follow the how to <a href="#Manually_with_flashrom">manually flash firmware with <code>flashrom</code></a> to flash the backup of your stock firmware.
</p>
<h2><span class="mw-headline" id="Unbricking_your_Chrome_OS_device">Unbricking your Chrome OS device</span></h2>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>This does not intended to be a thorough guide but just give you a basic understanding of the process of flashing a firmware to a bricked Chromebook. The ArchWiki is not the place for detailed hardware hacking guides so there is no sense in expanding this topic.</div>
<h3><span class="mw-headline" id="Required_tools">Required tools</span></h3>
<ul>
<li> Programmer, both the <a rel="nofollow" class="external text" href="http://flashrom.org/RaspberryPi">Raspberry Pi</a> and the <a rel="nofollow" class="external text" href="http://flashrom.org/Bus_Pirate">Bus Pirate</a> are mentioned as compatible devices on the <a rel="nofollow" class="external text" href="http://flashrom.org/">flashrom wiki</a>. The <a rel="nofollow" class="external text" href="http://flashrom.org/Bus_Pirate">Bus Pirate</a> is preferable as it will allow you to use Chromium OS's version of <code>flashrom</code> that supports <code>--wp-disable</code> and <code>--wp-status</code> flags.</li>
<li> SOIC clip is recommended, see <a rel="nofollow" class="external autonumber" href="http://flashrom.org/ISP">[3]</a>.</li>
<li> Female jumper wires.</li>
<li> If you want to use Chromium OS's <code>flashrom</code> another Linux machine (32bit or 64bit) is required.</li>
</ul>
<h3><span class="mw-headline" id="General_idea_on_the_unbricking_process">General idea on the unbricking process</span></h3>
<ul>
<li> Connect the jumper wires to the programmer and the SOIC clip.</li>
<li> Connect the SOIC clip to the ROM chip.</li>
<li> If your programmer is running Linux (Raspberry Pi) then modprobe the spi modules.</li>
<li> If your programmer is not running Linux then connect it to your Linux machine.</li>
<li> Write the firmware with <code>flashrom</code>, you might need to disable software write protection by running <code>flashrom</code> with the <code>--wp-disable</code> flag (this is why Chromium OS's <code>flashrom</code> is handy).</li>
</ul>
<h3><span class="mw-headline" id="Recommended_reading_about_unbricking">Recommended reading about unbricking</span></h3>
<ul>
<li> Flashrom's wiki pages on <a rel="nofollow" class="external text" href="http://flashrom.org/ISP">ISP</a>, <a rel="nofollow" class="external text" href="http://flashrom.org/Bus_Pirate">Bus Pirate</a>, <a rel="nofollow" class="external text" href="http://flashrom.org/RaspberryPi">Raspberry Pi</a> and <a rel="nofollow" class="external text" href="http://flashrom.org/Technology#SO8.2FSOIC8:_Small-Outline_Integrated_Circuit.2C_8_pins">SOIC8</a>.</li>
<li> <a rel="nofollow" class="external text" href="http://www.coreboot.org/Chromebooks">Coreboot's wiki page on Chromebooks</a>.</li>
<li> Examples of unbricking the C720: <a rel="nofollow" class="external text" href="http://www.tnhh.net/2014/08/25/unbricking-chromebook-with-beaglebone.html">guide</a>, <a rel="nofollow" class="external text" href="https://drive.google.com/folderview?id=0B9f62MH0umbmRTA2Xzd5WHhjWEU&amp;usp=sharing">pictures</a>.</li>
<li> Example of unbricking HP Chromebox: <a rel="nofollow" class="external text" href="https://pomozok.wordpress.com/2015/01/10/chromebook-vivisection-readingwriting-rom-chip-data/">guide</a>
</li>
</ul>
<h2><span class="mw-headline" id="Firmware_write_protection">Firmware write protection</span></h2>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>The information on this topic only intended to give you the basic understanding on the write protection feature in your Chromebook. The ArchWiki is not the place for detailed hardware hacking guides so there is no sense in expanding this topic.</div>
<p>The firmware (Coreboot and its payloads) stored on a SPI chip (usually SOIC8) that some of its storage is protected from writing (mostly Coreboot).
</p>
<p>As long as the write protection was not disabled or the protected range was not set to (0,0) any change made to the unprotected part of the firmware (mainly SeaBIOS) should be recoverable with Chrome OS recovery media.
</p>
<p>There are two parts of the write protection: hardware and software.
</p>
<h3><span class="mw-headline" id="Hardware_write_protection">Hardware write protection</span></h3>
<p>The hardware write protection is an electrical circuit that when it's closed or open it prevent writing to the software protection special registers, thus the hardware write protection only protect directly these special registers but indirectly also the data in the firmware chip.
</p>
<p>To disable the hardware write protection you may need to remove a screw, press a switch or short a jumper.
</p>
<h3><span class="mw-headline" id="Software_write_protection">Software write protection</span></h3>
<p>The software write protection are special registers which determining if the data stored in the firmware chip is protected and also holds the range of addresses of the protected data.
</p>
<h3><span class="mw-headline" id="Understanding_the_Process_of_Disabling_the_Write_Protection">Understanding the Process of Disabling the Write Protection</span></h3>
<p>To disable the write protection one would need to:
</p>
<ul>
<li> Disable the hardware write protection of the special software register.</li>
<li> Change the value of the special software register to disable software write protection or change the range of the protected addresses so no data will be protected (start and end at 0).</li>
</ul>
<p>Conclusion: If we will disable the software write protection and will not enable it back, then even if we will enable the hardware write protection the firmware chip will stay unprotected.
</p>
<h4><span class="mw-headline" id="Disabling_the_hardware_write_protection">Disabling the hardware write protection</span></h4>
<p>To find the location of the hardware write-protect screw/switch/jumper and how to disable it visit the ArchWiki page for your Chromebook model (see <a href="../../en/Chrome_OS_devices.html#Chromebook_Models" title="Chromebook" class="mw-redirect">Chromebook Models</a><sup>[<a href="../../en/ArchWiki:Requests.html#Broken_section_links" title="ArchWiki:Requests">broken link</a>: invalid section]</sup>). If there is no information about your device on the ArchWiki then turn to <a rel="nofollow" class="external text" href="http://www.chromium.org/chromium-os/developer-information-for-chrome-os-devices">Developer Information for Chrome OS Devices</a> and <a rel="nofollow" class="external text" href="http://www.coreboot.org/Chromebooks">Coreboot's Chromebooks page</a>.
</p>
<h4><span class="mw-headline" id="Disabling_the_software_write_protection">Disabling the software write protection</span></h4>
<p>Chromium OS's <code>flashrom</code> can manipulate the software write protection special registers.
</p>
<ul><li> Read the status of the software write protection special registers.</li></ul>
<pre># flashrom --wp-status
</pre>
<ul><li> Disable or enable the software write protection.</li></ul>
<pre># flashrom --wp-disable
</pre>
<ul><li> Change software write protection addresses range.</li></ul>
<pre># flashrom --wp-range 0 0
</pre>
<p>For more details on Chromium OS's <code>flashrom</code> and how to obtain it, see <a href="#Manually_with_flashrom">Manually Flash Custom Firmware with <code>flashrom</code></a>.
</p>
</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../../en/Category:Laptops.html" title="Category:Laptops">Laptops</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
<li><a href="../../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
</ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<ul id="f-list" style="margin: 0 2em">
									<li>
Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Chrome_OS_devices/Custom_firmware&amp;oldid=447752">https://wiki.archlinux.org/index.php?title=Chrome_OS_devices/Custom_firmware&amp;oldid=447752</a>"</li>
					<li id="lastmod"> This page was last modified on 25 August 2016, at 00:08.</li>
									<li id="copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
									<br><li id="privacy"><a href="../../en/ArchWiki:General_disclaimer.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="../../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
									<li id="disclaimer"><a href="../../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		</body>
</html>
