<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Sony Vaio VGN-SZ38GP - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Sony_Vaio_VGN-SZ38GP skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Sony Vaio VGN-SZ38GP</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" width="48" height="48"></a><b>This article or section needs language, wiki syntax or style improvements.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> <span style="color:red;">please use the first argument of the template to provide a brief explanation.</span> (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Sony_Vaio_VGN-SZ38GP">Talk:Sony Vaio VGN-SZ38GP#</a>)</div>
</div>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Switch_Mode"><span class="tocnumber">1</span> <span class="toctext">Switch Mode</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Screen_Brightness"><span class="tocnumber">2</span> <span class="toctext">Screen Brightness</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Wifi"><span class="tocnumber">3</span> <span class="toctext">Wifi</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Fan_Speed"><span class="tocnumber">4</span> <span class="toctext">Fan Speed</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Power_Saving"><span class="tocnumber">5</span> <span class="toctext">Power Saving</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Switch_Mode">Switch Mode</span></h2>
<ul>
<li>When you finished your installation, download the <a rel="nofollow" class="external text" href="http://www.nvidia.com/object/linux-display-ia32-256.44-driver.html">latest nvidia driver</a>
</li>
<li>Backup the files : libGL.so.1.2  and libglx.so that you can find respectively under the folder /usr/lib/ and /usr/lib/xorg/modules/extensions/</li>
</ul>
<ul>
<li><b>You need to copy them in a different location because when you will install the nvidia driver it will automatically remove them.</b></li>
<li>Backup your xorg.conf file that you can find under /etc/X11/ </li>
</ul>
<p><i>I choose to put the lib file under the folder /opt/gpu/intel/lib and the xorg.conf as /etc/X11/xorg.intel</i>
</p>
<ul><li>Reboot the computer in Speed Mode.</li></ul>
<p>If you are running X you need to kill it. First go to a command prompt using Ctrl+Alt+F1-6 and after you have login run the command: killall X. You also need to kill kdm (killall kdm) or other login manager that you may have since it will make X respawn. 
</p>
<p>Then you have to change the runlevel by using the command: init 3.
</p>
<ul>
<li>Run the script provided by nvidia to install the driver, it will automatically generate a new xorg.conf file with the correct setting for you graphic card.</li>
<li>Backup the files libGL.so.&lt;Nvidia Version&gt; and libglx.so.&lt;Nvidia Version&gt; that you can respectively find in /usr/lib and /usr/lib/xorg/modules/extensions</li>
<li>Backup xorg.conf file generated by the nvidia driver</li>
</ul>
<p><i>I choose to put the lib file under the folder /opt/gpu/nv/lib and the xorg.conf as /etc/X11/xorg.nv</i>
</p>
<ul><li>Now use the following script :</li></ul>
<pre>#!/bin/bash
VIDEO=`lspci | grep -c nVidia`
NVIDIA_VERSION="256.35"
if [ "$VIDEO" = 1 ]; then
cp -f /etc/X11/xorg.conf.nv /etc/X11/xorg.conf
ln -sf /opt/gpu/nv/libGL.so.$NVIDIA_VERSION /usr/lib/libGL.so.1
ln -sf /opt/gpu/nv/libglx.so.$NVIDIA_VERSION /usr/lib/xorg/modules/extensions/libglx.so
echo "Speed Mode"
else
cp -f /etc/X11/xorg.conf.intel /etc/X11/xorg.conf
ln -sf /opt/gpu/intel/libGL.so.1.2 /usr/lib/libGL.so.1
ln -sf /opt/gpu/intel/libglx.xorg /usr/lib/xorg/modules/extensions/libglx.so
echo "Stamina Mode"
fi
</pre>
<ul>
<li>Make you script executable using the following command : chmod +x &lt;your_script_name&gt;</li>
<li>Add your script path to the /etc/rc.local file.</li>
</ul>
<h2><span class="mw-headline" id="Screen_Brightness">Screen Brightness</span></h2>
<p>For each graphic card there is a specific program that handle it, for the Intel card it is xbacklight and for Nvidia card it is smartdimmer.
</p>
<p>xbacklight is installed by default with the Intel driver so you have nothing to do, but for Nvidia you will have to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/smartdimmer/">smartdimmer</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" title="ArchWiki:Requests">broken link</a>: archived in <a rel="nofollow" class="external text" href="https://github.com/felixonmars/aur3-mirror/tree/master/smartdimmer">aur-mirror</a>]</sup> from the <a href="../en/Arch_User_Repository.html" title="AUR" class="mw-redirect">AUR</a>.
Know we will have to configure acpi to configure the fn keys.
</p>
<ul>
<li>Go to /etc/acpi/events and create two files sonybright-down  sonybright-up.</li>
<li>in the first one add the following line :</li>
</ul>
<pre># /etc/acpi/events/sony-brightness-down
event=sony/hotkey SPIC 00000001 00000010
action=/etc/acpi/actions/sonybright.sh down
</pre>
<ul><li>in the second one add the following line :</li></ul>
<pre># /etc/acpi/events/sony-brightness-up
event=sony/hotkey SPIC 00000001 00000011
action=/etc/acpi/actions/sonybright.sh up
</pre>
<ul>
<li>Now you will have to create two script file for handling the brightness for each graphic card.</li>
<li>Create a file named intelbright.sh and put the following line inside :</li>
</ul>
<pre>#!/bin/bash
if [ "x$1" = "xdown" ]; then
xbacklight -dec 10;
elif [ "x$1" = "xup" ]; then
xbacklight -inc 20;
fi
</pre>
<p><b>If the previous script does not work, you can use the alternative one below :</b>
</p>
<pre>#!/bin/bash
val=$(cat /sys/class/backlight/sony/actual_brightness)
if [ "x$1" = "xdown" ]; then
((val--));
elif [ "x$1" = "xup" ]; then
((val++));
fi
echo $val &gt; /sys/class/backlight/sony/brightness
</pre>
<ul><li>Create a file named nvlbright.sh and put the following line inside :</li></ul>
<pre>#!/bin/bash
if [ "x$1" = "xdown" ]; then
smartdimmer -d;
elif [ "x$1" = "xup" ]; then
smartdimmer -i;
fi
</pre>
<ul><li>You can now add the following line to the script that we used to switch graphic card :</li></ul>
<pre>#!/bin/bash
VIDEO=`lspci | grep -c nVidia`
NVIDIA_VERSION="256.35"
if [ "$VIDEO" = 1 ]; then
cp -f /etc/X11/xorg.conf.nv /etc/X11/xorg.conf
<b>cp -f /opt/gpu/bright/nvbright.sh /etc/acpi/actions/sonybright.sh</b>
ln -sf /opt/gpu/nv/libGL.so.$NVIDIA_VERSION /usr/lib/libGL.so.1
ln -sf /opt/gpu/nv/libglx.so.$NVIDIA_VERSION /usr/lib/xorg/modules/extensions/libglx.so
echo "Speed Mode"
else
cp -f /etc/X11/xorg.conf.intel /etc/X11/xorg.conf
<b>cp -f /opt/gpu/bright/intelbright.sh /etc/acpi/actions/sonybright.sh</b>
ln -sf /opt/gpu/intel/libGL.so.1.2 /usr/lib/libGL.so.1
ln -sf /opt/gpu/intel/libglx.xorg /usr/lib/xorg/modules/extensions/libglx.so
echo "Stamina Mode"
fi
</pre>
<h2><span class="mw-headline" id="Wifi">Wifi</span></h2>
<p>If you have your wireless switch that is not automatically activating your wireless if you do not turn it on before turn on your computer. 
You can fix the problem by adding the following line to /etc/modprobe.d/modprobe.conf
</p>
<pre>options sony-laptop mask=0xffffdfff
</pre>
<h2><span class="mw-headline" id="Fan_Speed">Fan Speed</span></h2>
<p>You can control the fan speed by using the <b>vaiofand</b> daemon that you can find on this address : <a rel="nofollow" class="external free" href="http://vaio-utils.org/fan/">http://vaio-utils.org/fan/</a>
There is also a PKGBUILD available in <a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?ID=38826">AUR</a>.
</p>
<h2><span class="mw-headline" id="Power_Saving">Power Saving</span></h2>
<p>You can automatically turn of some device like the bluetooth, the firewire port, the cd/dvd drive or the audio card by using the <b>vaiopower</b> daemon that you can find on this address : <a rel="nofollow" class="external free" href="http://vaio-utils.org/power/">http://vaio-utils.org/power/</a> 
There is also a PKGBUILD available in <a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/vaiopower/">AUR</a>.
</p>
</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Sony.html" title="Category:Sony">Sony</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
</ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
