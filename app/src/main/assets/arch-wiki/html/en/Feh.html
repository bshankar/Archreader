<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Feh - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Feh skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Feh</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div style="width:45%; margin: 0 0 0.5em 0.5em;">
<p style="background:#333; color:white; padding:0.2em; border-bottom:5px #08c solid; margin:0; text-align:center; font-weight:bold;">Related articles</p>
<ul style="list-style-type:none; margin:0; padding:0.3em;">
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Nitrogen.html" title="Nitrogen">Nitrogen</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Sxiv.html" title="Sxiv">sxiv</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="http://feh.finalrewind.org/">feh</a> is a lightweight and powerful image viewer that can also be used to manage the desktop wallpaper for standalone window managers lacking such features.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a>
<ul>
<li class="toclevel-2 tocsection-3">
<a href="#As_an_image_viewer"><span class="tocnumber">2.1</span> <span class="toctext">As an image viewer</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#File_browser_image_launcher"><span class="tocnumber">2.1.1</span> <span class="toctext">File browser image launcher</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-5"><a href="#As_a_desktop_wallpaper_manager"><span class="tocnumber">2.2</span> <span class="toctext">As a desktop wallpaper manager</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6">
<a href="#Tips_and_tricks"><span class="tocnumber">3</span> <span class="toctext">Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Open_SVG_images"><span class="tocnumber">3.1</span> <span class="toctext">Open SVG images</span></a></li>
<li class="toclevel-2 tocsection-8">
<a href="#Random_background_image"><span class="tocnumber">3.2</span> <span class="toctext">Random background image</span></a>
<ul>
<li class="toclevel-3 tocsection-9">
<a href="#Using_a_script"><span class="tocnumber">3.2.1</span> <span class="toctext">Using a script</span></a>
<ul>
<li class="toclevel-4 tocsection-10"><a href="#For_dual_screen_no-xinerama"><span class="tocnumber">3.2.1.1</span> <span class="toctext">For dual screen no-xinerama</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-11"><a href="#Using_a_cron_job"><span class="tocnumber">3.2.2</span> <span class="toctext">Using a cron job</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#Using_systemd_user_session"><span class="tocnumber">3.2.3</span> <span class="toctext">Using systemd user session</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href="#See_also"><span class="tocnumber">4</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=feh">feh</a></span> package.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>feh is highly configurable. For a full list of options, run <code>feh --help</code>.
</p>
<h3><span class="mw-headline" id="As_an_image_viewer">As an image viewer</span></h3>
<p>To quickly browse images in a specific directory, you can launch feh with the following arguments:
</p>
<pre>$ feh -g 640x480 -d -S filename /path/to/directory
</pre>
<ul>
<li> The <code>-g</code> flag forces the images to appear no larger than 640x480</li>
<li> The <code>-d</code> flag draws the file name</li>
<li> The <code>-S filename</code> flag sorts the images by file name</li>
</ul>
<p>This is just one example; there are many more options available should you desire more flexibility.
</p>
<h4><span class="mw-headline" id="File_browser_image_launcher">File browser image launcher</span></h4>
<p>The following script is useful for file browsers. It will display your selected image in feh, but it will enable you to browse all other images in the directory as well, in their default order, i.e. as if you had run "feh *" and cycled through to the selected image.
</p>
<p>The script assumes the first argument is the filename, with other arguments passed on to feh.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">feh_browser.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
#!/bin/bash
shopt -s nullglob
feh_args=(--draw-filename --draw-exif --magick-timeout 10 --image-bg black -g 800x600)

if [[ ! -f $1 ]]; then
  printf '%s\n' "$0: first argument is not a file" &gt;&amp;2
  exit 1
fi

file=$(basename -- "$1")
dir=$(dirname -- "$1")
shift

cd -- "$dir" || exit
IFS=$'\n\b'

for i in ./*.{png,jpg,jpeg,gif} ; do
  if [[ ! -f $i ]]; then
    continue
  else
    arr+=("$i")
  fi

  if [[ $i == "$file" ]]; then
    c=$((${#arr[@]} - 1))
  fi
done

feh "${feh_args[@]}" "$@" -- "${arr[@]:c}" "${arr[@]:0:c}" &gt;/dev/null 2&gt;&amp;1
</pre>
<p>Invoke the script with the selected image's path, followed by any additional arguments to feh. Here is an example of a launcher that you can use in a file browser:
</p>
<pre>$ /path/to/script/feh_browser.shÂ %f -F -Z</pre>
<p><code>-F</code> and <code>-Z</code> are feh arguments. <code>-F</code> opens the image in fullscreen mode, and <code>-Z</code> automatically zooms the image. Adding the <code>-q</code> flag (quiet) suppresses error messages to the terminal when feh tries loading non-image files from the current folder.
</p>
<p>A simple but less versatile alternative is
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">feh_browser.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
#! /bin/sh
feh -. "$(dirname "$1")" --start-at "$1"
</pre>
<p>This one does not seem to accept options.
</p>
<h3><span class="mw-headline" id="As_a_desktop_wallpaper_manager">As a desktop wallpaper manager</span></h3>
<p>feh can be used to manage the desktop wallpaper for window managers that lack desktop features, such as <a href="../en/Openbox.html" title="Openbox">Openbox</a>, <a href="../en/Fluxbox.html" title="Fluxbox">Fluxbox</a>, and <a href="../en/Xmonad.html" title="Xmonad">xmonad</a>.
</p>
<p>The following command is an example of how to set the initial background:
</p>
<pre>$ feh --bg-scale /path/to/image.file</pre>
<p>Other scaling options include:
</p>
<pre>
--bg-tile FILE
--bg-center FILE
--bg-max FILE
--bg-fill FILE
</pre>
<p>To restore the background on the next session, add the following to your startup file (e.g. <code>~/.xinitrc</code>, <code>~/.config/openbox/autostart</code>, etc.):
</p>
<pre>$ sh ~/.fehbg &amp;</pre>
<p>To change the background image, edit the file <code>~/.fehbg</code> which gets created after running the command <code>feh --bg-scale /path/to/image.file</code> mentioned above.
</p>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Open_SVG_images">Open SVG images</span></h3>
<pre>$ feh --magick-timeout 1 file.svg</pre>
<p>Note that you need <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=imagemagick">imagemagick</a></span>
</p>
<h3><span class="mw-headline" id="Random_background_image">Random background image</span></h3>
<p>You can have feh set a random wallpaper using the <code>--randomize</code> option with one of the <code>--bg-foo</code> options, for example:
</p>
<pre>$ feh --randomize --bg-fill ~/.wallpaper/*</pre>
<p>The above command tells feh to randomize the list of files in the <code>~/.wallpaper/</code> directory and set the backgrounds for all available desktops to whichever images are at the front of the randomized list (one unique image for each desktop). You can also do this recursively, if you have your wallpapers divided into subfolders:
</p>
<pre>$ feh --recursive --randomize --bg-fill ~/.wallpaper</pre>
<p>To set a different random wallpaper from <code>~/.wallpaper</code> each session, add the following to your <code>.xinitrc</code>:
</p>
<pre>$ feh --bg-max --randomize ~/.wallpaper/* &amp;</pre>
<p>Another way to set a random wallpaper on each x.org session is to edit your <code>.fehbg</code> as following.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$HOME/.fehbg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
 feh --bg-max --randomize --no-fehbg ~/.wallpaper/* 
</pre>
<p>To change wallpapers periodically, use a script, cron job, or systemd service to execute the command at the desired interval.
</p>
<h4><span class="mw-headline" id="Using_a_script">Using a script</span></h4>
<p>To rotate the wallpaper randomly, create a script with the code below (e.g. <code>wallpaper.sh</code>). Make the script executable:
</p>
<pre>$ chmod +x wallpaper.sh</pre>
<p>and call it from <code>~/.xinitrc</code>. You can also put the source directly in <code>~/.xinitrc</code> instead of in a separate file.
</p>
<p>Change the <code>~/.wallpaper</code> directory to fit your setup and the <code>15m</code> delay as you please (see <code>man sleep</code> for options).
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">wallpaper.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
#!/bin/sh

while true; do
	find ~/.wallpaper -type f \( -name '*.jpg' -o -name '*.png' \) -print0 |
		shuf -n1 -z | xargs -0 feh --bg-max
	sleep 15m
done
</pre>
<p>You may have to change <code>find ~/.wallpaper</code> to <code>find ~/.wallpaper/</code> to make the above work.
</p>
<p>This version does not fork as much, but this version does not recurse through directories:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">wallpaper.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
#!/bin/bash

shopt -s nullglob
cd ~/.wallpaper

while true; do
	files=()
	for i in ./*.jpg ./*.png; do
		[[ -f $i ]] &amp;&amp; files+=("$i")
	done
	range=${#files[@]}

	((range)) &amp;&amp; feh --bg-scale "${files[RANDOM % range]}"

	sleep 15m
done
</pre>
<h5><span class="mw-headline" id="For_dual_screen_no-xinerama">For dual screen no-xinerama</span></h5>
<p>This script replace the call to <b>feh</b> for add a wallpaper on systems with dual screen nvidia twinview (for example).
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">wallpaper.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
#!/bin/sh
exec feh --bg-max --no-xinerama "$@"
</pre>
<h4><span class="mw-headline" id="Using_a_cron_job">Using a cron job</span></h4>
<p>Using a <a href="../en/Cron.html" title="Cron">cron</a> job, you can get a similar result, and it does not require having a script constantly sleeping.
</p>
<p>Just do <code>$ crontab -e</code> and add:
</p>
<pre>
* * * * *  DISPLAY=:0.0 feh --bg-max "$(find ~/.wallpaper/|shuf -n1)"
</pre>
<h4><span class="mw-headline" id="Using_systemd_user_session">Using systemd user session</span></h4>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>This is useful <b>only</b> if you are using <i>systemd user session</i>. Read <a href="../en/Systemd/User.html" title="Systemd/User">Systemd/User</a> for more details.</div>
<p>Create the unit service file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$HOME/.config/systemd/user/feh-wallpaper.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
[Unit]
Description=Random wallpaper with feh

[Service]
Type=oneshot
EnvironmentFile=%h/.wallpaper
ExecStart=/bin/bash -c '/usr/bin/feh --bg-max "$(find ${WALLPATH}|shuf|head -n 1)"'

[Install]
WantedBy=default.target
</pre>
<p>Now create the timer file. Change the time as necessary. In this example is <code>15 seconds</code>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$HOME/.config/systemd/user/feh-wallpaper.timer</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
[Unit]
Description=Random wallpaper with feh

[Timer]
OnUnitActiveSec=<i>15s</i>
Unit=feh-wallpaper.service

[Install]
WantedBy=default.target
</pre>
<p>In this example the configuration is one hidden file on the home directory with the path of the directory where the images are stored
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$HOME/.wallpaper</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
WALLPATH=<i>/home/user/.wallpaper/</i>
</pre>
<p>To activate the <code>feh-wallpaper.timer</code> see <a href="../en/Systemd/Timers.html#Management" title="Systemd/Timers">Systemd/Timers#Management</a>.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Remember that under <i>systemd user session</i>, you should use the <code>--user</code> flag on <code>systemctl</code>.</div>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul><li> <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=884635#p884635">Forum post with original script for feh_browser</a>
</li></ul>

</div>
<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Image_manipulation.html" title="Category:Image manipulation">Image manipulation</a></li></ul>
</div></div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
