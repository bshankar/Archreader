<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>XMLTV HOWTO - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-XMLTV_HOWTO skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">XMLTV HOWTO</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-document-new.png" class="image"><img alt="Tango-document-new.png" src="../File:Tango-document-new.png" width="48" height="48"></a><b>This article is a stub.</b><a href="../File:Tango-document-new.png" class="image"><img alt="Tango-document-new.png" src="../File:Tango-document-new.png" width="48" height="48"></a></p>
<div>
<b>Notes:</b> <span style="color:red;">please use the first argument of the template to provide more detailed indications.</span> (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:XMLTV_HOWTO">Talk:XMLTV HOWTO#</a>)</div>
</div>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#What_does_XMLTV_actually_.2Ado.2A_.3F"><span class="tocnumber">1</span> <span class="toctext">What does XMLTV actually *do* ?</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Why_XMLTV_is_so_problematic.3F"><span class="tocnumber">2</span> <span class="toctext">Why XMLTV is so problematic?</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#What_about_the_DVB-T_EPG_.3F"><span class="tocnumber">3</span> <span class="toctext">What about the DVB-T EPG ?</span></a></li>
<li class="toclevel-1 tocsection-4">
<a href="#Compilation"><span class="tocnumber">4</span> <span class="toctext">Compilation</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Make_a_package"><span class="tocnumber">4.1</span> <span class="toctext">Make a package</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Configuring_XMLTV"><span class="tocnumber">5</span> <span class="toctext">Configuring XMLTV</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Checking_XMLTV_actually_works"><span class="tocnumber">6</span> <span class="toctext">Checking XMLTV actually works</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="What_does_XMLTV_actually_.2Ado.2A_.3F">What does XMLTV actually *do* ?</span></h2>
<p>Any good PVR system needs to know when to record. Systems like VideoPlus in the UK, where numbers encode start and stop times, have made programming easier, but it's much easier to just look at an EPG and click on the programme you want to record.
</p>
<p>However, there is no central system for acquiring TV programme data, at present, so that's where XMLTV comes in. XMLTV's job is to take program data off the internet and convert it to a standard format for PVRs like MythTV and FreeVO.
</p>
<h2><span class="mw-headline" id="Why_XMLTV_is_so_problematic.3F">Why XMLTV is so problematic?</span></h2>
<p>The problem with XMLTV is it is grabbing data from places that weren't really designed to supply it. It kind of "screen scrapes" - it looks at a web page containing TV information like this and tries to rip the text off it and convert it into an easy to use format. Things can go wrong with this ; if the website decides it's going to reformat its text, then it will cease to work properly or indeed at all.
</p>
<h2><span class="mw-headline" id="What_about_the_DVB-T_EPG_.3F">What about the DVB-T EPG ?</span></h2>
<p>DVB-T, aka Freeview here, has programme guide information embedded in it ; any UK Freeview set top box has an EPG. It seems to be problematic getting this to work in MythTV, as it is currently "in development". When it does work, this will make it much easier as XMLTV can be abandoned, for DVB-T anyway (still needed for analogue, which is sound and video only)
</p>
<p>One downside of the DVB-T EPG is that it only goes 7 days into the future, whereas XMLTV does 14 days. This is useful if you want to record when you are on holiday.
</p>
<h2><span class="mw-headline" id="Compilation">Compilation</span></h2>
<p>If your grabber isn't available in the package in <i>community</i>, you have to try and compile xmltv yourself. You can choose between two ways of obtaining a self compiled xmltv installation. You can use <a href="../en/Arch_Build_System.html" title="ABS" class="mw-redirect">ABS</a> and edit the <a href="../en/PKGBUILD.html" title="PKGBUILD">PKGBUILD</a> to make a package or compile it by hand.
</p>
<h3><span class="mw-headline" id="Make_a_package">Make a package</span></h3>
<p>Refer to the wiki page about the Arch Build System (ABS) on how to use it. Copy the directory xmltv to your build directory. Now you have to check, why your grabber isn't available. Extract the source and run Makefile.PL:
</p>
<pre>makepkg -e
cd src/"PKGNAME"
perl Makefile.PL
</pre>
<p>You will be prompted for every grabber. The script will tell you, which grabber isn't supported and why. You will have to install additional dependencies then. For the grabber "tv_grab_eu_epgdata" for example you will have to install perl-datetime-format-strptime from <a href="../en/Arch_User_Repository.html" title="AUR" class="mw-redirect">AUR</a>. Add these dependencies in the PKGBUILD and run makepkg.
</p>
<h2><span class="mw-headline" id="Configuring_XMLTV">Configuring XMLTV</span></h2>
<p>Next we need to configure XMLTV. To do this run
</p>
<pre>tv_grab_uk_rt --configure
</pre>
<p>Now, for this grabber, you can individually select whether or not you want each channel. To select every channel (it's quicker to edit the configuration file in a text editor), type:
</p>
<pre>all
</pre>
<p>And it will configure itself to download every single channel it can.
</p>
<h2><span class="mw-headline" id="Checking_XMLTV_actually_works">Checking XMLTV actually works</span></h2>
<p>To check it, simply run it.
</p>
<pre>tv_grab_uk_rt
</pre>
<p>If all is well, it should churn out reams and reams of channel programme data. It should look like this
</p>
<pre>&lt;programme start="20070330035500 +0100" stop="20070330042000 +0100" channel="abc1.disney.com"&gt;
   &lt;title&gt;8 Simple Rules for Dating My Teenage Daughter&lt;/title&gt;
   &lt;sub-title&gt;Rory's Got a Girlfriend&lt;/sub-title&gt;
   &lt;desc lang="en"&gt;Sitcom in which a father has his hands full when his wife returns to work and he is left to supervise their teenage daughters. Paul has to face the fact that his son wants to start dating girls, and Kerry envies her sister.&lt;/desc&gt;
   &lt;credits&gt;
     &lt;actor&gt;John Ritter&lt;/actor&gt;
     &lt;actor&gt;Katey Sagal&lt;/actor&gt;
</pre>
<p>except there'll be pages of it.
</p>
</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Multimedia.html" title="Category:Multimedia">Multimedia</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_flagged_with_Template:Stub.html" title="Category:Pages flagged with Template:Stub">Pages flagged with Template:Stub</a></li></ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
