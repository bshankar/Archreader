<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Plex - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Plex skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Plex</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p>Plex is a media player system and software suite consisting of many player applications for 10-foot user interfaces and an associated media server that organizes personal media stored on local devices. Integrated Plex Channels provide users with access to a growing number of online content providers such as YouTube, Vimeo, TEDTalks, and CNN among others. Plex also provides integration for cloud services including Dropbox, Box, Google Drive, Copy and Bitcasa.
</p>
<p>Plex for Linux is split into a closed-source server Plex Media Server, and an open-source client Plex Home Theater, a fork of the popular <a href="../en/Kodi.html" title="Kodi">Kodi</a> project.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Plex_Media_Server_.28PMS.29"><span class="tocnumber">1</span> <span class="toctext">Plex Media Server (PMS)</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Installation"><span class="tocnumber">1.1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Setup"><span class="tocnumber">1.2</span> <span class="toctext">Setup</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Plugins"><span class="tocnumber">1.3</span> <span class="toctext">Plugins</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Security"><span class="tocnumber">1.4</span> <span class="toctext">Security</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Resource_Management"><span class="tocnumber">1.5</span> <span class="toctext">Resource Management</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Network"><span class="tocnumber">1.6</span> <span class="toctext">Network</span></a></li>
<li class="toclevel-2 tocsection-8">
<a href="#Remote_access_through_vpn"><span class="tocnumber">1.7</span> <span class="toctext">Remote access through vpn</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#Requirements"><span class="tocnumber">1.7.1</span> <span class="toctext">Requirements</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#How_to"><span class="tocnumber">1.7.2</span> <span class="toctext">How to</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11"><a href="#Troubleshooting"><span class="tocnumber">1.8</span> <span class="toctext">Troubleshooting</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12">
<a href="#Plex_Home_Theater_.28PHT.29"><span class="tocnumber">2</span> <span class="toctext">Plex Home Theater (PHT)</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#Installation_2"><span class="tocnumber">2.1</span> <span class="toctext">Installation</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14">
<a href="#Kodi_and_PleXBMC"><span class="tocnumber">3</span> <span class="toctext">Kodi and PleXBMC</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="#Installation_3"><span class="tocnumber">3.1</span> <span class="toctext">Installation</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Plex_Media_Server_.28PMS.29">Plex Media Server (PMS)</span></h2>
<h3><span class="mw-headline" id="Installation">Installation</span></h3>
<p>Install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/plex-media-server/">plex-media-server</a></span><sup><small>AUR</small></sup> package, or the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/plex-media-server-plexpass/">plex-media-server-plexpass</a></span><sup><small>AUR</small></sup> package if you have a Plex Pass.
</p>
<h3><span class="mw-headline" id="Setup">Setup</span></h3>
<p><a href="../en/Systemd.html#Using_units" title="Enable" class="mw-redirect">Enable</a> and start <code>plexmediaserver.service</code>.
</p>
<p>To begin configuring PMS, browse to <code><a rel="nofollow" class="external free" href="http://localhost:32400/web/">http://localhost:32400/web/</a></code>.
</p>
<p>To configure PMS remotely, you must first create an SSH tunnel (setup can only be done from <code>localhost</code>)
</p>
<p><code>ssh ip.address.of.server -L 8888:localhost:32400</code>
</p>
<p>and then browse to <code><a rel="nofollow" class="external free" href="http://localhost:8888/web/">http://localhost:8888/web/</a></code>.
</p>
<h3><span class="mw-headline" id="Plugins">Plugins</span></h3>
<p>PMS can be expanded with additional plugins. For example, PMS can be used as an IPTV client with the <a rel="nofollow" class="external text" href="https://github.com/Cigaras/IPTV.bundle">IPTV plugin</a>.
</p>
<p>Plugins can be installed inside <code>$PLEX_MEDIA_SERVER_APPLICATION_SUPPORT_DIR/Plex Media Server/Plug-ins</code>.
</p>
<h3><span class="mw-headline" id="Security">Security</span></h3>
<p>It is recommended to store your media files outside of your home directory, as making it accessible to PMS would mean lowering its security. Having a separate <code>/media</code> or <code>/mnt/media</code> partition is a good setup for use with PMS.
</p>
<p>You can further increase security via systemd, by creating a <code>/etc/systemd/system/plexmediaserver.service.d/restrict.conf</code> file containing the following:
</p>
<pre>[Service]
ReadOnlyDirectories=/
ReadWriteDirectories=/var/lib/plex /tmp
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Those mechanisms are currently limited, see <a href="../en/DeveloperWiki:Security.html#ReadOnly.2FReadWrite" title="DeveloperWiki:Security">DeveloperWiki:Security#ReadOnly/ReadWrite</a>. For instance, ReadOnlyDirectories do not apply to any submount, you have to list them as well.</div>
<h3><span class="mw-headline" id="Resource_Management">Resource Management</span></h3>
<p>Originally, PMS used ulimit to limit its allocated resources, however this is not compatible with running as a regular user. Instead, you can now set a maximum amount of memory via, again, systemd. For example, you can add:
</p>
<pre>MemoryLimit=4G
</pre>
<p>to the file mentioned above.
</p>
<h3><span class="mw-headline" id="Network">Network</span></h3>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>PMS supports both IPv4 and IPv6. This section only assumes the use of IPv4.</div>
<p>PMS and its DLNA server require several ports to be open:
</p>
<ul>
<li>Plex Media Server: TCP 32400</li>
<li>Plex DLNA Server: TCP 32469, UDP 1900</li>
<li>Network Discovery: UDP 32410, 32412, 32413, 32414</li>
<li>Bonjour/Avahi Network Discovery (legacy): UDP 5353</li>
</ul>
<p>A short example with iptables:
</p>
<pre># iptables -A INPUT -p tcp -m multiport --dports 32400,32469 -j ACCEPT
# iptables -A INPUT -p udp -m multiport --dports 1900,32410,32412,32413,32414 -j ACCEPT
</pre>
<h3><span class="mw-headline" id="Remote_access_through_vpn">Remote access through vpn</span></h3>
<h4><span class="mw-headline" id="Requirements">Requirements</span></h4>
<p>If you share your libraries with some friends, but want the data to go through your vpn connection, you will need two things:
</p>
<ul>
<li> A vpn provider that allows static port forwarding</li>
<li> Remote Access enabled on your <a rel="nofollow" class="external text" href="http://127.0.0.1:32400/web/index.html#!/settings/server">plex server settings</a>
</li>
</ul>
<h4><span class="mw-headline" id="How_to">How to</span></h4>
<ol>
<li> Go to your vpn provider settings and ask for a port. <i>(We're going to assume ours gave us the port 11652)</i>
</li>
<li> Then add the following command to your boot sequence <i>(rc.local for example)</i>
<dl>
<dd> <code># iptables -t nat -A PREROUTING -i tun0 -p tcp --dport 11652 -j REDIRECT --to-ports 32400</code>
</dd>
<dd> <i>(We're going to assume you're using the tun0 interface for openvpn)</i>
</dd>
</dl>
</li>
<li> Finally, go to your plex server settings, enable advanced settings and define the custom port at 11652</li>
</ol>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;">
<strong> Warning: </strong> Don't forget to replace the 11652 example port with yours! </div>
<h3><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Look if journalctl can be made equivalent with <code>SYSTEMD_LOG_LEVEL=debug</code>, currently appears unreliable, see <a href="../User_talk:Alucryd.html#Plex" title="User talk:Alucryd">User talk:Alucryd#Plex</a> (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Plex">Talk:Plex#</a>)</div>
</div>
<p>Logs are located in:
</p>
<pre>$PLEX_MEDIA_SERVER_APPLICATION_SUPPORT_DIR/Plex Media Server/Logs
</pre>
<p>In case there are no logs or they are not helpful, you might want to launch PMS manually to get some terminal output:
</p>
<pre>sudo -u plex /usr/bin/bash
source /etc/conf.d/plexmediaserver
export LD_LIBRARY_PATH=/opt/plexmediaserver
/opt/plexmediaserver/Plex\ Media\ Server
</pre>
<h2><span class="mw-headline" id="Plex_Home_Theater_.28PHT.29">Plex Home Theater (PHT)</span></h2>
<h3><span class="mw-headline" id="Installation_2">Installation</span></h3>
<p><a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/openpht/">openpht</a></span><sup><small>AUR</small></sup> package.
</p>
<p>Plex Home Theater can be launched by running <code>plexhometheater.sh</code> from your terminal.
</p>
<h2><span class="mw-headline" id="Kodi_and_PleXBMC">Kodi and PleXBMC</span></h2>
<p>With the PleXBMC add-on, Kodi can be used as a replacement for PHT.
</p>
<h3><span class="mw-headline" id="Installation_3">Installation</span></h3>
<p>Install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=kodi">kodi</a></span> package, then follow the instructions over <a rel="nofollow" class="external text" href="http://kodi.wiki/view/Add-on:PleXBMC">here</a>.
</p>
</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Streaming.html" title="Category:Streaming">Streaming</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li></ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
