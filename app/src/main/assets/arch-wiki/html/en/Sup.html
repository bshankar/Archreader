<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Sup - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Sup skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Sup</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p><b>Sup</b> is a powerful new mail client developed for people who manage lots of mail. It can be viewed as a cross between Mutt and Gmail, with very fast operation and search, tagging, automatic contact management, support for a wide variety of accounts at once, and more.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Configuration"><span class="tocnumber">2</span> <span class="toctext">Configuration</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Usage"><span class="tocnumber">3</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Back-up_and_Restore"><span class="tocnumber">4</span> <span class="toctext">Back-up and Restore</span></a></li>
<li class="toclevel-1 tocsection-5">
<a href="#List_of_Keybindings"><span class="tocnumber">5</span> <span class="toctext">List of Keybindings</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Keybindings_from_inbox-mode"><span class="tocnumber">5.1</span> <span class="toctext">Keybindings from inbox-mode</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Keybindings_from_thread-index-mode"><span class="tocnumber">5.2</span> <span class="toctext">Keybindings from thread-index-mode</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Keybindings_from_thread-view-mode"><span class="tocnumber">5.3</span> <span class="toctext">Keybindings from thread-view-mode</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Keybindings_from_contact-list-mode"><span class="tocnumber">5.4</span> <span class="toctext">Keybindings from contact-list-mode</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Keybindings_from_line-cursor-mode"><span class="tocnumber">5.5</span> <span class="toctext">Keybindings from line-cursor-mode</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Keybindings_from_scroll-mode"><span class="tocnumber">5.6</span> <span class="toctext">Keybindings from scroll-mode</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Global_keybindings"><span class="tocnumber">5.7</span> <span class="toctext">Global keybindings</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13">
<a href="#Troubleshooting"><span class="tocnumber">6</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#Crashing_with:_Illegal_instruction_.28core_dumped.29"><span class="tocnumber">6.1</span> <span class="toctext">Crashing with: Illegal instruction (core dumped)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#See_also"><span class="tocnumber">7</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/sup-git/">sup-git</a></span><sup><small>AUR</small></sup> from the <a href="../en/Arch_User_Repository.html" title="AUR" class="mw-redirect">AUR</a>. Although the developers suggest that you install Sup via:
</p>
<pre>$ gem install xapian-ruby
$ gem install sup
</pre>
<p>As you get the latest version directly from the developers.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>Sup comes with an easy to use configuration tool called <code>sup-config</code>. To use it, start it in the console and walk through the steps, which are as follows:
</p>
<ol>
<li> Enter your full name.</li>
<li> Enter your primary e-mail address, as well as any alternate e-mail addresses.</li>
<li> Enter the path to your signature file, if you have one.</li>
<li> Enter the editor that should be used to compose new mail, as well as any arguments that should be passed to it.</li>
<li> Add sources for your mail, including:
<ol>
<li> mbox files</li>
<li> maildir directories</li>
</ol>
</li>
</ol>
<p>Support for remote sources (POP3, IMAP, IMAPS, and mbox+ssh) was removed in the 0.12 release. 
</p>
<p>Sup is for the most part only an MUA (mail user agent) and cannot handle downloading mail on its own. You can use tools like offlineimap, fetchmail, and rsync to transfer email to the local system mbox or maildir folders. 
</p>
<p>The <a rel="nofollow" class="external text" href="https://github.com/sup-heliotrope/sup/wiki/Complete-gmail-configuration">sup wiki has an example</a> for configuring a gmail+imap source using offlineimap. The <a href="../en/Mutt.html#POP3" title="Mutt">Mutt#POP3</a> subsection shows some additional mail transfer methods.
</p>
<p>After the email sources have been added, <code>sup-config</code> will execute the <code>sup-sync</code> command to import mail into your mailbox.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>Execute the <code>sup</code> command to start the Sup mail client. The program should show the messages imported by <code>sup-config</code>.
</p>
<p>The most important key for new users to remember is the <code>?</code> key. This will display a full list of keyboard commands at any point, reminding new users how to navigate the program.
</p>
<p>To navigate between threads, use the arrow keys or the <code>j</code> and <code>k</code> keys (<code>Shift+j</code> and <code>Shift+k</code> work like the Page Up and Page Down keys). To jump between threads with new messages, press the Tab key. Sup doesn't load all threads by default; press <code>Shift+m</code> to load more (more messages will automatically load to fill the window).
</p>
<p>To view a thread, select it and press the <code>Enter</code> key. To expand or collapse an individual message while viewing a thread, select the message and press the <code>Enter</code> key. Press <code>Shift+n</code> to expand only new messages (the default view) or <code>Shift+e</code> to toggle the state of all messages. Press <code>o</code> to show or hide hidden parts of a message (such as signatures).
</p>
<p>To navigate between messages in a thread, press the <code>n</code> and <code>p</code> keys. To display the headers on a message, press the <code>h</code> key.
</p>
<p>To cycle through buffers, press the <code>b</code> key, or press the <code>;</code> key to view a list of all of the open buffers. To kill a buffer, press the <code>x</code> key.
</p>
<p>To archive a thread, press the <code>a</code> key. This will hide it from the inbox until someone replies to it, at which point it will reappear. To kill a thread, press the <code>&amp;</code> key. This is equivalent to Gmail's "mute" function, which hides a message even if people reply to it. It will never re-appear in the inbox, but it will still show up in search results.
</p>
<p>To star a thread, press the <code>*</code> key. To mark a thread as spam, press the <code>Shift+s</code> key. Sup doesn't have any built-in spam filter; for that, consider a program such as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=spamassassin">spamassassin</a></span>.
</p>
<p>To tag a thread, press the <code>t</code> key. To label the messages in a thread, press the <code>l</code> key. To search labels, press the <code>Shift+l</code> key. <code>Enter</code> a label for which to search or press the <code>Enter</code> key to call up a list of labels. To perform a full text search, press the <code>\</code> key.
</p>
<p>To view a list of contacts, press the <code>Shift+c</code> key. To e-mail one of the people on the list, select his or her name and press the <code>Enter</code> key.
</p>
<h2><span class="mw-headline" id="Back-up_and_Restore">Back-up and Restore</span></h2>
<p>Backing-up e-mail is very important. To ensure that you do not lose anything, first back up the sources, such as mbox files and maildir directories, then run:
</p>
<pre>$ sup-dump &gt; <i>filename</i>
</pre>
<p>This will back-up all message states in a text file. To restore your message states from this text file, simply run:
</p>
<pre>$ sup-sync [&lt;source&gt;+] --restored --restore <i>filename</i>
</pre>
<p>Just remember that the commands above only back-up and restore message states. The messages themselves will need to be backed-up separately.
</p>
<h2><span class="mw-headline" id="List_of_Keybindings">List of Keybindings</span></h2>
<h3><span class="mw-headline" id="Keybindings_from_inbox-mode">Keybindings from inbox-mode</span></h3>
<pre>a : Archive thread (remove from inbox)
A : Archive thread (remove from inbox) and mark read
</pre>
<h3><span class="mw-headline" id="Keybindings_from_thread-index-mode">Keybindings from thread-index-mode</span></h3>
<pre>   M : Load 20 more threads
  !! : Load all threads (may list a _lot_ of threads)
  ^G : Cancel current search
   @ : Refresh view         
   * : Star or unstar all messages in thread
   N : Toggle new/read status of all messages in thread
   l : Edit or add labels for a thread          
   e : Edit message (drafts only)     
   S : Mark/unmark thread as spam
   d : Delete/undelete thread    
   &amp; : Kill thread (never to be seen in inbox again)
   $ : Save changes now                          
 tab : Jump to next new thread
   r : Reply to latest message in a thread
   f : Forward latest message in a thread 
   t : Tag/untag selected thread
   T : Tag/untag all threads
   g : Tag matching threads
+, = : Apply next command to all tagged threads
   # : Force tagged threads to be joined into the same thread
   u : Undo the previous action
</pre>
<h3><span class="mw-headline" id="Keybindings_from_thread-view-mode">Keybindings from thread-view-mode</span></h3>
<pre>      h : Toggle detailed header
      H : Show full message header
      V : Show full message (raw form)
&lt;enter&gt; : Expand/collapse or activate item
      E : Expand/collapse all messages
      e : Edit draft
      y : Send draft
      l : Edit or add labels for a thread
      o : Expand/collapse all quotes in a message
      n : Jump to next open message
      p : Jump to previous open message
      z : Align current message in buffer
      * : Star or unstar message
      N : Toggle unread/read status of message
      r : Reply to a message
      f : Forward a message or attachment
      i : Edit alias/nickname for a person
      D : Edit message as new
      s : Save message/attachment to disk
      S : Search for messages from particular people
      m : Compose message to person
      ( : Subscribe to/unsubscribe from mailing list
      ) : Subscribe to/unsubscribe from mailing list
      | : Pipe message or attachment to a shell command
     .a : Archive this thread and kill buffer
     .d : Delete this thread and kill buffer
     .s : Mark this thread as spam and kill buffer
     .N : Mark this thread as unread and kill buffer
     ,a : Archive this thread, kill buffer, and view next
     ,d : Delete this thread, kill buffer, and view next
     ,s : Mark this thread as spam, kill buffer, and view next
     ,N : Mark this thread as unread, kill buffer, and view next
     ,n : Kill buffer, and view next
     ]a : Archive this thread, kill buffer, and view previous
     ]d : Delete this thread, kill buffer, and view previous
     ]s : Mark this thread as spam, kill buffer, and view previous
     ]N : Mark this thread as unread, kill buffer, and view previous
     ]n : Kill buffer, and view previous
</pre>
<h3><span class="mw-headline" id="Keybindings_from_contact-list-mode">Keybindings from contact-list-mode</span></h3>
<pre>   M : Load 10 more contacts
   D : Drop contact list and reload
a, i : Edit alias/or name for contact
   t : Tag/untag current line
   + : Apply next command to all tagged items
   S : Search for messages from particular people
</pre>
<h3><span class="mw-headline" id="Keybindings_from_line-cursor-mode">Keybindings from line-cursor-mode</span></h3>
<pre>&lt;down arrow&gt;, j : Move cursor down one line
  &lt;up arrow&gt;, k : Move cursor up one line
        &lt;enter&gt; : Select this item
</pre>
<h3><span class="mw-headline" id="Keybindings_from_scroll-mode">Keybindings from scroll-mode</span></h3>
<pre>                        J, ^E : Down one line
                        K, ^Y : Up one line
              &lt;left arrow&gt;, h : Left one column
                &lt;right arrow&gt; : Right one column
     &lt;page down&gt;, &lt;space&gt;, ^F : Down one page
&lt;page up&gt;, p, &lt;backspace&gt;, ^B : Up one page
                           ^D : Down one half page
                           ^U : Up one half page
                 &lt;home&gt;, ^, 1 : Jump to top
                     &lt;end&gt;, 0 : Jump to bottom
                            [ : Jump to the left
                            / : Search in current buffer
                            n : Jump to next search occurrence in buffer
</pre>
<h3><span class="mw-headline" id="Global_keybindings">Global keybindings</span></h3>
<pre>   q : Quit Sup, but ask first
   Q : Quit Sup immediately
   ? : Show help
   b : Switch to next buffer
   B : Switch to previous buffer
   x : Kill the current buffer
   ; : List all buffers
   C : List contacts
  ^L : Redraw screen
\, F : Search all messages
   U : Show all unread messages
   L : List labels
   P : Poll for new messages
m, c : Compose new message
  ^G : Do nothing
   R : Edit most recent draft message
</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Crashing_with:_Illegal_instruction_.28core_dumped.29">Crashing with: Illegal instruction (core dumped)</span></h3>
<p><code>sup</code> uses a search engine called Xapian which is being compiled to use SSE2 instructions. If your CPU does not support SSE2 instructions you will encounter the error message:
</p>
<pre>   Illegal instruction (core dumped)
</pre>
<p>To solve this you have to compile Xapian with the flag <code>--disable-sse</code>.
</p>
<p>1. Looking at the <code>PKGBUILD</code> for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ruby-xapian-ruby/">ruby-xapian-ruby</a></span><sup><small>AUR</small></sup> you can see that it downloads a gem from <a rel="nofollow" class="external free" href="https://rubygems.org/gems/xapian-ruby">https://rubygems.org/gems/xapian-ruby</a>. Download the gem.
</p>
<p>2. run these commands
</p>
<pre>   gem unpack xapian-ruby.gem
   gem unpack --spec xapian-ruby.gem
   mv xapian-ruby.gemspec xapian-ruby/
   cd xapian-ruby
</pre>
<p>3. You are suppose to edit the <code>Rakefile</code>. Your goal is to change the 2 lines where it runs the config changes. All you have to do is to append <code>--disable-sse</code> to the end of those configuration commands:
</p>
<pre>   system! "./configure --prefix=#{prefix} --exec-prefix=#{prefix} --disable-sse"
   system! "./configure --prefix=#{prefix} --exec-prefix=#{prefix} --with-ruby --disable-sse"
</pre>
<p>And save those changes.
</p>
<p>4. run
</p>
<pre>   gem build xapian-ruby.gemspec
   gem install --local xapian-ruby.gem
</pre>
<p>This should solve the problem with Xapian not running on old CPUs. It should also be mentioned that if it is your first time you run <code>sup-config</code> and you have done everything correctly but still end up wih the error message
</p>
<pre>   This Sup version expects a v4 index, but you have an existing v0 index. Please run sup-dump to save your labels, move /home/user/.sup/xapian out of the way, and run sup-sync --restore. (RuntimeError)
   Rats, that failed. You may have to do it manually.
</pre>
<p>it is possible that you also have this issue, try to run the other executables such as <code>sup</code> or <code>sup-dump</code> to see if you get the Illegal instruction (core dumped) error message.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li> <a rel="nofollow" class="external text" href="http://sup-heliotrope.github.io/">Website</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://github.com/sup-heliotrope/sup/wiki">Wiki</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://github.com/sup-heliotrope/sup/blob/develop/README.md">README</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://github.com/sup-heliotrope/sup/blob/develop/doc/FAQ.txt">FAQ</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://github.com/sup-heliotrope/sup/blob/develop/doc/Philosophy.txt">Philosophical statement</a>
</li>
</ul>

</div>
<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Email_clients.html" title="Category:Email clients">Email clients</a></li></ul>
</div></div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
