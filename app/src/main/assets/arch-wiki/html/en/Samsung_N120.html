<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Samsung N120 - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Samsung_N120 skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Samsung N120</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p>This article aims on providing the informations on installing and setting up Arch Linux on the Samsung N120. Basically I used information from <a href="../en/Samsung_NC10.html" title="Samsung NC10">Samsung NC10</a> netbook wiki.
</p>
<p>A lot of the information is derived from the <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=58117">NC10 Arch Forum</a> and <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=77218">N120 Arch Forum</a> and several hints scattered around in the ArchWiki.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Prior_to_Installation.2C_current_state_and_Common_Issues_You_Should_Be_Aware_Of"><span class="tocnumber">1</span> <span class="toctext">Prior to Installation, current state and Common Issues You Should Be Aware Of</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Installation"><span class="tocnumber">2</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#Configure_your_installation"><span class="tocnumber">3</span> <span class="toctext">Configure your installation</span></a>
<ul>
<li class="toclevel-2 tocsection-4">
<a href="#Network"><span class="tocnumber">3.1</span> <span class="toctext">Network</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#Ethernet"><span class="tocnumber">3.1.1</span> <span class="toctext">Ethernet</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Wireless"><span class="tocnumber">3.1.2</span> <span class="toctext">Wireless</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="#Video"><span class="tocnumber">3.2</span> <span class="toctext">Video</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Initial_Brightness"><span class="tocnumber">3.3</span> <span class="toctext">Initial Brightness</span></a></li>
<li class="toclevel-2 tocsection-9">
<a href="#Graphics_Adapter"><span class="tocnumber">3.4</span> <span class="toctext">Graphics Adapter</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#External_VGA"><span class="tocnumber">3.4.1</span> <span class="toctext">External VGA</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11"><a href="#Audio"><span class="tocnumber">3.5</span> <span class="toctext">Audio</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Suspend_and_Hibernate"><span class="tocnumber">3.6</span> <span class="toctext">Suspend and Hibernate</span></a></li>
<li class="toclevel-2 tocsection-13">
<a href="#Fn_Keys"><span class="tocnumber">3.7</span> <span class="toctext">Fn Keys</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="#Fix_Fn_.2B_key_combinations_does_not_produce_key_release_events"><span class="tocnumber">3.7.1</span> <span class="toctext">Fix Fn + key combinations does not produce key release events</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-15"><a href="#Power_saving"><span class="tocnumber">3.8</span> <span class="toctext">Power saving</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Prior_to_Installation.2C_current_state_and_Common_Issues_You_Should_Be_Aware_Of">Prior to Installation, current state and Common Issues You Should Be Aware Of</span></h2>
<p>Following information is based on kernel 2.6.32 (2010.04.08).
</p>
<ul>
<li> Suspend to RAM and Suspend to Disk works perfectly.</li>
<li> Webcam works out-of-the-box, even with Skype.</li>
<li> Volume controls and LAN works.</li>
<li> WLAN works out of the box for Atheros hardware and with Realtek hardware after installing firmware.</li>
<li> Audio (including onboard microphone, speakers and audio off on earphone plugging) is working flawlessly. </li>
<li> It is possible to get all Fn+key combinations working (See Fn-keys and fix).</li>
<li> Updating BIOS to version 07CE (or later) fixes some brightness control issues.</li>
<li> If you encounter problems with the installation from USB disk, add acpi=off to the kernel parameters.</li>
</ul>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>You can use the usb image provided at the official download locations or the iso, if you have an external optical drive. If installation fails try to add acpi=off to the kernel parameters.
</p>
<h2><span class="mw-headline" id="Configure_your_installation">Configure your installation</span></h2>
<h3><span class="mw-headline" id="Network">Network</span></h3>
<h4><span class="mw-headline" id="Ethernet">Ethernet</span></h4>
<p>Works out-of-the-box with stock kernel module <b>sky2</b>.
</p>
<h4><span class="mw-headline" id="Wireless">Wireless</span></h4>
<ul>
<li> With devices based on Atheros chip use the stock kernel module <b>ath5k</b>.</li>
<li> With Realtek based devices wireless works with stock kernel module <b>r8192e_pci</b>. </li>
</ul>
<p>See <a href="../en/Wireless_network_configuration.html" title="Wireless network configuration">Wireless network configuration</a> for more information.
</p>
<h3><span class="mw-headline" id="Video">Video</span></h3>
<h3><span class="mw-headline" id="Initial_Brightness">Initial Brightness</span></h3>
<p>The full brightness can be set with the following command
</p>
<pre>setpci -s 00:02.1 F4.B=FF
</pre>
<p>where FF is the highest level of brightness. That parameter moves in the range 00..FF. Don't set it too low because your backlight will turn off! I tried different parameters and optimal are F.4B=45 or F.4B=50. I added setpci -s 00:02.1 F4.B=40 to my /etc/rc.local.
</p>
<h3><span class="mw-headline" id="Graphics_Adapter">Graphics Adapter</span></h3>
<p>The Video controller is a typical <a href="../en/Intel_graphics.html" title="Intel" class="mw-redirect">Intel</a> chipset that works with the xf86-video-intel driver (or xf86-video-intel-new from AUR)
</p>
<p>To save some interrupts and therefore power you can disable dri in your xorg.conf. This disables 3D effects but if you do not need them this could be an option.
</p>
<pre>Section "Device"
Option "NoDRI"
Identifier "Card0"
Driver "intel"
VendorName "Intel Corporation"
BoardName "Mobile 945GME Express Integrated Graphics Controller"
BusID "PCI:0:2:0"
EndSection
</pre>
<h4><span class="mw-headline" id="External_VGA">External VGA</span></h4>
<p>External VGA works out of the box with xrandr
</p>
<p>in order to prevent problems when switching to console or when unplugging the external monitor, make sure to specify the frequency along with the mode, for example :
</p>
<pre>xrandr --output VGA --mode 1280x1024 --rate 60
</pre>
<p>You can also use randr frontend, lxrandr for example.
</p>
<p>Dual head positioning works also perfectly : <a href="../en/Xorg.html#Multiple_monitors" title="Xorg">Xorg#Multiple monitors</a>
</p>
<h3><span class="mw-headline" id="Audio">Audio</span></h3>
<p>The audio device is an Intel HD. Since alsa 1.0.19 distributed in archlinux extra repository, you do not need to manually install alsa driver. Everything is working out of the box: onboard microphone and speakers, audio off on earphone plugging.
</p>
<p><b>Troubleshooting :</b>
</p>
<ul><li> If the volume is too low, or lower than in Windows run alsamixer, and set "front" to 100%.</li></ul>
<ul><li> If the microphone does not work, press F4 in alsamixer and play with the settings (boost to 0, digital and capture to mid-values, and input to front-mic should be a sane default).</li></ul>
<p>Note that settings can be saved with "alsactl store"
</p>
<ul><li> One user reported that he had to disable every snd module in his rc.conf except for two: snd_hda_intel and snd_pcm_oss.</li></ul>
<ul><li> [deprecated] if the speakers do not mute when you plug in headphones, you may need to compile alsa.</li></ul>
<p>Download latest alsa build. Extract the tar.bz2 and open a console on alsa source folder
</p>
<pre>1.execute this command : ./configure --with-cards=hda-intel --with-oss=yes --with-sequencer=yes
2.execute this command : make
3.execute this command : sudo make install
4.get alsa-utils with pacman
5.configure sound volume with alsamixer , reboot , and enjoy :)
</pre>
<h3><span class="mw-headline" id="Suspend_and_Hibernate">Suspend and Hibernate</span></h3>
<p>Pm-suspend should work correctly without any quirks at the moment.
</p>
<p>You can use this command not only to suspend from terminal but also in combination with <a href="../en/Acpid.html" title="Acpid">acpid</a>
</p>
<p>If after closing the lid your machine doesn't wake up from suspend correctly and needs to be resumed multiple times, you can try using the following workaround.  This is an excerpt from /etc/acpid/handler.sh file:
</p>
<pre>    button/lid)
       if [ `/bin/awk '{print $2}' /proc/acpi/button/lid/LID0/state` = closed ]; then
           /usr/sbin/pm-suspend
       fi
       ;;
</pre>
<p>In contrast hibernate works without "modifications" (except the ones mentioned in the <a href="../en/Pm-utils.html" title="Pm-utils">pm-utils article</a>).
</p>
<p>If you are a kde4/kdemod user you can take advantage of powerdevil (included in kdemod-core/kdemod-kdebase-workspace since release 4.2). Screen brightness, cpu scaling, suspend and hibernate all work flawlessly, without any hack.
</p>
<p>Right after resume you may notice (i.e. in powertop) lost support for C2 and C4 CPU states. Don't panic. Those modes are likely to return in several minutes.
</p>
<h3><span class="mw-headline" id="Fn_Keys">Fn Keys</span></h3>
<p>You need at least kernel 2.6.28.4 to get the Fn keys to work correctly.
</p>
<p>(Volume Controls worked out of the box in kdemod 4.2)
</p>
<p>To bind the Fn keys to action, read <a href="../en/Extra_keyboard_keys.html" title="Extra keyboard keys">Extra keyboard keys</a>. The suspend key (Fn+ESC) and disable touchpad (Fn+F10) keys should work out of the box. Note, that suspend key is handled in /etc/acpi/handler.sh (see "power/sleep" case entry). If you use pm-utils, you should substitute the default action with the call to pm-suspend or pm-hibernate.
</p>
<p>This tweak taken from <a rel="nofollow" class="external text" href="https://help.ubuntu.com/community/NC10">Ubuntu wiki</a>. To get volume and brightness Fn keys work in Gnome you have to make sure that gnome-power-manager is running and add ";N120" to the list of Samsung models in /usr/share/hal/fdi/information/10freedesktop/30-keymap-misc.fdi, i.e.
</p>
<pre>&lt;match key="/org/freedesktop/Hal/devices/computer:system.hardware.product" 
contains_outof="SP55S;SQ45S70S;SX60P;R59P/R60P/R61P;Q310;X05"&gt;
</pre>
<p>becomes
</p>
<pre>&lt;match key="/org/freedesktop/Hal/devices/computer:system.hardware.product" 
contains_outof="SP55S;SQ45S70S;SX60P;R59P/R60P/R61P;Q310;X05;N120"&gt;
</pre>
<p>Also you can play with xbindkey. As an example, here is how to bind the keys for volume control :
</p>
<p>1) install <i>xbindkeys</i> (and <i>xbacklight</i> from package <i>xorg-server-utils</i> for brightness control):
</p>
<pre>pacman -S xbindkeys xorg-server-utils
</pre>
<p>2) crate a config file in your home directory :
</p>
<pre>vi .xbindkeysrc
</pre>
<p>3) with the following content :
</p>
<pre>"amixer sset Master 2+ &amp;"
    m:0x0 + c:176
"amixer sset Master 2- &amp;"
    m:0x0 + c:174
#"amixer sset Master 0 &amp;"
"amixer sset Master toggle &amp;"
    m:0x0 + c:160
#"sudo pm-suspend"
#    m:0x0 + c:223
"xbacklight +10"
    m:0x0 + c:233
"xbacklight -10"
    m:0x0 + c:232
</pre>
<p>For your NC10 Fn keysums may differ. If any Fn keys do not work with the above .xbindkeysrc, you should check the keysum values with
</p>
<pre>xbindkeys -k
</pre>
<p>4) run xbindkeys :
</p>
<pre>xbindkeys
</pre>
<p>and volume control should work within an X session !
</p>
<p>to add aditional bindings, you can get the codes of most of the Fn-keys with 
</p>
<pre>xbindkeys -k
</pre>
<p>For the keys that are not recongnized, see 
</p>
<pre>dmesg |tail
</pre>
<p>to make the kernel recognize them.
</p>
<p>(If your Screen is not bright enough, boot into Windows and set the Brightness to maximum)
</p>
<p>(you can adjust Brightness during the boot process without returning into Windows and you need to set maximum brightness on battery only mode)
</p>
<p>Alternatively, you can add needed broghtness level on the boot, simply add line setpci -s 00:02.1 F4.B=FF (00..FF) to your /etc/rc.local.
</p>
<h4><span class="mw-headline" id="Fix_Fn_.2B_key_combinations_does_not_produce_key_release_events">Fix Fn + key combinations does not produce key release events</span></h4>
<p>Run and add following command to /etc/rc.local to fix Fn-key behavior (<a rel="nofollow" class="external text" href="https://bugzilla.kernel.org/show_bug.cgi?id=14052">14052</a>):
</p>
<pre>echo 133-139,143,147,236,227 &gt; /sys/devices/platform/i8042/serio0/force_release
</pre>
<p>For example the brightness controls (Fn+Up/Down) should now work as expected.
</p>
<h3><span class="mw-headline" id="Power_saving">Power saving</span></h3>
<p>See <a href="../en/Power_management.html" title="Power saving" class="mw-redirect">power saving</a>.
</p>
</div>
<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Samsung.html" title="Category:Samsung">Samsung</a></li></ul>
</div></div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
