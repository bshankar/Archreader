<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Private Internet Access VPN - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Private_Internet_Access_VPN skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Private Internet Access VPN</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p>PIA is a subscription based service provided from <a rel="nofollow" class="external text" href="https://www.privateinternetaccess.com/">PIA</a>. See its <a rel="nofollow" class="external text" href="https://www.privateinternetaccess.com/pages/how-it-works/">How It Works</a> page for more information. 
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Requirements"><span class="tocnumber">1</span> <span class="toctext">Requirements</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Installation"><span class="tocnumber">2</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#After_Installation"><span class="tocnumber">2.1</span> <span class="toctext">After Installation</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4">
<a href="#Usage"><span class="tocnumber">3</span> <span class="toctext">Usage</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Enabling_auto-login"><span class="tocnumber">3.1</span> <span class="toctext">Enabling auto-login</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Manually_Connecting_to_VPN"><span class="tocnumber">3.2</span> <span class="toctext">Manually Connecting to VPN</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Automatically_connect_to_VPN"><span class="tocnumber">3.3</span> <span class="toctext">Automatically connect to VPN</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Advanced_Options"><span class="tocnumber">3.4</span> <span class="toctext">Advanced Options</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Example_Configuration"><span class="tocnumber">4</span> <span class="toctext">Example Configuration</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#See_also"><span class="tocnumber">5</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Requirements">Requirements</span></h2>
<p>PIA supports nearly any operating system and solution any user would need. This guide automatically sets up the configurations for PIA which works for most Arch Linux users.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Arch Linux users may set up PIA manually by reading information on <a rel="nofollow" class="external text" href="https://www.privateinternetaccess.com/pages/client-support/">PIA Client Support</a> page.</div>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/private-internet-access-vpn/">private-internet-access-vpn</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/private-internet-access-vpn-dev/">private-internet-access-vpn-dev</a></span><sup><small>AUR</small></sup>package.
</p>
<p>The package provides a tool that downloads the <a rel="nofollow" class="external text" href="https://www.privateinternetaccess.com/openvpn/openvpn.zip">OPENVPN CONFIGURATION FILES (DEFAULT)</a> and stores them in <code>/etc/openvpn</code>. However, it updates the file names to better support using them on the command line.
</p>
<p>Configuration for the package is stored in <code>/etc/private-internet-access</code>
</p>
<h3><span class="mw-headline" id="After_Installation">After Installation</span></h3>
<p>If there are any issues with connectivity and you are running <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=connman">connman</a></span>, please <a href="../en/Systemd.html#Using_units" title="Restart" class="mw-redirect">restart</a> <code>connman-vpn.service</code>.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>As of version 2.0, the command <code>pia</code> is provided by <a rel="nofollow" class="external text" href="https://github.com/flamusdiu/python-pia">python-pia</a>.</div>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>As of version 1.5, the command as changed from <code>pia-auto-login.py</code> to <code>pia</code>. Also, command line options have changed.</div>
<h3><span class="mw-headline" id="Enabling_auto-login">Enabling auto-login</span></h3>
<p>Enabling auto-login allows a user to connect to the VPN service without having type any passwords on the command line (needed when using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=networkmanager">networkmanager</a></span>). To set this up, you must do the following:
</p>
<ul>
<li>Create <code>/etc/private-internet-access/login.conf</code>
</li>
<li>Add your username and password in the file. Make sure LINE 1 is your username and LINE 2 is your password. Do not add any other text to the file or it will not work (this is a limitation of <a href="../en/OpenVPN.html" title="OpenVPN">OpenVPN</a>):</li>
</ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/private-internet-access/login.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
USERNAME
PASSWORD</pre>
<ul><li>Change permissions of the file to <i>0600</i> and owner to <i>root:root</i>:</li></ul>
 <pre>
# chmod 0600 /etc/private-internet-access/login.conf
# chown root:root /etc/private-internet-access/login.conf</pre> This secures the access to the file from non-root users. Read more on <a href="../en/File_permissions_and_attributes.html" title="File permissions and attributes">File permissions and attributes</a>. It is <b>required</b> when activating auto-login.
<ul><li>Run <code>pia -a</code> as root. 
<ul>
<li>If you have <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=networkmanager">networkmanager</a></span> installed, it will create the configuration files for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=networkmanager">networkmanager</a></span>. Make sure to <a href="../en/Systemd.html#Using_units" title="Restart" class="mw-redirect">restart</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=networkmanager">networkmanager</a></span> to see them.</li>
<li>If you have <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=connman">connman</a></span> installed, it will create the configuration files for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=connman">connman</a></span>. <a href="../en/Systemd.html#Using_units" title="Start" class="mw-redirect">Start</a> <code>connman-vpn.service</code> if not running already. It will auto load the profiles.</li>
<li>Regardless, it will create the OpenVPN <code>.conf</code> files in <code>/etc/openvpn</code>.</li>
</ul>
</li></ul>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDFFDD; border: thin solid #BBDDBB; overflow: hidden;">
<strong> Tip: </strong>Disable auto-login in configurations by adding <code>openvpn_auto_login = False</code> to <code>/etc/private-internet-access/pia.conf</code> and running <code>pia -a</code> </div>
<h3><span class="mw-headline" id="Manually_Connecting_to_VPN">Manually Connecting to VPN</span></h3>
<p>Run <code>openvpn --config /etc/openvpn/{config_file_name}</code> as root. <code>{config_file_name}</code> will be listed in the /etc/openvpn directory or run <code>pia -l</code>.
</p>
<h3><span class="mw-headline" id="Automatically_connect_to_VPN">Automatically connect to VPN</span></h3>
<ul><li> For <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=connman">connman</a></span>:</li></ul>
<ol>
<li>
<a href="../en/Systemd.html#Using_units" title="Enable" class="mw-redirect">enable</a> the <code>connman-vpn.service</code>.</li>
<li>Run <code>pia -a</code> as root.</li>
</ol>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>These are unsupported configurations.</div>
<ul><li> For <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=openvpn">openvpn</a></span> you can look here: <a href="../en/OpenVPN.html#systemd_service_configuration" title="OpenVPN">OpenVPN#systemd service configuration</a>.</li></ul>
<h3><span class="mw-headline" id="Advanced_Options">Advanced Options</span></h3>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;">
<strong> Warning: </strong>Protocols and port combinations no longer work as of Version 3.1. See <a rel="nofollow" class="external text" href="https://github.com/flamusdiu/python-pia/issues/17">Github Issue #17</a> or PIA's Support - <a rel="nofollow" class="external text" href="https://helpdesk.privateinternetaccess.com/hc/en-us/articles/225274288-Which-encryption-auth-settings-should-I-use-for-ports-on-your-gateways-">Which encryption/auth settings should I use for ports on your gateways?</a>
</div>
<ul>
<li>Create <code>/etc/private-internet-access/pia.conf</code>
</li>
<li>For the <code>[pia]</code> section:</li>
</ul>
<table class="wikitable">
<tr>
<th scope="col" style="width:5%;"> option
</th>
<th scope="col" style="width:10%;"> option values
</th>
<th scope="col" style="width:10%;"> description
</th>
</tr>
<tr>
<td>openvpn_auto_login
</td>
<td>True,False
</td>
<td>Default: True; Configures if OpenVPN configuration files should have auto-login enabled. See <a href="#Enabling_auto-login">#Enabling auto-login</a>
</td>
</tr>
<tr>
<td>strong_encryption
</td>
<td>True,False
</td>
<td>Default: False; Configures strong encryption. Uses port 1197, cipher aes-256-cbc, auth sha256. Custom configurations for port, cipher, and auth are ignored when enabling this option.
</td>
</tr>
</table>
<ul><li>For the <code>[configure]</code> section:</li></ul>
<table class="wikitable">
<tr>
<th scope="col" style="width:5%;"> option
</th>
<th scope="col" style="width:10%;"> option values
</th>
<th scope="col" style="width:10%;"> description
</th>
</tr>
<tr>
<td>apps
</td>
<td>cm, nm
</td>
<td>Default: all; This configures which applications are configured. The application will configure all applications installed; however, if a user only needed configurations for Conman, then setting this to 'cm' would generate only those configurations even if they had NetworkManager installed. OpenVPN configurations are always generated. cm = Conman; nm = NetworkManager
</td>
</tr>
<tr>
<td>port
</td>
<td>501, 502, 1197, 1198
</td>
<td>Default: 1198; This configures which port and protocol the VPN uses. 501,502=TCP; 1197,1198=UDP
</td>
</tr>
<tr>
<td>cipher
</td>
<td>aes-128-cbc, aes-256-cbc, bf-cbc, None
</td>
<td>Default: aes-128-cbc; This configures the data encryption cipher.
</td>
</tr>
<tr>
<td>auth
</td>
<td>sha1, sha256, None
</td>
<td>Default: sha1; This configures the data authentication.
</td>
</tr>
</table>
<h2><span class="mw-headline" id="Example_Configuration">Example Configuration</span></h2>
<p>The configuration enables auto-login, configures only Connman and OpenVPN, uses port 8080 over UDP, and configures only US East, US West, Japan, UK London, and UK Southampton VPN endpoints. OpenVPN is always configured.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/private-internet-access-vpn/pia.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">

[pia]
openvpn_auto_login = True

[configure]
apps = cm
port = UDP/8080
hosts = US East, US West, Japan, UK London, UK Southampton

</pre>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li> <a href="../en/OpenVPN.html" title="OpenVPN">OpenVPN</a>
</li>
<li> <a href="../en/NetworkManager.html" title="NetworkManager">NetworkManager</a>
</li>
<li> <a href="../en/Connman.html" title="Connman">connman</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://github.com/flamusdiu/python-pia/">python-pia GitHub</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://www.privateinternetaccess.com/pages/client-support/">PIA Client Support</a>
</li>
</ul>

</div>
<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:VPN_providers.html" title="Category:VPN providers">VPN providers</a></li></ul>
</div></div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
