<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Samsung Chromebook (ARM) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Samsung_Chromebook_ARM skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Samsung Chromebook (ARM)</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div style="width:45%; margin: 0 0 0.5em 0.5em;">
<p style="background:#333; color:white; padding:0.2em; border-bottom:5px #08c solid; margin:0; text-align:center; font-weight:bold;">Related articles</p>
<ul style="list-style-type:none; margin:0; padding:0.3em;">
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Chrome_OS_devices.html" title="Chromebook" class="mw-redirect">Chromebook</a></li>
</ul>
</div>
<p>The Samsung Chromebook (model XE303C12) is a laptop intended work in the cloud. It provides a powerful Cortex-A15 Dual Core Exynos 5 processor at 1.7 GHz with Mali-T604 GPU, 2 GiB of DDR3, 16 GiB of internal flash storage, WiFi a/b/g/n, SD and USB ports, HDMI connector and a 11.6" display. It is visually like the MacBook Air 11. With stock firmware it runs a heavily modified Gentoo-Linux, which means that nearly all the source code is <a rel="nofollow" class="external text" href="https://chromium.googlesource.com/chromiumos">available</a> from Google. <b>It is possible to install ArchLinux ARM (ALARM) on this device</b>.
</p>
<p>More information at dedicated pages by <a rel="nofollow" class="external text" href="http://www.google.com/intl/en/chrome/devices/samsung-chromebook.html#ss-cb">Google</a> and <a rel="nofollow" class="external text" href="http://www.samsung.com/us/computer/chrome-os-devices/XE303C12-A01US">Samsung</a>.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Article_Preface"><span class="tocnumber">1</span> <span class="toctext">Article Preface</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Installing_Arch_Linux_ARM"><span class="tocnumber">2</span> <span class="toctext">Installing Arch Linux ARM</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Stop_Here_If_You.27re_Not_100.25_Sure"><span class="tocnumber">3</span> <span class="toctext">Stop Here If You're Not 100% Sure</span></a></li>
<li class="toclevel-1 tocsection-4">
<a href="#Flashing_non-verified_U-boot"><span class="tocnumber">4</span> <span class="toctext">Flashing non-verified U-boot</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Boot_process"><span class="tocnumber">4.1</span> <span class="toctext">Boot process</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Removing_RO_protection"><span class="tocnumber">4.2</span> <span class="toctext">Removing RO protection</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Precompiled_U-Boot"><span class="tocnumber">4.3</span> <span class="toctext">Precompiled U-Boot</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#How_to_compile_U-Boot"><span class="tocnumber">4.4</span> <span class="toctext">How to compile U-Boot</span></a></li>
<li class="toclevel-2 tocsection-9">
<a href="#How_to_flash_U-Boot"><span class="tocnumber">4.5</span> <span class="toctext">How to flash U-Boot</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#Required_Equipment"><span class="tocnumber">4.5.1</span> <span class="toctext">Required Equipment</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#Steps"><span class="tocnumber">4.5.2</span> <span class="toctext">Steps</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#Booting_from_SD"><span class="tocnumber">5</span> <span class="toctext">Booting from SD</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#Related_Links"><span class="tocnumber">6</span> <span class="toctext">Related Links</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Article_Preface">Article Preface</span></h2>
<p>This article is not meant to be an exhaustive setup guide and assumes that the reader has setup an Arch system before.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Support for the ARM architecture is provided on <a rel="nofollow" class="external free" href="http://archlinuxarm.org">http://archlinuxarm.org</a> not through posts to the official Arch Linux Forum.  Any posts related to ARM specific issues will be promptly closed per the <a href="../en/Code_of_conduct.html#Arch_Linux_distribution_support_.2Aonly.2A" title="Forum etiquette" class="mw-redirect">Arch Linux Distrubution Support ONLY</a> policy.</div>
<h2><span class="mw-headline" id="Installing_Arch_Linux_ARM">Installing Arch Linux ARM</span></h2>
<p>See the instructions at the <a rel="nofollow" class="external text" href="http://archlinuxarm.org/platforms/armv7/samsung-chromebook#qt-platform_tabs-ui-tabs2">archlinuxarm site</a>. This is a fully supported platform at Arch Linux ARM (wholly separate entity)
</p>
<p>You can install to:
</p>
<ul>
<li> SD Card</li>
<li> USB 2.0 Flash stick</li>
<li> eMMC (after installing one of the prior)</li>
</ul>
<p>To install to SD or USB, follow the instructions linked above. To install to eMMC, install to one of the prior medias, then install to /dev/mmcblk0, a simple edit from the install instructions from SD. You must boot onto a different media prior to this however.
</p>
<p><br>
</p>
<h2><span class="mw-headline" id="Stop_Here_If_You.27re_Not_100.25_Sure">Stop Here If You're Not 100% Sure</span></h2>
<p><b>Installation to the eMMC can be removed via the USB Restore method that is a part of all Chromebook devices, when installing with official method.</b>
</p>
<p><b>Flashing of non-verified uboot is <i>not required</i> for eMMC install.</b>
</p>
<h2><span class="mw-headline" id="Flashing_non-verified_U-boot">Flashing non-verified U-boot</span></h2>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;">
<strong> Warning: </strong>This process is very dangerous and shall not be carried out unless all the risks are known and understood. You are the only responsible of any damage which may occur</div>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;">
<strong> Warning: </strong>Arch Linux ARM will not support you if you do this and screw it up.</div>
<h3><span class="mw-headline" id="Boot_process">Boot process</span></h3>
<p>The boot process of this Chromebook has several stages. The very first stages are burnt into the SoC (probably read-only although unconfirmed). Then, the SoC jumps to the starting of the 4 MiB SPI flash, which contains basically U-Boot.
</p>
<p>This flash is split into a read-only half (first half) and read-write half. The read-only (RO) is loaded at the factory and contains several signature verifications (it is really a known-to-be-good U-Boot). The read-write (RW) is a signed U-Boot which also loads signed kernel and so on.
</p>
<p>As you probably know (that is why you are reading this) you can load non-signed kernels by entering developer mode. But it has two drawbacks: you have to make a non-trivial process to install your bootloader and you have to hit Ctrl+D or Ctrl+U on every boot.
</p>
<h3><span class="mw-headline" id="Removing_RO_protection">Removing RO protection</span></h3>
<p>The good news is that you can disable the RO protection. The bad news is that you have to open your device. The recommended guide to open your Chromebook is the one at <a rel="nofollow" class="external text" href="http://www.ifixit.com/Teardown/Samsung+Chromebook+11.6+Teardown/12225/1">iFixit</a>; stop at step 4, then jump to <a rel="nofollow" class="external text" href="http://www.ifixit.com/Teardown/Samsung+Chromebook+11.6+Teardown/12225/2#s45950">step 9</a>. If you have a multimeter, ensure that after removal of the metallic sticker both parts of the ring are <b>not</b> in short-circuit.
</p>
<p>Now you can write your U-Boot.
</p>
<h3><span class="mw-headline" id="Precompiled_U-Boot">Precompiled U-Boot</span></h3>
<p>Source: <a rel="nofollow" class="external text" href="https://www.dropbox.com/s/6pzvraf3ko14sz9/nv_image-snow.bin.gz">nv_image-snow.bin.gz</a>
</p>
<h3><span class="mw-headline" id="How_to_compile_U-Boot">How to compile U-Boot</span></h3>
<p>WIP
</p>
<h3><span class="mw-headline" id="How_to_flash_U-Boot">How to flash U-Boot</span></h3>
<h4><span class="mw-headline" id="Required_Equipment">Required Equipment</span></h4>
<ul><li> 1 X Samsung ARM Chromebook</li></ul>
<ul><li> 1 X SD card 4 -&gt; 16 GB</li></ul>
<ul><li> 2 X USB 2 thumb drive 4 -&gt; 16 GB</li></ul>
<p>We will call these USB drives MAIN and TAR.  The reason we have the TAR USB is so we can tar up the root filesystem on MAIN without it actively being mounted as the current root file system.
</p>
<p>Notes: 
</p>
<p>You may have difficulty booting USB/SD-Cards &gt; 16 GB.
</p>
<p>You can only boot from the USB 2 port NOT the USB 3 port.
</p>
<h4><span class="mw-headline" id="Steps">Steps</span></h4>
<p><u>PREPARATION</u>
</p>
<ul><li> Follow the <a rel="nofollow" class="external text" href="http://www.ifixit.com/Teardown/Samsung+Chromebook+11.6+Teardown/12225">ifixit instructions</a>, to ensure the metallic ring-shaped sticker is removed.</li></ul>
<ul><li> On both the USB thumb drives, MAIN and TAR, install and boot Arch using the <a rel="nofollow" class="external text" href="http://archlinuxarm.org/platforms/armv7/samsung/samsung-chromebook#qt-platform_tabs-ui-tabs2">already established method</a>.</li></ul>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>You can copy from chrome OS web page with Ctrl-C and then paste into the Chrome OS shell with Ctrl-Shift-V.  (This will save you time!!!)</div>
<ul><li> Update your install with:</li></ul>
<pre># pacman -Syu
</pre>
<ul><li> On only the 'MAIN' USB install these required packages.</li></ul>
<pre># pacman -S flashroom-google linux-chromebook gptfdisk wget libftdi-compat
</pre>
<ul><li> download this file: </li></ul>
<pre># wget <a rel="nofollow" class="external free" href="http://goo.gl/RZ7THP">http://goo.gl/RZ7THP</a>
</pre>
<p>This is a shortened URL for:
</p>
<p><a rel="nofollow" class="external free" href="https://www.dropbox.com/s/6pzvraf3ko14sz9/nv_image-snow.bin.gz">https://www.dropbox.com/s/6pzvraf3ko14sz9/nv_image-snow.bin.gz</a>
</p>
<ul><li> rename it:</li></ul>
<pre># mv RZ7THP nv_image-snow.bin.gz
</pre>
<ul><li> uncompress it:</li></ul>
<pre># gunzip nv_image-snow.bin.gz
</pre>
<ul><li> read and save off your original image:</li></ul>
<pre># flashrom.google -p linux_spi:dev=/dev/spidev1.0 -r origial_image-snow.bin
</pre>
<p><u>MAKE SD CARD</u>
</p>
<ul><li> Insert your SD card, and check which device it is:</li></ul>
<pre># lsblk
</pre>
<ul><li> <i>Mine is mmcblk1</i>, now zero/clean it out:</li></ul>
<pre># sgdisk -Z /dev/mmcblk1
</pre>
<ul><li> Confirm no partitions:</li></ul>
<pre># lsblk
</pre>
<ul><li> Create two partitions, the first 16M, the other the rest of the size:</li></ul>
<pre># sgdisk -n 1:0:+16m /dev/mmcblk1
</pre>
<pre># sgdisk -n 2:0 /dev/mmcblk1
</pre>
<ul><li> Make the filesystems:</li></ul>
<pre># mkfs.ext2 /dev/mmcblk1p1
</pre>
<pre># mkfs.jfs /dev/mmcblk1p2
</pre>
<ul><li> Copy vmlinux.uimg</li></ul>
<pre># cd /tmp; mkdir mnt
# mount /dev/mmcblk1p1 mnt
# cp /boot/vmlinux.uimg mnt
# umount mnt
</pre>
<ul><li> Shutdown your system and boot up with your 'TAR' USB drive.</li></ul>
<ul><li> After booted, plug in your first 'MAIN' USB and follow the below procedure to tar your rootfs system:</li></ul>
<pre># mkdir tar-root
# mount /dev/sdb3 tar-root
</pre>
<ul><li> Mount the SD card too:</li></ul>
<pre># mkdir sd-card
# mount /dev/mmcblk1p2 sd-card
</pre>
<ul><li> Create an excludes file: (after entering 'dev' hit Ctrl-d to end 'cat' command)</li></ul>
<pre># cd tar-root
# cat &gt; excludes-file
opt/backup/arch-full*
tmp/*
var/cache/pacman/pkg/
proc
sys
dev

</pre>
<ul><li> tar up the MAIN USB root filesystem</li></ul>
<pre># tar cpfz ../root.tgz -X excludes-file .
</pre>
<ul><li> untar to SD card:</li></ul>
<pre># cd ..
# tar xfz root.tgz -C sd-card
</pre>
<p>The above will take a long time so go have a beer/coffee/milk.
</p>
<ul><li> unmount the partitions:</li></ul>
<pre># umount sd-card
# umount tar-root
</pre>
<ul><li> Make sure you copy the modules and firmware from linux-chromebook in the proper place on the rootfs.</li></ul>
<p><b>not sure how to do this</b>
</p>
<p><br>
<b>DO NOT FOLLOW DIRECTIONS BELOW, THEY ARE NOT COMPLETE</b>
</p>
<p><br>
</p>
<ul><li> go back to where your <code>nv_image-show.bin</code> was and flash the new image:</li></ul>
<pre># flashrom.google -p linux_spi:dev=/dev/spidev1.0 -w nv_image-snow.bin
</pre>
<ul><li> Powercycle. Hold down <code>a</code> while powering up to get into a u-boot prompt.</li></ul>
<p>Once you are flashed with u-boot, you will need to create a SD card that boots.
</p>
<ul><li> From the u-boot prompt, enter the following to boot from SD card:</li></ul>
<pre># setenv bootargs root=/dev/mmcblk1p2 rootfstype=jfs rootwait rw
# mmc dev 1
# ext2load mmc 1:1 42000000 vmlinux.uimg
# bootm 42000000
</pre>
<p>You should now be booted into your SD card.
</p>
<p><u>Write to eMMC</u>
</p>
<p>After you are booted into your SD card from the above steps you will want to repeat the steps so you can boot from your eMMC, and not need an SD or USB hanging out from your computer.
</p>
<p>Keep in mind the steps you did above to device: <code>mmcblk1</code>, aka, your SD card.  You will want to change the device to: <code>mmcblk0</code>, aka, your eMMC.
</p>
<p>In quick summary do:
</p>
<ul>
<li> zero out the device</li>
<li> create the two partitions</li>
<li> format the two partitions</li>
<li> setup the boot partition</li>
<li> setup the root partition</li>
<li> reboot into the u-boot prompt</li>
</ul>
<pre># setenv arch_boot 'setenv bootargs root=/dev/mmcblk0p2 rootfstype=jfs rootwait ro; mmc dev 0; ext2load mmc 0:1 42000000 vmlinux.uimg; bootm 42000000'
# setenv bootcmd 'run arch_boot'
# saveenv
</pre>
<p>This should now boot into your eMMC, and also on every future reboot.
</p>
<p><u>To be able to fix the random power-on issue of the chromebook you have to change a bit the enviroment variables shown before.</u>
</p>
<pre># setenv 1 'setenv bootargs root=/dev/mmcblk0p2 rootfstype=jfs rootwait ro; mmc dev 0; ext2load mmc 0:1 42000000 vmlinux.uimg; bootm 42000000'
# setenv bootcmd 'if sleep 5; then vboot_test poweroff; fi'
# saveenv
</pre>
<p>Now the Chromebook should power-off after 5 secs of power-on. To successfully boot your Chromebook you should press <code>Ctrl + c</code>, and then type <code>run 1</code>.
</p>
<h2><span class="mw-headline" id="Booting_from_SD">Booting from SD</span></h2>
<p>If you ever screw things up by burning a wrong bootloader, there is a recovery mechanism. The SoC built-in bootloader (known as BL0 and BL1) can be configured to boot from SPI, USB, SD and probably other options. This is known because of the Arndale development board (and previous Exynos models behave the same as well).
</p>
<p>This is configured at the factory to boot from SPI, but this is done with a bunch of resistors located at the bottom of the PCB (link to image). User (name) experimented and got the working configuration (link to image).
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;">
<strong> Warning: </strong>If you are unsure about how to short-circuit pads, you should definitely go away and experiment a bit with other electronics. A wrong short-circuit may permanently damage your board.</div>
<p>By short-circuiting the pads as per the diagram linked, your SoC will boot from SD. You have to (confirm this and complete the information) load a U-Boot with BL2 incorporated.
</p>
<h2><span class="mw-headline" id="Related_Links">Related Links</span></h2>
<ul>
<li> <a rel="nofollow" class="external free" href="http://archlinuxarm.org/platforms/armv7/samsung/samsung-chromebook">http://archlinuxarm.org/platforms/armv7/samsung/samsung-chromebook</a>
</li>
<li> <a rel="nofollow" class="external free" href="http://archlinuxarm.org/forum/viewtopic.php?t=4016">http://archlinuxarm.org/forum/viewtopic.php?t=4016</a>
</li>
</ul>

</div>
<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:ARM_architecture.html" title="Category:ARM architecture">ARM architecture</a></li></ul>
</div></div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
