<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Deepin Desktop Environment - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Deepin_Desktop_Environment skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Deepin Desktop Environment</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div style="width:45%; margin: 0 0 0.5em 0.5em;">
<p style="background:#333; color:white; padding:0.2em; border-bottom:5px #08c solid; margin:0; text-align:center; font-weight:bold;">Related articles</p>
<ul style="list-style-type:none; margin:0; padding:0.3em;">
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Desktop_environment.html" title="Desktop environment">Desktop environment</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/GNOME.html" title="GNOME">GNOME</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/LightDM.html" title="LightDM">LightDM</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="http://www.deepin.org/?language=en">DDE</a> (Deepin Desktop Environment) is the default desktop environment originally created for the linux Deepin distribution.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Launching_Deepin_Desktop_Environment"><span class="tocnumber">2</span> <span class="toctext">Launching Deepin Desktop Environment</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Via_a_Display_Manager"><span class="tocnumber">2.1</span> <span class="toctext">Via a Display Manager</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Using_xinitrc"><span class="tocnumber">2.2</span> <span class="toctext">Using xinitrc</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5">
<a href="#Troubleshooting"><span class="tocnumber">3</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Does_not_start"><span class="tocnumber">3.1</span> <span class="toctext">Does not start</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#No_background_after_resuming_from_standby"><span class="tocnumber">3.2</span> <span class="toctext">No background after resuming from standby</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Bug_Reporting"><span class="tocnumber">4</span> <span class="toctext">Bug Reporting</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>To get a minimal desktop interface, you may start by <a href="../en/Help:Reading.html#Installation_of_packages" title="Installing" class="mw-redirect">installing</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/groups/x86_64/deepin/">deepin</a></span> group. This will pull all the basic components.
</p>
<p>However, it is recommended to also install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/groups/x86_64/deepin-extra/">deepin-extra</a></span> group to get a fully working DDE:
</p>
<ul>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=deepin-game">deepin-game</a></span>: Deepin game center to play flash games</li>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=deepin-movie">deepin-movie</a></span>: Deepin video player</li>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=deepin-music">deepin-music</a></span>: Deepin music player</li>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=deepin-screenshot">deepin-screenshot</a></span>: Deepin screen-shot tools</li>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=deepin-terminal">deepin-terminal</a></span>: Deepin terminal</li>
</ul>
<p>To be able to use the integrated network administration, the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=networkmanager">networkmanager</a></span> package is required, and the <code>NetworkManager.service</code> must be <a href="../en/Systemd.html#Using_units" title="Systemd">started and enabled</a>.
</p>
<h2><span class="mw-headline" id="Launching_Deepin_Desktop_Environment">Launching Deepin Desktop Environment</span></h2>
<h3><span class="mw-headline" id="Via_a_Display_Manager">Via a Display Manager</span></h3>
<p>To use the default DDE's lightdm greeter you have to modify the configuration file under the <code>[SeatDefaults]</code> section, to state:.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/lightdm/lightdm.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[SeatDefaults]
...
greeter-session=lightdm-deepin-greeter</pre>
<h3><span class="mw-headline" id="Using_xinitrc">Using xinitrc</span></h3>
<p><i>See the <a href="../en/Xinit.html" title="Xinitrc" class="mw-redirect">xinitrc</a> page for more information.</i>
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.xinitrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
exec startdde
</pre>
<p>Execute <code>startx</code> or <code>xinit</code> to start DDE.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>If you want to start Xorg at boot, please read the <a href="../en/Xinit.html#Autostart_X_at_login" title="Start X at login" class="mw-redirect">Start X at login</a> article.</div>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Does_not_start">Does not start</span></h3>
<p>Type <code>startdde</code> in virtual console and see the output. If you see error with file mentioned <code>libgo.so.9</code> - ensure you have installed <b>the latest</b> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=gcc-libs">gcc-libs</a></span> package.
</p>
<h3><span class="mw-headline" id="No_background_after_resuming_from_standby">No background after resuming from standby</span></h3>
<p>Because of the way the NVIDIA driver stores its FBOs <a rel="nofollow" class="external autonumber" href="https://devtalk.nvidia.com/default/topic/787748/linux/-nvidia340xx-archlinux64-gnome3-14-the-background-of-desktop-and-lockscreen-mess-after-resume-from-/post/4367179/#4367179">[1]</a>, it happens that after resuming from standby the background suddenly disappears, leaving only a white screen with possibly some color noise on it. The bug appears to be fixed in GNOME upstream, but the Deepin desktop environment still has it.
</p>
<p>A possible workaround would be restarting the window manager every time the computer resumes from suspension. A way to do that would be creating the following systemd service
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/resume@.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
[Unit]
Description=User resume actions
After=suspend.target

[Service]
User=%I
Type=simple
ExecStart=/usr/bin/deepin-wm-restart.sh

[Install]
WantedBy=suspend.target
</pre>
<p>That executes the following script
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/bin/deepin-wm-restart.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
#!/bin/bash
export DISPLAY=:0
deepin-wm --replace
</pre>
<p>Once those two files are created in the correct directories, in order to enable the script it's sufficient to run these commands:
</p>
<pre>
# chmod +x /usr/bin/deepin-wm-restart.sh
# systemctl enable resume@<i>user</i>
# systemctl start resume@<i>user</i> 
</pre>
<p>The first command makes the script you created executable, the second makes sure that the service always start at boot and the last one starts the service immediately so you can test the workaround without having to reboot the system.
</p>
<h2><span class="mw-headline" id="Bug_Reporting">Bug Reporting</span></h2>
<p>Any upstream or arch packaging related bugs should be reported <a rel="nofollow" class="external text" href="https://github.com/linuxdeepin/developer-center/issues">here</a>.
FaSheng is one of the Deepin developers and also a contributor/maintainer for arch-deepin and if you file bug reports on his github page then there's much greater chance that the bug will be fixed. ;-)
</p>
</div>
<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Desktop_environments.html" title="Category:Desktop environments">Desktop environments</a></li></ul>
</div></div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
