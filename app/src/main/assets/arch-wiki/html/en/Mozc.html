<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Mozc - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Mozc skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Mozc</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p>From the project <a rel="nofollow" class="external text" href="http://code.google.com/p/mozc/">home page</a>:
</p>
<dl><dd> <i>Mozc is a Japanese Input Method Editor (IME) designed for multi-platform such as Chromium OS, Windows, Mac and Linux. This open-source project originates from <a rel="nofollow" class="external text" href="http://www.google.com/intl/ja/ime/">Google Japanese Input</a>. Detailed differences between Mozc and Google Japanese Input are described in <a rel="nofollow" class="external text" href="http://code.google.com/p/mozc/wiki/AboutMozc">About Mozc</a></i> (In short, Mozc does not have equivalent conversion quality to Google Japanese Input).</dd></dl>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Unofficial_user_repository"><span class="tocnumber">1.1</span> <span class="toctext">Unofficial user repository</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Using_PKGBUILD"><span class="tocnumber">1.2</span> <span class="toctext">Using PKGBUILD</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Using_fcitx"><span class="tocnumber">1.3</span> <span class="toctext">Using fcitx</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Make_available_Mozc"><span class="tocnumber">1.4</span> <span class="toctext">Make available Mozc</span></a></li>
<li class="toclevel-2 tocsection-6">
<a href="#Variants_on_AUR"><span class="tocnumber">1.5</span> <span class="toctext">Variants on AUR</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#uim-mozc"><span class="tocnumber">1.5.1</span> <span class="toctext">uim-mozc</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#mozc-ut"><span class="tocnumber">1.5.2</span> <span class="toctext">mozc-ut</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#mozc-svn"><span class="tocnumber">1.5.3</span> <span class="toctext">mozc-svn</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-10">
<a href="#Configuration"><span class="tocnumber">2</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#IBus"><span class="tocnumber">2.1</span> <span class="toctext">IBus</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#uim"><span class="tocnumber">2.2</span> <span class="toctext">uim</span></a></li>
<li class="toclevel-2 tocsection-13">
<a href="#Mozc_for_Emacs"><span class="tocnumber">2.3</span> <span class="toctext">Mozc for Emacs</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="#Disabling_XIM_on_Emacs"><span class="tocnumber">2.3.1</span> <span class="toctext">Disabling XIM on Emacs</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-15">
<a href="#Tips"><span class="tocnumber">3</span> <span class="toctext">Tips</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#Confirming_Mozc_version_which_you_are_using_now"><span class="tocnumber">3.1</span> <span class="toctext">Confirming Mozc version which you are using now</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Launching_Mozc_tools_from_command_line"><span class="tocnumber">3.2</span> <span class="toctext">Launching Mozc tools from command line</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Use_CapsLock_as_Eisu_toggle_key_on_ASCII_layout_keyboard"><span class="tocnumber">3.3</span> <span class="toctext">Use CapsLock as Eisu_toggle key on ASCII layout keyboard</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19">
<a href="#Troubleshooting"><span class="tocnumber">4</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#Building_Mozc_fails_.28process_is_killed.29"><span class="tocnumber">4.1</span> <span class="toctext">Building Mozc fails (process is killed)</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#New_version_of_Mozc_does_not_appear_though_I_upgraded_Mozc_and_restarted_X_or_IBus_.28not_rebooted.29"><span class="tocnumber">4.2</span> <span class="toctext">New version of Mozc does not appear though I upgraded Mozc and restarted X or IBus (not rebooted)</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>You can install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mozc/">mozc</a></span><sup><small>AUR</small></sup> (vanilla) using <a href="#Unofficial_user_repository">unofficial user repository</a> or build yourself from <a href="../en/Arch_User_Repository.html" title="AUR" class="mw-redirect">AUR</a>.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Mozc works with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=ibus">ibus</a></span>. Please see also <a href="../en/IBus.html" title="IBus">IBus</a> for installation and configuration.</div>
<p>This package consists as follows:
</p>
<table class="wikitable" style="text-align:center;margin:0 2em auto">
<tr>
<th>Package </th>
<th> mozc </th>
<th> description
</th>
</tr>
<tr>
<th>Group
</th>
<td> mozc-im </td>
<td>
</td>
</tr>
<tr>
<th rowspan="3"> Component
</th>
<td> mozc </td>
<td> Server part of the Mozc
</td>
</tr>
<tr>
<td> ibus-mozc </td>
<td> IBus engine module
</td>
</tr>
<tr>
<td> emacs-mozc </td>
<td> Mozc for Emacs (optional)
</td>
</tr>
</table>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDFFDD; border: thin solid #BBDDBB; overflow: hidden;">
<strong> Tip: </strong><a href="#Variants_on_AUR">Unofficial plugins for the other IM frameworks are available</a>
</div>
<h3><span class="mw-headline" id="Unofficial_user_repository">Unofficial user repository</span></h3>
<p>There is an unofficial user repository of Mozc. Add the following into your <code>/etc/pacman.conf</code>:
</p>
<pre>
[pnsft-pur]
SigLevel = Optional TrustAll
Server = http://downloads.sourceforge.net/project/pnsft-aur/pur/$arch
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>This repo provides x86_64 packages only now.</div>
<p>And refresh package database.
You can choose to install packages specifying group name as follows:
</p>
<pre># pacman -S mozc-im
</pre>
<p>Or, specify package names directly. For example:
</p>
<pre># pacman -S mozc ibus-mozc emacs-mozc
</pre>
<h3><span class="mw-headline" id="Using_PKGBUILD">Using PKGBUILD</span></h3>
<p>You can install from AUR as follows.
</p>
<p>First, get <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mozc/">mozc</a></span><sup><small>AUR</small></sup> tarball from AUR and edit the PKGBUILD if necessary.
</p>
<pre>$ wget <a rel="nofollow" class="external free" href="https://aur.archlinux.org/packages/mo/mozc/mozc.tar.gz">https://aur.archlinux.org/packages/mo/mozc/mozc.tar.gz</a>
$ tar xvf mozc.tar.gz
$ cd mozc
</pre>
<p>If you will be using mozc.el on Emacs, uncomment <code>_emacs_mozc</code> line.
</p>
<pre>## If you will be using mozc.el on Emacs, uncomment below.
_emacs_mozc="yes"
</pre>
<h3><span class="mw-headline" id="Using_fcitx">Using fcitx</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=fcitx-mozc">fcitx-mozc</a></span> is the all in one Mozc package available in <a href="../en/Official_repositories.html" title="Official repositories">offical repository</a>, dedicated to <a href="../en/Fcitx.html" title="Fcitx">fcitx</a>.
</p>
<h3><span class="mw-headline" id="Make_available_Mozc">Make available Mozc</span></h3>
<p>Restart X or IBus to enable use of Mozc.
</p>
<h3><span class="mw-headline" id="Variants_on_AUR">Variants on AUR</span></h3>
<p>Each packages consist as follows:
</p>
<table class="wikitable" style="text-align:center;margin:0 2em auto">
<tr>
<th>Package </th>
<th> mozc </th>
<th> mozc-svn </th>
<th> mozc-ut </th>
<th> description
</th>
</tr>
<tr>
<th>Group
</th>
<td> mozc-im </td>
<td> mozc-im-svn </td>
<td> mozc-im </td>
<td>
</td>
</tr>
<tr>
<th rowspan="6"> Component
</th>
<td> mozc </td>
<td> mozc-svn </td>
<td> mozc-ut </td>
<td>Server part of the Mozc
</td>
</tr>
<tr>
<td> ibus-mozc </td>
<td> ibus-mozc-svn </td>
<td> ibus-mozc-ut </td>
<td> IBus engine module (optional)
</td>
</tr>
<tr>
<td> (uim-mozc) </td>
<td> uim-mozc-svn </td>
<td> uim-mozc-ut </td>
<td> uim plugin module (optional)
</td>
</tr>
<tr>
<td> <small><i>N/A</i></small> </td>
<td> fcitx-mozc-svn </td>
<td> <small><i>N/A</i></small> </td>
<td> Fcitx module (optional)
</td>
</tr>
<tr>
<td> emacs-mozc </td>
<td> emacs-mozc-svn </td>
<td> emacs-mozc-ut </td>
<td> Mozc for Emacs (optional)
</td>
</tr>
</table>
<h4><span class="mw-headline" id="uim-mozc">uim-mozc</span></h4>
<p>Though <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mozc/">mozc</a></span><sup><small>AUR</small></sup> adapts to only IBus input method framework, <a rel="nofollow" class="external text" href="http://code.google.com/p/macuim/">macuim</a> provides <i>uim-mozc</i> plugin. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/uim-mozc/">uim-mozc</a></span><sup><small>AUR</small></sup> is for vanilla <i>mozc</i> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mozc-ut/">mozc-ut</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mozc-svn/">mozc-svn</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" title="ArchWiki:Requests">broken link</a>: archived in <a rel="nofollow" class="external text" href="https://github.com/felixonmars/aur3-mirror/tree/master/mozc-svn">aur-mirror</a>]</sup> can build <i>uim-mozc</i> itself (see <a href="../en/Input_Japanese_using_uim.html" title="Input Japanese using uim">Input Japanese using uim</a>). You can install <i>uim-mozc</i> from <a href="#Unofficial_user_repository">unofficial user repository</a> as well as vanilla <i>mozc</i>.
</p>
<h4><span class="mw-headline" id="mozc-ut">mozc-ut</span></h4>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mozc-ut/">mozc-ut</a></span><sup><small>AUR</small></sup> comes with <a rel="nofollow" class="external text" href="http://www.geocities.jp/ep3797/mozc_01.html">Mozc UT dictionary</a> and can build <i>uim-mozc</i>. The dictionary adds over 350,000 words into original.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>
<ul>
<li> Building <i>mozc-ut</i> requires long time to generate dictionary seed.</li>
<li> <i>mozc-ut</i> can work with <i>ibus-mozc</i>, <i>emacs-mozc</i> and <i>uim-mozc</i> of vanilla <i>mozc</i>. That is, you don't have to build such as modules of <i>mozc-ut</i> by the use of <a href="#Unofficial_user_repository">unofficial user repository</a>.</li>
</ul>
</div>
<p>To build uim-mozc, edit PKGBUILD like follow, i,e. uncomment <code>_uim_mozc=</code> line:
</p>
<pre>## If you will not be using ibus, comment out below.
_ibus_mozc="yes"
## If you will be using uim, uncomment below.
_uim_mozc="yes"
## If applying patch for uim-mozc fails, try to uncomment below.
#_kill_kill_line="yes"
## This will disable the 'kill-line' function of uim-mozc.
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDFFDD; border: thin solid #BBDDBB; overflow: hidden;">
<strong> Tip: </strong>If you will never be using ibus-mozc, comment out the <code>_ibus_mozc=</code> line.</div>
<h4><span class="mw-headline" id="mozc-svn">mozc-svn</span></h4>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mozc-svn/">mozc-svn</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" title="ArchWiki:Requests">broken link</a>: archived in <a rel="nofollow" class="external text" href="https://github.com/felixonmars/aur3-mirror/tree/master/mozc-svn">aur-mirror</a>]</sup> builds using the head of published svn repository and can build <i>uim-mozc</i> and <i>fcitx-mozc</i> plugin. You should not use <i>mozc-svn</i> unless you have any reason (e.g. for test).
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<h3><span class="mw-headline" id="IBus">IBus</span></h3>
<p><i>See also <a href="../en/IBus.html" title="IBus">IBus</a> for IBus configuration.</i>
</p>
<p>If you use Mozc by default, set it via <i>ibus-setup</i>:
</p>
<pre>$ ibus-setup
</pre>
<p>Choose <i>Input Method</i> tab and move <i>Mozc</i> to top of the list.
</p>
<p>You can switch input method by <code>Alt+Shift_L</code> (by IBus default).
</p>
<h3><span class="mw-headline" id="uim">uim</span></h3>
<p>Configure uim preferences by running :
</p>
<pre>$ uim-pref-gtk (Or, uim-pref-gtk3/uim-pref-qt4)
</pre>
<p>which brings forth a GUI.
</p>
<p>Choose your preferring input method as 'Default input method'.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Mozc will be not listed in 'Default input method' at first time so you will need to add it into 'Enabled input methods' to use.</div>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;">
<strong> Warning: </strong>You <b>must</b> run the following command whenever you upgrade or (re-)install <b>uim</b>.<br>
 # uim-module-manager --register mozc</div>
<h3><span class="mw-headline" id="Mozc_for_Emacs">Mozc for Emacs</span></h3>
<p>You can use mozc.el (mozc-mode) to input Japanese via LEIM (Library of Emacs Input Method). To use mozc-mode, write the following into your <code>.emacs.d/init.el</code> or some other file for Emacs customizing:
</p>
<pre>(require 'mozc)  ; or (load-file "/path/to/mozc.el")
(setq default-input-method "japanese-mozc")
</pre>
<p>mozc.el provides "overlay" mode in the styles of showing candidates (from mozc r77) which shows a candidate window in box style close to the point. If you want to use it by default, add the following:
</p>
<pre>(setq mozc-candidate-style 'overlay)
</pre>
<p><code>C-\</code> (<i>toggle-input-method</i>) enables and disables use of mozc-mode.
</p>
<h4><span class="mw-headline" id="Disabling_XIM_on_Emacs">Disabling XIM on Emacs</span></h4>
<p>When you are using input method on your desktop and assigning activation/deactivation of input method to C-SPC, you will be not able to use C-SPC/C-@ as set-mark-command on Emacs. To avoid this problem, add the following into your <code>~/.Xresources</code> or <code>~/.Xdefaults</code>. xim will be disabled on Emacs.
</p>
<pre>Emacs*UseXIM: false
</pre>
<h2><span class="mw-headline" id="Tips">Tips</span></h2>
<h3><span class="mw-headline" id="Confirming_Mozc_version_which_you_are_using_now">Confirming Mozc version which you are using now</span></h3>
<p>Type "ばーじょん" ("version") and convert it while activating Mozc. The version number of Mozc will be shown in the candidate list like follows:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"><u>ばーじょん</u>
</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">バージョン
ヴァージョン
ばーじょん
Mozc-1.6.1187.102  <i>⇐ Current version of Mozc</i>
...</pre>
<h3><span class="mw-headline" id="Launching_Mozc_tools_from_command_line">Launching Mozc tools from command line</span></h3>
<p>The followings are commands to launch mozc tools.
</p>
<ul>
<li> Mozc property: <code>$ /usr/lib/mozc/mozc_tool --mode=config_dialog</code>
</li>
<li> Mozc Dictionary Tool: <code>$ /usr/lib/mozc/mozc_tool --mode=dictionary_tool</code>
</li>
<li> Mozc Word Register: <code>$ /usr/lib/mozc/mozc_tool --mode=word_register_dialog</code>
</li>
<li> Mozc Hand Writing: <code>$ /usr/lib/mozc/mozc_tool --mode=hand_writing</code>
</li>
<li> Mozc Character Palette: <code>$ /usr/lib/mozc/mozc_tool --mode=character_palette</code>
</li>
</ul>
<h3><span class="mw-headline" id="Use_CapsLock_as_Eisu_toggle_key_on_ASCII_layout_keyboard">Use CapsLock as Eisu_toggle key on ASCII layout keyboard</span></h3>
<p>All of the preset keymap styles of Mozc, command <i>ToggleAlphanumericMode</i> on <i>Composition</i> mode is assigned to <code>Eisu</code> (Eisu_toggle), <code>Hiragana/Katakana</code> or <code>Muhenkan</code> key, but the ASCII keyboard has none of them.
</p>
<p>One of the solution for it is to use CapsLock key as Eisu_toggle (Mozc does not recognize CapsLock key as of r124). The following is way to assign the Eisu_toggle to <code>CapsLock</code> (without any modifier keys) and the Caps_Lock to <code>Shift+CapsLock</code>, like OADG keyboard layout.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;">
<strong> Warning: </strong>This way affects to desktop wide.</div>
<p>Edit the <code>~/.Xmodmap</code> as follows:
</p>
<pre>keycode 66 = Eisu_toggle Caps_Lock
clear Lock
</pre>
<p>Then, restart X or run xmodmap to apply immediately:
</p>
<pre>$ xmodmap ~/.Xmodmap
</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Building_Mozc_fails_.28process_is_killed.29">Building Mozc fails (process is killed)</span></h3>
<p>If build process is failed with like the following messages:
</p>
<pre>...
/bin/sh: line 1:  xxxx killed
...
make: *** [xxx/xxx...] error 137
...
</pre>
<p>Make sure whether you have run out of memory.
</p>
<h3><span class="mw-headline" id="New_version_of_Mozc_does_not_appear_though_I_upgraded_Mozc_and_restarted_X_or_IBus_.28not_rebooted.29">New version of Mozc does not appear though I upgraded Mozc and restarted X or IBus (not rebooted)</span></h3>
<p>Old version of Mozc may be still on your memory. Try to kill existing <i>mozc_server</i> process:
</p>
<pre>$ killall mozc_server
</pre>
</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Internationalization.html" title="Category:Internationalization">Internationalization</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li></ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
