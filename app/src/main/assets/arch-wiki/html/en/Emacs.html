<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Emacs - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Emacs skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Emacs</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p><a href="https://en.wikipedia.org/wiki/Emacs" class="extiw" title="wikipedia:Emacs">Emacs</a> is an extensible, customizable, self-documenting real-time display editor. At the core of Emacs lies an <a href="https://en.wikipedia.org/wiki/Emacs_Lisp" class="extiw" title="wikipedia:Emacs Lisp">Emacs Lisp</a> interpreter, the language in which the majority of Emacs' built-in functionality and extensions are implemented. GTK is the default X toolkit used as of GNU Emacs 22, though it functions equally well within a CLI environment. The text-editing capabilities of Emacs are often compared to that of <a href="../en/Vim.html" title="Vim">vim</a>.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Running_Emacs"><span class="tocnumber">2</span> <span class="toctext">Running Emacs</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Normal_way"><span class="tocnumber">2.1</span> <span class="toctext">Normal way</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#No_Colors"><span class="tocnumber">2.2</span> <span class="toctext">No Colors</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#As_a_daemon"><span class="tocnumber">2.3</span> <span class="toctext">As a daemon</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#As_a_systemd_unit"><span class="tocnumber">2.4</span> <span class="toctext">As a systemd unit</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7">
<a href="#Usage"><span class="tocnumber">3</span> <span class="toctext">Usage</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#The_manuals"><span class="tocnumber">3.1</span> <span class="toctext">The manuals</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#Tips_and_tricks"><span class="tocnumber">4</span> <span class="toctext">Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#TRAMP"><span class="tocnumber">4.1</span> <span class="toctext">TRAMP</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Using_Emacs_as_git_mergetool"><span class="tocnumber">4.2</span> <span class="toctext">Using Emacs as git mergetool</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Using_Caps_Lock_as_Control_key"><span class="tocnumber">4.3</span> <span class="toctext">Using Caps Lock as Control key</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Multiplexing_emacs_and_emacsclient"><span class="tocnumber">4.4</span> <span class="toctext">Multiplexing emacs and emacsclient</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Multiple_configurations"><span class="tocnumber">4.5</span> <span class="toctext">Multiple configurations</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Local_and_custom_variables"><span class="tocnumber">4.6</span> <span class="toctext">Local and custom variables</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Custom_colors_and_theme"><span class="tocnumber">4.7</span> <span class="toctext">Custom colors and theme</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#SyncTeX_support"><span class="tocnumber">4.8</span> <span class="toctext">SyncTeX support</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Syntax_highlighting_for_systemd_Files"><span class="tocnumber">4.9</span> <span class="toctext">Syntax highlighting for systemd Files</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Clipboard_support_for_emacs-nox"><span class="tocnumber">4.10</span> <span class="toctext">Clipboard support for emacs-nox</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-20"><a href="#Extensions"><span class="tocnumber">5</span> <span class="toctext">Extensions</span></a></li>
<li class="toclevel-1 tocsection-21">
<a href="#Troubleshooting"><span class="tocnumber">6</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-22"><a href="#Colored_output_issues"><span class="tocnumber">6.1</span> <span class="toctext">Colored output issues</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Menus_appear_empty"><span class="tocnumber">6.2</span> <span class="toctext">Menus appear empty</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Problems_displaying_characters_in_X_Windows"><span class="tocnumber">6.3</span> <span class="toctext">Problems displaying characters in X Windows</span></a></li>
<li class="toclevel-2 tocsection-25">
<a href="#Slow_startup"><span class="tocnumber">6.4</span> <span class="toctext">Slow startup</span></a>
<ul>
<li class="toclevel-3 tocsection-26"><a href="#When_network_is_limited"><span class="tocnumber">6.4.1</span> <span class="toctext">When network is limited</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-27"><a href="#Cannot_open_load_file:_..."><span class="tocnumber">6.5</span> <span class="toctext">Cannot open load file: ...</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Dead-accent_keys_problem:_.27.3Cdead-acute.3E_is_undefined.27"><span class="tocnumber">6.6</span> <span class="toctext">Dead-accent keys problem: '&lt;dead-acute&gt; is undefined'</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#C-M-.25_and_some_other_bindings_do_not_work_in_emacs_nox"><span class="tocnumber">6.7</span> <span class="toctext">C-M-% and some other bindings do not work in emacs nox</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#Emacs_client_gets_stuck_when_switching_back_to_it"><span class="tocnumber">6.8</span> <span class="toctext">Emacs client gets stuck when switching back to it</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Emacs-nox_output_gets_messy"><span class="tocnumber">6.9</span> <span class="toctext">Emacs-nox output gets messy</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#Shift_.2B_Arrow_keys_not_working_in_emacs_within_tmux"><span class="tocnumber">6.10</span> <span class="toctext">Shift + Arrow keys not working in emacs within tmux</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#Improper_window_resizing_in_KDE"><span class="tocnumber">6.11</span> <span class="toctext">Improper window resizing in KDE</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-34">
<a href="#Alternatives"><span class="tocnumber">7</span> <span class="toctext">Alternatives</span></a>
<ul>
<li class="toclevel-2 tocsection-35"><a href="#mg"><span class="tocnumber">7.1</span> <span class="toctext">mg</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#zile"><span class="tocnumber">7.2</span> <span class="toctext">zile</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#uemacs"><span class="tocnumber">7.3</span> <span class="toctext">uemacs</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-38"><a href="#See_also"><span class="tocnumber">8</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Emacs comes in several variants (sometimes referred to as <i>emacsen</i>). The most common of these is <a rel="nofollow" class="external text" href="http://www.gnu.org/software/emacs/">GNU Emacs</a>.
</p>
<p><a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">Install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=emacs">emacs</a></span>, available in the <a href="../en/Official_repositories.html" title="Official repositories">official repositories</a>. If you usually work in a terminal, you may prefer the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=emacs-nox">emacs-nox</a></span> variant without GTK+ (nor sound and other fancy stuff).
Be aware that the text version comes with some drawbacks: it supports less colors and less features for font handling (size change in live, various sizes in one document, and so on). Besides, emacs-nox has some limitation with advanced features like the Speedbar or GUD (the debugging environment), and is somewhat slower when handling complex faces (a "face" is the visual appearance of text in Emacs).
</p>
<p>If you want to fully enjoy all the extended features of Emacs without installing a daunting amount of dependencies, you can use the PKGBUILD to customize your needs. Using anything else than <code>gtk3</code> you can get rid of gconf. Image and sound support can be disabled as well. Run <code>./configure --help</code> in Emacs source folder to list all available options.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">PKGBUILD</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
# ...
  ./configure --prefix=/usr --sysconfdir=/etc --libexecdir=/usr/lib \
    --localstatedir=/var --with-x-toolkit=gtk2 --with-xft \
    --without-gconf --without-sound
# ...
</pre>
<p>Another common variant is <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xemacs/">xemacs</a></span><sup><small>AUR</small></sup>.
</p>
<h2><span class="mw-headline" id="Running_Emacs">Running Emacs</span></h2>
<p>Before launching emacs, you should know how to close it (especially if you run it in a terminal): use the
<code>Ctrl+x</code><code>Ctrl+c</code> key sequence.
</p>
<h3><span class="mw-headline" id="Normal_way">Normal way</span></h3>
<p>To start Emacs run:
</p>
<pre>$ emacs
</pre>
<p>or, to use it from the console:
</p>
<pre>$ emacs -nw
</pre>
<p>or, for fast loading (no .emacs) and editing within CLI:
</p>
<pre>$ emacs -Q -nw
</pre>
<p>If you installed the nox version, 'emacs' and 'emacs -nw' will be the same.
</p>
<p>A file name can also be provided to open that file immediately:
</p>
<pre>$ emacs filename.txt
</pre>
<h3><span class="mw-headline" id="No_Colors">No Colors</span></h3>
<p>By default, Emacs starts with a color theme showing hyperlinks in dark blue. To start Emacs without any color theme or scheme:
</p>
<pre>$ emacs -nw --color=no
</pre>
<p>This will cause all text to appear in white color only.
</p>
<h3><span class="mw-headline" id="As_a_daemon">As a daemon</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" width="48" height="48"></a><b>This article or section needs language, wiki syntax or style improvements.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> For most purposes this could be described in two sentences (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Emacs">Talk:Emacs#</a>)</div>
</div>
<p>Emacs can take some time to start since it has to load the <code>.emacs</code> file each time. Besides, you may want to access the same files from different instances. Since version 23, Emacs is able to run as a daemon to which users can connect. To run Emacs as a daemon:
</p>
<pre>$ emacs --daemon
</pre>
<p>You are likely to start the daemon at startup time and to connect a window to the daemon. Besides, it is possible to connect <i>both</i> graphical and console clients to the daemon at the same time and make the GUI to start quickly.
</p>
<p>If you want to connect to the daemon simply use the following command (note that it will start a graphical client if called in a graphical environment or a console client if called in a console like a tty):
</p>
<pre>$ emacsclient
</pre>
<p>If you merely want a console client despite being in a graphical environment then use:
</p>
<pre>$ emacsclient -t
</pre>
<p>Furthermore, you can add the <code>-a ""</code> parameter.
Now, the first time you call the command, it will start emacs as a daemon, so that it remains running in background and so improving startup times for future calls (and to remember buffers as well).
</p>
<p>If you start the client from a terminal or another program, you may want not to wait for it to return, so that you can continue using the calling program and even close it without closing the Emacs client.
To do so, start the client with the <code>-n</code> (<code>--no-wait</code>) parameter:
</p>
<pre>$ emacsclient -nc
</pre>
<p>Note that some programs such as Mutt or Git (for commit messages) wait for the editor to finish, so you cannot use the <code>-n</code> parameter.
If your default editor is set to use it, you will have to specify an alternate editor (<i>e.g.</i> <code>emacsclient -a "" -t</code>) for those programs.
</p>
<p>You could use the following shell configuration:
</p>
<pre>alias emt='emacsclient -nc -a ""'
alias emc='emacsclient -t -a ""'
EDITOR='emacsclient -a ""'</pre>
<p>but it has some caveats: many program will fail to load the external editor because of the spaces in the command.
</p>
<p>A more convenient and reliable solution is to write your own script:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/local/bin/emc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
#!/bin/sh
if [ -z "$DISPLAY" ]; then
    IS_GRAPHICAL=true
else
    IS_GRAPHICAL=$(emacs --batch -Q --eval='(if (fboundp '"'"'tool-bar-mode) (message "true") (message "false"))' 2&gt;&amp;1)
fi

if $IS_GRAPHICAL; then
    emacsclient -a "" -nc "$@"
else
    emacsclient -a "" -t "$@"
fi
</pre>
<p>then make it executable:
</p>
<pre># chmod 755 /usr/local/bin/emc
</pre>
<p>Now 'emc' will work just as expected. Setting the <code>EDITOR</code> environment variable to the aforementionned script should suffice to make the client be your defaut editor.
</p>
<h3><span class="mw-headline" id="As_a_systemd_unit">As a systemd unit</span></h3>
<p>The old system unit method had some caveats. It gave a limited shell environment which restricted shell calls, so we'll be using a user unit, which tends to work a lot better than naively calling <i>emacs --daemon</i>.
</p>
<p>Create a systemd unit for emacs:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/systemd/user/emacs.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
[Unit]
Description=Emacs: the extensible, self-documenting text editor

[Service]
Type=forking
ExecStart=/usr/bin/emacs --daemon
ExecStop=/usr/bin/emacsclient --eval "(kill-emacs)"
Restart=always

[Install]
WantedBy=default.target
</pre>
<p>You need to enable the unit so that it gets started on every boot (note - DO <i>NOT</i> run these commands as root - we want them for our user, not for the root user):
</p>
<pre>$ systemctl --user enable emacs
</pre>
<p>To actually use the unit, either reboot or start the unit manually:
</p>
<pre>$ systemctl --user start emacs
</pre>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>Although Emacs is complex, it will not take long to begin to understand the benefits which the level of customization and extensibility bring. Furthermore, the comprehensive variety of extensions already available allows  it to be transformed into a powerful environment for almost any form of text-editing.
</p>
<p>Emacs has an excellent built-in tutorial which can be accessed by clicking the first link on the splash screen; by selecting <i>Help-&gt;Emacs Tutorial</i> from the menu or by pressing 'F1' followed by 't'.
</p>
<p>Emacs is self-documenting by design.  As such, a great deal of information is available to determine the name of a specific command or its keybinding, for example. See all contextual help bindings with <b>C-h C-h</b>.
</p>
<p>Emacs also includes a set of reference cards, useful for beginners and experts alike, see <code>/usr/share/emacs/&lt;version&gt;/etc/refcards/</code> (substitute &lt;version&gt; for your version of emacs).
</p>
<p>Emacs empowers the users with a tremendous amount of features, including:
keyboards macros, rectangular regions, whitespace cleanup, bookmarks, desktop session, various shells, spell checking, tables, semantic analysis...
</p>
<h3><span class="mw-headline" id="The_manuals">The manuals</span></h3>
<p>If you really want to master Emacs, the most recommended source of documentation remains the official manuals:
</p>
<ul>
<li> Emacs: the complete Emacs user manual.</li>
<li> Emacs FAQ.</li>
<li> Emacs Lisp Intro: if you never used any programming language before.</li>
<li> Elisp: if you are already familiar with a programming language.</li>
</ul>
<p>You can access it as PDFs from <a rel="nofollow" class="external text" href="http://www.gnu.org/software/emacs/manual/">GNU.org</a> or directly from Emacs itself thanks to the embedded 'info' reader: <b>C-h i</b>. Press <b>m</b> to choose a book.
</p>
<p>Some users prefer to read books using 'info' because of its convenient shortcuts, its paragraphs adapting to window width and the font adapted to current screen resolution. Some find it less irritating to the eyes. Finally you can easily copy content from the book to any Emacs buffer, and you can even execute Lisp code snippets directly from the examples.
</p>
<p>You may want to read the <b>Info</b> book to know more about it: <b>C-h i m info &lt;RET&gt;</b>.
Press <b>?</b> while in info mode for a quick list of shortcuts.
</p>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="TRAMP">TRAMP</span></h3>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;">
<strong> Warning: </strong>Using TRAMP with root permissions will cause <code>/dev/null</code> to be deleted after some time. <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/47912">FS#47912</a> To prevent this, use the patch provided in the bug report, or replace <code>/bin/sh</code> with a link to <code>/bin/dash</code>. See <a href="../en/Dash.html#Relinking_.2Fbin.2Fsh" title="Dash">Dash#Relinking /bin/sh</a>.</div>
<p>TRAMP (Transparent Remote Access, Multiple Protocols) is an extension which, as its name suggests, provides transparent access to remote files across a number of protocols.  When prompted for a filename, entering a specific form will invoke TRAMP.  Some examples:
</p>
<p>To prompt for the root password before opening /etc/hosts with root permissions:
</p>
<pre>C-x C-f /su::/etc/hosts
</pre>
<p>To connect to 'myhost' as 'myuser' via SSH and open the file ~/example.txt:
</p>
<pre>C-x C-f /ssh:myuser@myhost:~/example.txt
</pre>
<p>The path for TRAMP is typically of the form '/[protocol]:[[user@]host]:&lt;file&gt;'.  TRAMP supports much more than the examples above might indicate.  For more information refer to the TRAMP info manual, which is distributed with Emacs.
</p>
<h3><span class="mw-headline" id="Using_Emacs_as_git_mergetool">Using Emacs as git mergetool</span></h3>
<p>By default, Git provides support for using Emacs' Emerge mode as a merge tool. However you may prefer the Ediff mode. Unfortunately this mode is not supported by git for technical reasons. There is still a way to use it by evaluating some elisp code upon emacs call.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">.gitconfig</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
[mergetool.ediff]
    cmd = emacs --eval \" (progn (defun ediff-write-merge-buffer () (let ((file ediff-merge-store-file)) (set-buffer ediff-buffer-C) (write-region (point-min) (point-max) file) (message \\\"Merge buffer saved in: %s\\\" file) (set-buffer-modified-p nil) (sit-for 1))) (setq ediff-quit-hook 'kill-emacs ediff-quit-merge-hook 'ediff-write-merge-buffer) (ediff-merge-files-with-ancestor \\\"$LOCAL\\\" \\\"$REMOTE\\\" \\\"$BASE\\\" nil \\\"$MERGED\\\"))\" 

[merge]
	tool = ediff
</pre>
<p>Note that the command has to be on a single line.
In the above example, we launch a new instance of Emacs. You might want to use emacsclient for quicker startup; it is not recommended though since the Ediff call is not really clean: it could mess with your current Emacs session.
</p>
<p>If you want an instant startup you can use the <b>-q</b> parameter. If you want to launch Emacs quickly while preserving at least a part of your configuration, you can call Emacs with
</p>
<pre> emacs -q -l ~/.emacs-light
</pre>
<p>where the light configuration file loads only what you need for Ediff.
</p>
<p>See <a rel="nofollow" class="external text" href="http://kerneltrap.org/mailarchive/git/2007/7/1/250424">kerneltrap.org</a> and <a rel="nofollow" class="external text" href="http://stackoverflow.com/questions/1817370/using-ediff-as-git-mergetool">stackoverflow</a> for more details on this trick and the Ediff issue.
</p>
<h3><span class="mw-headline" id="Using_Caps_Lock_as_Control_key">Using Caps Lock as Control key</span></h3>
<p>Some users like this behavior to avoid the so-called 'emacs pinky'. If you want to try it on X, just run 
</p>
<pre>$ setxkbmap -option 'ctrl:nocaps'
</pre>
<p>Alternatively, to <b>swap</b> these keys, run
</p>
<pre>$ setxkbmap -option 'ctrl:swapcaps'
</pre>
<p>To set this permanently, consider adding it to your <code>.xinitrc</code> file. 
</p>
<p>Now, if you ever need to upcase an region, just use the default <code>C-x C-u</code> keybinding, which calls the <code>upcase-region</code> function.
</p>
<p>See <a rel="nofollow" class="external autonumber" href="http://ergoemacs.org/emacs/swap_CapsLock_Ctrl.html">[1]</a> for an alternative approach.
</p>
<p>If you are missing your Caps Lock function, map it as both "Shift" at same time.
</p>
<pre>$ setxkbmap -option "shift:both_capslock"
</pre>
<h3><span class="mw-headline" id="Multiplexing_emacs_and_emacsclient">Multiplexing emacs and emacsclient</span></h3>
<p>Opening a new file in the same <code>emacs-session</code> requires the use of <code>emacsclient</code>. <code>emacs</code> command can be itself wrapped to do the smarter job to open the file if the session exists.
</p>
<p>To start session you need to <code>start-server</code>. This snippet will create server in first session of emacs. Add this to your <code>emacs</code> configuration file.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">.emacs or .emacs.d/init.el</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
(require 'server)
(unless (server-running-p)
  (server-start))
</pre>
<p>Shell alias method is not adequate for this since you also need to pass variables or start the independent session of your own. Add this to the <code>.bashrc</code> or any rc file of your shell. This will make your <code>$ emacs</code> command behave like emacsclient if the argument is passed.
</p>
<pre>
function emacs {
    if [[ $# -eq 0 ]]; then
        /usr/bin/emacs # "emacs" is function, will cause recursion
        return
    fi
    args=($*)
    for ((i=0; i &lt;= ${#args}; i++)); do
        local a=${args[i]}
        # NOTE: -c for creating new frame
        if [[ ${a:0:1} == '-' &amp;&amp; ${a} != '-c' ]]; then
            /usr/bin/emacs ${args[*]}
            return
        fi
    done
    setsid emacsclient -n -a /usr/bin/emacs ${args[*]}
} 
</pre>
<p>If you want to run the it in new session just do <code>emacs &lt;file&gt; -</code>.
</p>
<h3><span class="mw-headline" id="Multiple_configurations">Multiple configurations</span></h3>
<p>You can use several configurations and tell Emacs to load one or the other.
</p>
<p>For example, let's define two configuration files.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">.emacs</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
(load "~/.emacs.d/main" nil t)
(load "~/.emacs.d/functions" nil t)
(load "~/.emacs.d/modes" nil t)
(load "~/.emacs.d/plugins" nil t)
(load "~/.emacs.d/theme" nil t)
</pre>
<p>This is the full configuration  we load for the daemon. But the <i>plugins</i> file is huge and slow to load. If we want to spaqn a new Emacs instance that does not need the <i>plutings</i> features, it can be cumbersome to load it everytime in the long time.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">.emacs-light</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
(load "~/.emacs.d/main" nil t)
(load "~/.emacs.d/functions" nil t)
(load "~/.emacs.d/modes" nil t)
(load "~/.emacs.d/theme" nil t)
</pre>
<p>And now we launch Emacs with
</p>
<pre>emacs -q -l ~/.emacs-light
</pre>
<p>You can create an alias to ease the call.
</p>
<h3><span class="mw-headline" id="Local_and_custom_variables">Local and custom variables</span></h3>
<p>You can define variables in your configuration file that can be later one modified locally for a file.
</p>
<pre>(defcustom my-compiler "gcc" "Some documentation")
</pre>
<p>Now in any file you can define local variables in two ways:
</p>
<ul><li> On the very first line, write</li></ul>
<pre>// -*- my-compiler:g++; mode:c++ -*-
</pre>
<ul><li> If you cannot (or do not want to) write this on the first line, you can put it at the end:</li></ul>
<pre>// Local Variables:
// my-compiler: g++
// mode: c++
// End:
</pre>
<p>Note that the beginning characters need to be comments for the current language, that's why here we used two backslashes for C++. For Elisp you would use
</p>
<pre>;; -*- mode:emacs-lisp -*-
</pre>
<p>There is two functions that may help you in defining the variables: <i>add-file-local-variable</i> and <i>add-file-local-variable-prop-line</i>.
</p>
<p>Finally, custom variable are considered insecure by default. If you try to open a file that contains local variable redefining insecure custom variables, Emacs will ask you for confirmation.
</p>
<p>If you know what you are doing, you can declare the variable as secure, thus removing the Emacs prompt for confirmation. You need to specify a predicate that any new value has to verify so that it can be considered safe.
</p>
<pre>(defcustom my-compiler "gcc" "Some documentation" :safe 'stringp)
</pre>
<p>In the previous example, if you attempt to set anything else than a string, Emacs will consider it insecure.
</p>
<h3><span class="mw-headline" id="Custom_colors_and_theme">Custom colors and theme</span></h3>
<p>Colors can be easily customized using the <i>face</i> facility.
</p>
<pre>(set-face-background  'region                 "color-17")
(set-face-foreground  'region                 "white")
(set-face-bold-p      'font-lock-builtin-face t ) 
</pre>
<p>You can have let Emacs tell you the name of the face where the point is. Use the <i>customize-face</i> function for that. The facility will show you how to set colors, bold, underline, etc.
</p>
<p>Emacs in console can handle 256 colors, but you will have to use an appropriate terminal for that. For instance URxvt has support for 256 colors. You can use the <i>list-colors-display</i> for a comprehensive list of supported colors. This is highly terminal-dependent.
</p>
<p>See also:
</p>
<ul>
<li> <a rel="nofollow" class="external free" href="https://www.emacswiki.org/emacs/ColorThemes">https://www.emacswiki.org/emacs/ColorThemes</a>
</li>
<li> <a rel="nofollow" class="external free" href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Custom-Themes.html">https://www.gnu.org/software/emacs/manual/html_node/emacs/Custom-Themes.html</a>
</li>
</ul>
<h3><span class="mw-headline" id="SyncTeX_support">SyncTeX support</span></h3>
<p>Emacs is a powerful LaTeX editor. This is mostly due to the fact you can adapt or create a LaTeX mode to fit your needs best.
</p>
<p>Still, there might be some challenges, like SyncTeX support. First you need to make sure your TeX distribution has it. If you installed TeX Live manually, you may need to install the <i>synctex</i> package.
</p>
<pre># umask 022 &amp;&amp; tlmgr install synctex
</pre>
<p>SyncTeX support is viewer-dependent. Here we will use Zathura as an example, so the code needs to be adapted if you want to use another PDF viewer.
</p>
<pre>(defcustom tex-my-viewer "zathura --fork -s -x \"emacsclient --eval '(progn (switch-to-buffer  (file-name-nondirectory \"'\"'\"%{input}\"'\"'\")) (goto-line %{line}))'\"" 
  "PDF Viewer for TeX documents. You may want to fork the viewer
so that it detects when the same document is launched twice, and
persists when Emacs gets closed.

Simple command:

  zathura --fork

We can use

  emacsclient --eval '(progn (switch-to-buffer  (file-name-nondirectory \"%{input}\")) (goto-line %{line}))'

to reverse-search a pdf using SyncTeX. Note that the quotes and double-quotes matter and must be escaped appropriately."
:safe 'stringp)
</pre>
<p>Here we define our custom variable. If you are using AucTeX or Emacs default LaTeX-mode, you will have to set the viewer accordingly.
</p>
<p>Now open a LaTeX source file with Emacs, compile the document, and launch the viewer. Zathura will spawn. If you press <code>Ctrl+Left click</code> Emacs should place the point at the corresponding position.
</p>
<h3><span class="mw-headline" id="Syntax_highlighting_for_systemd_Files">Syntax highlighting for systemd Files</span></h3>
<p>You can use <a rel="nofollow" class="external text" href="https://github.com/holomorph/systemd-mode">systemd-mode</a>.
</p>
<p>Alternatively, you can simply tell emacs to colour systemd files (services, timer, etc.), by adding this to your init file:
</p>
<pre> (add-to-list 'auto-mode-alist '("\\.service\\'" . conf-unix-mode))
 (add-to-list 'auto-mode-alist '("\\.timer\\'" . conf-unix-mode))
 (add-to-list 'auto-mode-alist '("\\.target\\'" . conf-unix-mode))
 (add-to-list 'auto-mode-alist '("\\.mount\\'" . conf-unix-mode))
 (add-to-list 'auto-mode-alist '("\\.automount\\'" . conf-unix-mode))
 (add-to-list 'auto-mode-alist '("\\.slice\\'" . conf-unix-mode))
 (add-to-list 'auto-mode-alist '("\\.socket\\'" . conf-unix-mode))
 (add-to-list 'auto-mode-alist '("\\.path\\'" . conf-unix-mode))
 (add-to-list 'auto-mode-alist '("\\.netdev\\'" . conf-unix-mode))
 (add-to-list 'auto-mode-alist '("\\.network\\'" . conf-unix-mode))
 (add-to-list 'auto-mode-alist '("\\.link\\'" . conf-unix-mode))
 (add-to-list 'auto-mode-alist '("\\.automount\\'" . conf-unix-mode))
</pre>
<h3><span class="mw-headline" id="Clipboard_support_for_emacs-nox">Clipboard support for emacs-nox</span></h3>
<p>To use the <a href="../en/Xorg.html" title="Xorg">Xorg</a> clipboard in emacs-nox, <a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=xclip">xclip</a></span> and add the following function to <code>~/.emacs</code> <a rel="nofollow" class="external autonumber" href="https://lists.gnu.org/archive/html/help-gnu-emacs/2014-08/msg00189.html">[2]</a>
</p>
<pre>;; use xclip to copy/paste in emacs-nox
(unless window-system
  (when (getenv "DISPLAY")
    (defun xclip-cut-function (text &amp;optional push)
      (with-temp-buffer
	(insert text)
	(call-process-region (point-min) (point-max) "xclip" nil 0 nil "-i" "-selection" "clipboard")))
    (defun xclip-paste-function()
      (let ((xclip-output (shell-command-to-string "xclip -o -selection clipboard")))
	(unless (string= (car kill-ring) xclip-output)
	  xclip-output )))
    (setq interprogram-cut-function 'xclip-cut-function)
    (setq interprogram-paste-function 'xclip-paste-function)
    ))</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDFFDD; border: thin solid #BBDDBB; overflow: hidden;">
<strong> Tip: </strong>You may also enable terminal mouse support by adding:
<pre>;; xterm mouse support
(require 'mouse)
(xterm-mouse-mode t)</pre>
See also <a rel="nofollow" class="external text" href="http://www.opensource.apple.com/source/emacs/emacs-51/emacs/lisp/mwheel.el">mwheel.el</a>.</div>
<h2><span class="mw-headline" id="Extensions">Extensions</span></h2>
<p>Emacs includes hundreds of modes, libraries and other extensions, with many more available to further Emacs' capabilities. Most of these come with instructions detailing any changes needed to be made in <code>~/.emacs</code>.  These instructions are generally found in the comment block at the beginning of an elisp source file, or in a README (or similar), should the extension consist of multiple source files.
</p>
<p>You can use the <a rel="nofollow" class="external text" href="http://tromey.com/elpa/">Emacs Lisp Package Archive (ELPA)</a> to automatically install packages.  See the manual for instructions.  ELPA is included with Emacs 24 and above; it is an accepted part of the Emacs ecosystem. Also, check out the <a rel="nofollow" class="external text" href="http://marmalade-repo.org/">Marmalade</a> and <a rel="nofollow" class="external text" href="http://melpa.milkbox.net/">MELPA</a> repos.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDFFDD; border: thin solid #BBDDBB; overflow: hidden;">
<strong> Tip: </strong>Use <code>M-x list-packages</code> to get a list of available packages for installation.</div>
<p>A number of popular extensions are available as packages in the 'community' repository, and more still, via <a href="../en/Arch_User_Repository.html" title="AUR" class="mw-redirect">AUR</a>.  The name of such packages have a 'emacs-' prefix (for example, emacs-lua-mode).  In many cases, the changes which need to be made in <code>~/.emacs</code> are shown during the installation of the package.
</p>
<p>You can load extensions using the <i>require</i> function. For instance
</p>
<pre>(require 'mediawiki)
</pre>
<p>If you try using the same configuration file on a machine where the extension is not installed, Emacs will primpt for an error. Besides, all extension-specific code would be parsed for nothing.
</p>
<p>The trick is to test the return value of <i>require</i>:
</p>
<pre>(when (require 'mediawiki nil t)
  (setq mediawiki-site-alist
        '(("ArchLinux" "<a rel="nofollow" class="external free" href="https://wiki.archlinux.org/">https://wiki.archlinux.org/</a>" "UserName" "" "Main Page")))
  (setq mediawiki-mode-hook
        (lambda ()
          (visual-line-mode 1)
          (turn-off-auto-fill)))))
</pre>
<p>Should instructions describing how to activate a specific extension not be available in the aforementioned location(s), check for a corresponding page in the <a rel="nofollow" class="external text" href="http://emacswiki.org/">Emacs Wiki</a>, which will almost certainly provide an example configuration.  The Emacs Wiki is also an excellent resource for discovering even more extensions.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDFFDD; border: thin solid #BBDDBB; overflow: hidden;">
<strong> Tip: </strong>A few popular extensions worth checking out: AucTeX, auto-complete, company, el-doc, emms, helm, Magit, multiple-cursors, Org-mode, Projectile, yasnippet.</div>
<p>Since we are at it, you may be a contributor to Arch Linux Wiki, or any Mediawiki-based website. Then emacs will become your best friend thanks to the <a href="../en/Mediawiki-el.html" title="Emacs Mediawiki" class="mw-redirect">Emacs Mediawiki</a> extension. Check the dedicated page for more details.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Colored_output_issues">Colored output issues</span></h3>
<p>By default, the Emacs shell will show raw escape sequences used to print colors. In other words, it will display strange symbols in place of the desired colored output.
</p>
<p>Including the following into <code>~/.emacs</code> amends the problem:
</p>
<pre>(add-hook 'shell-mode-hook 'ansi-color-for-comint-mode-on)
</pre>
<h3><span class="mw-headline" id="Menus_appear_empty">Menus appear empty</span></h3>
<p>A bug exists in GNU Emacs 23.1 (using the GTK toolkit) which may cause some menus to appear empty.  This appears to be fixed in Emacs' CVS trunk.  The corresponding <a rel="nofollow" class="external text" href="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=550541">Debian bug report</a> contains a workaround.
</p>
<h3><span class="mw-headline" id="Problems_displaying_characters_in_X_Windows">Problems displaying characters in X Windows</span></h3>
<p>If when you start emacs in X windows all the characters in the main window are white boxes with black borders (the ones you see if you try to view characters for which you do not have the correct font installed), you need to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=xorg-fonts-75dpi">xorg-fonts-75dpi</a></span> and/or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=xorg-fonts-100dpi">xorg-fonts-100dpi</a></span> and restart X windows.
</p>
<h3><span class="mw-headline" id="Slow_startup">Slow startup</span></h3>
<p>Slow startup times are often caused by one of two things.
</p>
<p>To determine which it might be, run Emacs with:
</p>
<pre>$ emacs -q
</pre>
<ul><li> Mistakes, particularly in /etc/hosts, will often result in a 5+ second delay when starting Emacs.  Refer to '<a href="../en/Network_configuration.html#Set_the_hostname" title="Configuring network" class="mw-redirect">set the hostname</a>' in the network configuration guide for information. </li></ul>
<ul><li> You may need to monitor any network packets sent from your computer (using a program like Wireshark) to see if there is any strange behavior.</li></ul>
<ul><li> A simple way to search for the cause is to comment-out (i.e., prefix lines with ';') suspect sections of your <code>~/.emacs</code> (or <code>~/.emacs.d/init.el</code>) then start Emacs again to see if there's any change.  Keep in mind use of "require" and "load" can slow the startup down, especially when used with larger extensions.  They should, as a rule, only be used when their target is either: needed once Emacs starts or provides little more than "autoloads" for an extension.  Otherwise, use the 'autoload function directly.  For example, instead of:</li></ul>
<pre>(require 'anything)
</pre>
<p>you might use:
</p>
<pre>(autoload 'anything "anything" "Select anything" t)
</pre>
<h4><span class="mw-headline" id="When_network_is_limited">When network is limited</span></h4>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" width="48" height="48"></a><b>This article or section is out of date.</b><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Fixed in Emacs 25.1 (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Emacs">Talk:Emacs#</a>)</div>
</div>
<p>Some packages depending on Tramp (e.g. Helm, Magit) will cause slow startup on limited network connections.
</p>
<p>Add the following to your <code>.emacs</code> <i>before</i> loading the offending packages:
</p>
<pre>(setq tramp-ssh-controlmaster-options
      "-o ControlMaster=auto -o ControlPath='tramp.%%C' -o ControlPersist=no")
</pre>
<h3><span class="mw-headline" id="Cannot_open_load_file:_...">Cannot open load file: ...</span></h3>
<p>The most common cause of this error is the 'load-path' variable not including the path to the directory within which the extension is located.  To solve this, add the appropriate path to the list to be searched prior to attempting to load the extension:
</p>
<pre> (add-to-list 'load-path "/path/to/directory/")
</pre>
<p>When attempting to use packages for extensions and Emacs has been configured with a prefix other than '/usr', the load-path will need to be updated.  Place the following in <code>~/.emacs</code> prior to the instructions provided by the package:
</p>
<pre> (add-to-list 'load-path "/usr/share/emacs/site-lisp")
</pre>
<p>If compiling Emacs by hand, keep in mind that the default prefix is '/usr/local'.
</p>
<h3><span class="mw-headline" id="Dead-accent_keys_problem:_.27.3Cdead-acute.3E_is_undefined.27">Dead-accent keys problem: '&lt;dead-acute&gt; is undefined'</span></h3>
<p>Searching about this bug on Google, we find this link:
<a rel="nofollow" class="external free" href="http://lists.gnu.org/archive/html/help-gnu-emacs/2009-05/msg00167.html">http://lists.gnu.org/archive/html/help-gnu-emacs/2009-05/msg00167.html</a>
</p>
<p>Explaining the problem: in recent versions of
b72
</p>
<pre>Emacs, the normal way to use accent keys doesn't work as expected. Trying to accent a word like 'fiancé' will produce the message above.
</pre>
<p>A way to solve it is just put the line above on your startup file, <code>~/.emacs</code>:
</p>
<pre>  (require 'iso-transl)
</pre>
<p>And no, it isn't a bug, but a feature of new Emacs versions. Reading the subsequent messages about it on the mail list, we found it (<a rel="nofollow" class="external free" href="http://lists.gnu.org/archive/html/help-gnu-emacs/2009-05/msg00179.html">http://lists.gnu.org/archive/html/help-gnu-emacs/2009-05/msg00179.html</a>):
</p>
<dl><dd><i>It seems that nothing is loaded automatically because there is a choice betwee iso-transl and iso-acc. Both seem to provide an input method with C-x 8 or Alt-&lt;accent&gt; prefix, but what you and I are doing is just pressing a dead key (^, ´, `, ~, ¨) for the accent and then another key to "compose" the accented character. And there is no Alt key used in this! And according to documentation it seems be appropriate for 8-bit encodings, so it should be pretty useless in UTF-8. I reported this bug when it was introduced, but the bug seems to be classified as a feature ... Maybe it's just because the file is auto-loaded though pretty useless. </i></dd></dl>
<h3><span class="mw-headline" id="C-M-.25_and_some_other_bindings_do_not_work_in_emacs_nox">C-M-% and some other bindings do not work in emacs nox</span></h3>
<p>This is because terminals are more limited than Xorg. Some terminals may handle more bindings than other, though. Two solutions:
</p>
<ul>
<li> either use the graphical version,</li>
<li> or change the binding to a supported one.</li>
</ul>
<p>Example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">.emacs</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
(global-set-key (kbd "C-M-y") 'query-replace-regexp)
</pre>
<h3><span class="mw-headline" id="Emacs_client_gets_stuck_when_switching_back_to_it">Emacs client gets stuck when switching back to it</span></h3>
<p>If you are using Emacs daemon, then you should know that input is blocking. If one Emacs instance is in the minibuffer (after an <b>M-x</b> for instance), then all other instance will wait for it to finish. Press <b>C-g</b> to cancel any input to make sure this Emacs session is not blocking.
</p>
<h3><span class="mw-headline" id="Emacs-nox_output_gets_messy">Emacs-nox output gets messy</span></h3>
<p>When working in a terminal, the color, indentation, or anything related to the output might become crazy. This is (probably?) because Emacs was sent a special character at some point which may conflict with the current terminal.
There is not much to be done but restarting emacs. If someone has a workaround or a more detailed explanation on the issue, feel free to contribute.
</p>
<p>Graphical Emacs does not suffer from this issue.
</p>
<h3><span class="mw-headline" id="Shift_.2B_Arrow_keys_not_working_in_emacs_within_tmux">Shift + Arrow keys not working in emacs within tmux</span></h3>
<p>First you must enable xterm-keys in your <a href="../en/Tmux.html" title="Tmux">tmux</a> config.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">.tmux.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
setw -g xterm-keys on
</pre>
<p>But, this will break other key combinations. To fix them, put the following in your emacs config.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">.emacs</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
;; handle tmux's xterm-keys
;; put the following line in your ~/.tmux.conf:
;;   setw -g xterm-keys on
(if (getenv "TMUX")
    (progn
      (let ((x 2) (tkey ""))
	(while (&lt;= x 8)
	  ;; shift
	  (if (= x 2)
	      (setq tkey "S-"))
	  ;; alt
	  (if (= x 3)
	      (setq tkey "M-"))
	  ;; alt + shift
	  (if (= x 4)
	      (setq tkey "M-S-"))
	  ;; ctrl
	  (if (= x 5)
	      (setq tkey "C-"))
	  ;; ctrl + shift
	  (if (= x 6)
	      (setq tkey "C-S-"))
	  ;; ctrl + alt
	  (if (= x 7)
	      (setq tkey "C-M-"))
	  ;; ctrl + alt + shift
	  (if (= x 8)
	      (setq tkey "C-M-S-"))

	  ;; arrows
	  (define-key key-translation-map (kbd (format "M-[ 1 ; %d A" x)) (kbd (format "%s&lt;up&gt;" tkey)))
	  (define-key key-translation-map (kbd (format "M-[ 1 ; %d B" x)) (kbd (format "%s&lt;down&gt;" tkey)))
	  (define-key key-translation-map (kbd (format "M-[ 1 ; %d C" x)) (kbd (format "%s&lt;right&gt;" tkey)))
	  (define-key key-translation-map (kbd (format "M-[ 1 ; %d D" x)) (kbd (format "%s&lt;left&gt;" tkey)))
	  ;; home
	  (define-key key-translation-map (kbd (format "M-[ 1 ; %d H" x)) (kbd (format "%s&lt;home&gt;" tkey)))
	  ;; end
	  (define-key key-translation-map (kbd (format "M-[ 1 ; %d F" x)) (kbd (format "%s&lt;end&gt;" tkey)))
	  ;; page up
	  (define-key key-translation-map (kbd (format "M-[ 5 ; %d ~" x)) (kbd (format "%s&lt;prior&gt;" tkey)))
	  ;; page down
	  (define-key key-translation-map (kbd (format "M-[ 6 ; %d ~" x)) (kbd (format "%s&lt;next&gt;" tkey)))
	  ;; insert
	  (define-key key-translation-map (kbd (format "M-[ 2 ; %d ~" x)) (kbd (format "%s&lt;delete&gt;" tkey)))
	  ;; delete
	  (define-key key-translation-map (kbd (format "M-[ 3 ; %d ~" x)) (kbd (format "%s&lt;delete&gt;" tkey)))
	  ;; f1
	  (define-key key-translation-map (kbd (format "M-[ 1 ; %d P" x)) (kbd (format "%s&lt;f1&gt;" tkey)))
	  ;; f2
	  (define-key key-translation-map (kbd (format "M-[ 1 ; %d Q" x)) (kbd (format "%s&lt;f2&gt;" tkey)))
	  ;; f3
	  (define-key key-translation-map (kbd (format "M-[ 1 ; %d R" x)) (kbd (format "%s&lt;f3&gt;" tkey)))
	  ;; f4
	  (define-key key-translation-map (kbd (format "M-[ 1 ; %d S" x)) (kbd (format "%s&lt;f4&gt;" tkey)))
	  ;; f5
	  (define-key key-translation-map (kbd (format "M-[ 15 ; %d ~" x)) (kbd (format "%s&lt;f5&gt;" tkey)))
	  ;; f6
	  (define-key key-translation-map (kbd (format "M-[ 17 ; %d ~" x)) (kbd (format "%s&lt;f6&gt;" tkey)))
	  ;; f7
	  (define-key key-translation-map (kbd (format "M-[ 18 ; %d ~" x)) (kbd (format "%s&lt;f7&gt;" tkey)))
	  ;; f8
	  (define-key key-translation-map (kbd (format "M-[ 19 ; %d ~" x)) (kbd (format "%s&lt;f8&gt;" tkey)))
	  ;; f9
	  (define-key key-translation-map (kbd (format "M-[ 20 ; %d ~" x)) (kbd (format "%s&lt;f9&gt;" tkey)))
	  ;; f10
	  (define-key key-translation-map (kbd (format "M-[ 21 ; %d ~" x)) (kbd (format "%s&lt;f10&gt;" tkey)))
	  ;; f11
	  (define-key key-translation-map (kbd (format "M-[ 23 ; %d ~" x)) (kbd (format "%s&lt;f11&gt;" tkey)))
	  ;; f12
	  (define-key key-translation-map (kbd (format "M-[ 24 ; %d ~" x)) (kbd (format "%s&lt;f12&gt;" tkey)))
	  ;; f13
	  (define-key key-translation-map (kbd (format "M-[ 25 ; %d ~" x)) (kbd (format "%s&lt;f13&gt;" tkey)))
	  ;; f14
	  (define-key key-translation-map (kbd (format "M-[ 26 ; %d ~" x)) (kbd (format "%s&lt;f14&gt;" tkey)))
	  ;; f15
	  (define-key key-translation-map (kbd (format "M-[ 28 ; %d ~" x)) (kbd (format "%s&lt;f15&gt;" tkey)))
	  ;; f16
	  (define-key key-translation-map (kbd (format "M-[ 29 ; %d ~" x)) (kbd (format "%s&lt;f16&gt;" tkey)))
	  ;; f17
	  (define-key key-translation-map (kbd (format "M-[ 31 ; %d ~" x)) (kbd (format "%s&lt;f17&gt;" tkey)))
	  ;; f18
	  (define-key key-translation-map (kbd (format "M-[ 32 ; %d ~" x)) (kbd (format "%s&lt;f18&gt;" tkey)))
	  ;; f19
	  (define-key key-translation-map (kbd (format "M-[ 33 ; %d ~" x)) (kbd (format "%s&lt;f19&gt;" tkey)))
	  ;; f20
	  (define-key key-translation-map (kbd (format "M-[ 34 ; %d ~" x)) (kbd (format "%s&lt;f20&gt;" tkey)))

	  (setq x (+ x 1))
	  ))
      )
  )
</pre>
<h3><span class="mw-headline" id="Improper_window_resizing_in_KDE">Improper window resizing in KDE</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" width="48" height="48"></a><b>This article or section is a candidate for merging with <a href="../en/KDE.html" title="KDE">KDE</a>.</b><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" width="48" height="48"></a></p>
<div>
<b>Notes:</b> Applicable to other applications (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Emacs">Talk:Emacs#</a>)</div>
</div>
<p>KDE users may observe that the Emacs window does not resize properly, but rather, the resized portion
is transparent and mouse clicks are sent to the underlying window. To correct this behavior, change
KDE's GTK3 theme to something other than oxygen-gtk. For instance, use the Emacs theme which is included with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=gtk3">gtk3</a></span>.
</p>
<p>To force Emacs to maximize completely in KDE, click the Emacs icon in the title bar, and select More Actions &gt; Special Window Settings. Then in the "Size &amp; Position" tab, select "Obey geometry restrictions", choose "Force" in the dropdown menu, and select "No" from the radio buttons on the right.
</p>
<h2><span class="mw-headline" id="Alternatives">Alternatives</span></h2>
<p>There are numerous "smaller" implementations of Emacs. GNU/Emacs is probably the most popular. Some lightweight Emacs compatible alternatives will be listed here:
</p>
<h3><span class="mw-headline" id="mg">mg</span></h3>
<p><b>mg</b> (originally called MicroGnuEmacs) is a lightweight implementation of Emacs written in C.
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=mg">mg</a></span> is available in the <a href="../en/Official_repositories.html" title="Official repositories">official repositories</a> and it is also possible to download its source from its upstream <a rel="nofollow" class="external text" href="http://homepage.boetes.org/software/mg/">page</a>. Beware <b>mg</b> has no UTF-8 support.
</p>
<h3><span class="mw-headline" id="zile">zile</span></h3>
<p>According to the official web <a rel="nofollow" class="external text" href="https://www.gnu.org/software/zile/">page</a> "GNU Zile is a lightweight Emacs clone. <b>Zile</b> is short for "Zile Is Lossy Emacs". Zile has been written to be as similar as possible to Emacs; every Emacs user should feel at home.". Zile has no UTF-8 support.
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=zile">zile</a></span> can be found in the official repositories.
</p>
<p>The latest upstream tarballs can be found in official GNU <a rel="nofollow" class="external text" href="http://ftp.sh.cvut.cz/MIRRORS/gnu/pub/gnu/zile/">mirrors</a>.
</p>
<h3><span class="mw-headline" id="uemacs">uemacs</span></h3>
<p><b>uemacs</b> is a "Micro-emacs" version customized by Linus Torvalds . Available as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/uemacs-git/">uemacs-git</a></span><sup><small>AUR</small></sup> in the <a href="../en/Arch_User_Repository.html" title="AUR" class="mw-redirect">AUR</a>.
</p>
<p>The latest (2005) tarball can be found <a rel="nofollow" class="external text" href="ftp://ftp.cs.helsinki.fi/pub/Software/Local/uEmacs-PK/">here</a>.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li> <a rel="nofollow" class="external text" href="http://www.gnu.org/software/emacs/">GNU Emacs home page</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://www.gnu.org/software/emacs/manual/emacs.html">GNU Emacs manual</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://www.emacswiki.org/cgi-bin/wiki/">Emacs Wiki</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://wikemacs.org">WikEmacs - a more readable, but less complete Emacs wiki</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://www2.lib.uchicago.edu/keith/tcl-course/emacs-tutorial.html">Useful introduction to Emacs and its shortcuts</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://d0edfcdc0ccc1cd13cdab5eb986fb92e8660dbef.googledrive.com/host/0B6LMD0u8OhYYZEotN2QyR1hwR1k/">The Church of Emacs (via Google drive)</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://www.gnu.org/software/emacs/refcards/pdf/refcard.pdf">Official reference card</a>
</li>
</ul>

</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Development.html" title="Category:Development">Development</a></li>
<li><a href="../en/Category:Text_editors.html" title="Category:Text editors">Text editors</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Merge.html" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li>
</ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
