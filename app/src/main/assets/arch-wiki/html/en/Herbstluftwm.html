<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Herbstluftwm - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Herbstluftwm skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Herbstluftwm</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p><a rel="nofollow" class="external text" href="http://herbstluftwm.org">Herbstluftwm</a> is a manual tiling window manager for X11 using Xlib and Glib.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#First_steps"><span class="tocnumber">2</span> <span class="toctext">First steps</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#Configuration"><span class="tocnumber">3</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Multi-Monitor_Support"><span class="tocnumber">3.1</span> <span class="toctext">Multi-Monitor Support</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Commands"><span class="tocnumber">4</span> <span class="toctext">Commands</span></a></li>
<li class="toclevel-1 tocsection-6">
<a href="#Scripts_and_Hooks"><span class="tocnumber">5</span> <span class="toctext">Scripts and Hooks</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Script_to_switch_to_the_next_empty_tag"><span class="tocnumber">5.1</span> <span class="toctext">Script to switch to the next empty tag</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Script_to_cycle_though_paddings_.28or_other_settings.29"><span class="tocnumber">5.2</span> <span class="toctext">Script to cycle though paddings (or other settings)</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Script_to_change_decoration_per-tag"><span class="tocnumber">5.3</span> <span class="toctext">Script to change decoration per-tag</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#See_also"><span class="tocnumber">6</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Herbstluftwm can be <a href="../en/Help:Reading.html#Installation_of_packages" title="Installed" class="mw-redirect">installed</a> with the package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=herbstluftwm">herbstluftwm</a></span> or the package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/herbstluftwm-git/">herbstluftwm-git</a></span><sup><small>AUR</small></sup>.
</p>
<h2><span class="mw-headline" id="First_steps">First steps</span></h2>
<p>Carefully read the herbstluftwm and herbstclient man pages in your favorite terminal emulator or online (<a rel="nofollow" class="external text" href="http://herbstluftwm.org/herbstluftwm.html">herbstluftwm</a>, <a rel="nofollow" class="external text" href="http://herbstluftwm.org/herbstclient.html">herbstclient</a>). Take your time to read through the whole documentation, they contain a lot of information from an explanation of the binary tree in which the layout is kept to config file options and possible values.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>Copy <code>/etc/xdg/herbstluftwm/autostart</code> file to <code>$HOME/.config/herbstluftwm/autostart</code>. You can edit that file for your needs. Make sure the autostart file is executable, else you will probably end up without keybindings!
</p>
<p>The configuration of herbstluftwm is updated on-the-fly by issuing <code>herbstclient reload</code> (See Commands section), or having a keybinding for the reload command. Autostart is called on each reload, therefore within autostart you typically unmap all existing configuration first.
</p>
<h3><span class="mw-headline" id="Multi-Monitor_Support">Multi-Monitor Support</span></h3>
<p>Herbstluftwm supports multiple monitors as a virtual concept; monitors in herbstluftwm do not have to match the real monitor configuration as reported by xrandr. It brings a lot of flexibility and gives the user more control over his/her monitor-arrangement. You can use <code>herbstclient detect_monitors</code> to automatically adapt to the physical setup. Otherwise, see the manpage on how to add, remove, resize and move monitors. Tags in a multi-monitor set-up are not "owned" by a monitor. This means that when one monitor switches to a tag that is active in another monitor, the two monitors will swap tags.
</p>
<h2><span class="mw-headline" id="Commands">Commands</span></h2>
<p>Herbstclient is a very powerful tool, as it provides you with full control over your window manager from the command line.
</p>
<p>There is a tab-completion for the parameters for herbstclient. Try <code>herbstclient list_commands</code> to show all parameters.
</p>
<p>Right now there is no error message if you use wrong parameters on a command, but only a non-zero return value. If you do not show the return value of a command anyway (e.g. in your $SHELL-prompt), you might want to <code>echo $?</code> to find the return value of the last command.
</p>
<h2><span class="mw-headline" id="Scripts_and_Hooks">Scripts and Hooks</span></h2>
<p>The main way to control herbstluftwm is though commands to herbstclient.  Since herbstclient can be called from any script, you have great flexibility in controlling herbstluftwm this way.
Furthermore, you can listen to window management events and react to them accordingly.
</p>
<h3><span class="mw-headline" id="Script_to_switch_to_the_next_empty_tag">Script to switch to the next empty tag</span></h3>
<p>The following ruby script allows you to switch to the (next or previous) (full or empty) tag.  Call it with the arguments (+1 or -1) and (full or empty).  For example, if you save the script to herbst-move.rb, then 
</p>
<pre>ruby herbst-move.rb +1 full
</pre>
<p>will move you to the next full tag.  I use the following key bindings.
</p>
<pre>hc keybind $Mod-Left  spawn ruby /home/carl/Ruby/herbst-move.rb -1 empty
hc keybind $Mod-Right spawn ruby /home/carl/herbst-move.rb +1 empty
hc keybind $Mod-Up spawn ruby /home/carl/Ruby/herbst-move.rb -1 full
hc keybind $Mod-Down spawn ruby /home/carl/Ruby/herbst-move.rb +1 full
</pre>
<p>And here is the script.
</p>
<pre>
#!/usr/local/bin/ruby

incr, type = ARGV

d = incr.to_i
if type == 'full'
  ch = '.'
else
  ch = ':'
end

array = `herbstclient tag_status 0`.scan(/[:\.\#][^\t]*/)
len = array.length
orig = array.find_index{|e| e[0] == '#'}

i = (orig+d) % len
while 
  array[i][0] == ch
  i = (i+d) % len
end

if i != orig
  system "herbstclient use_index #{i}"
end
</pre>
<h3><span class="mw-headline" id="Script_to_cycle_though_paddings_.28or_other_settings.29">Script to cycle though paddings (or other settings)</span></h3>
<p>Here is a ruby script to cycle through a set of paddings, although you can modify it to cycle though any collection of settings. The script knows the previous layout by looking for the presence of two dummy files in /tmp.
</p>
<pre>
#!/usr/bin/ruby

file1 = "/tmp/herbst-padding-1"
file2 = "/tmp/herbst-padding-2"

pad1 = 'pad 0 0 0 0 0'
pad2 = 'pad 0 0 20 0 200'
pad3 = 'pad 0 0 0 0 150'

files = [file1, file2].map{|f| File.exist? File.expand_path(f)}

if files == [false, false]  # 0 files
  system "herbstclient #{pad2}"
  system "touch #{file1}"
elsif files == [true, false]  # 1 file
  system "herbstclient #{pad1}"
  system "touch #{file2}"
else           # 2 files
  system "herbstclient #{pad3}"
  system "rm #{file1} #{file2}"
end
</pre>
<h3><span class="mw-headline" id="Script_to_change_decoration_per-tag">Script to change decoration per-tag</span></h3>
<p>The following Perl script demonstrates how to use hooks to react to window management events. It can be called in autostart (with backgrounding).
</p>
<pre>
#!/usr/bin/perl
# This script watches for tag changes and gives visual feedback

## Configuration (fill with your tag names)
my %colors = (
	main =&gt; '#DD0000',
	devel =&gt; '#13B8E0',
	write =&gt; '#96E013',
	admin =&gt; '#C713E0'
);

## Apply tag color
# Right now we change the active window's border color to the tag's color.
sub redecorate
{
	my ($foo, $activity) = @_;
	system("herbstclient", "set", "window_border_active_color",
		"$colors{$activity}");
}

## main routine
use v5.20;

# set up a pipe for reading hooks
open HOOKS, "herbstclient -i '(tag_changed|reload)'|"
	or die "can't fork: $!";
# process incoming messages
OUTER:
while (&lt;HOOKS&gt;) {
	chomp;
	for ($_) {
		redecorate(split(/\t/)) when /^tag_changed/;
		last OUTER when /^reload/; # quit on reload
	}
}
close HOOKS or die "unfinished love story: $! $?"; # happens on hlwm crash
</pre>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li> <a rel="nofollow" class="external text" href="http://herbstluftwm.org">The herbstluftwm homepage</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=128646">The herbstluftwm thread</a>
</li>
<li> <code>/usr/share/doc/herbstluftwm/examples/</code> - various scripts</li>
<li> <code>/usr/share/doc/herbstluftwm/BUGS</code> - bugs</li>
<li> <a rel="nofollow" class="external text" href="http://crunchbang.org/forums/viewtopic.php?pid=204358%23p204358#p204358k">A herbstluftwm thread on the CrunchBang Forums</a>
</li>
<li> <b>Screenshots and configuration files:</b> <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=133557">on ArchLinux Forum</a>, <a rel="nofollow" class="external text" href="http://dotshare.it/category/wms/herbstluft/">on DotShare.it</a>
</li>
<li> <code>#herbstluftwm</code> - IRC channel at the irc.freenode.net</li>
<li> <a rel="nofollow" class="external text" href="https://github.com/ypnos/hlwm">User git repository #1</a> with autostart written in Perl and a few custom scripts</li>
<li> <a rel="nofollow" class="external text" href="https://github.com/ylixir/hlwm-config">User git repository #2</a> with autostart and panel written in Python</li>
</ul>

</div>
<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Tiling_WMs.html" title="Category:Tiling WMs">Tiling WMs</a></li></ul>
</div></div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
