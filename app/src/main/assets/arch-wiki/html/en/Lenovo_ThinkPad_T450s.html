<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Lenovo ThinkPad T450s - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Lenovo_ThinkPad_T450s skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Lenovo ThinkPad T450s</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Model_description"><span class="tocnumber">1</span> <span class="toctext">Model description</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Components"><span class="tocnumber">1.1</span> <span class="toctext">Components</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Support"><span class="tocnumber">1.2</span> <span class="toctext">Support</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4">
<a href="#Configuration"><span class="tocnumber">2</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Display"><span class="tocnumber">2.1</span> <span class="toctext">Display</span></a></li>
<li class="toclevel-2 tocsection-6">
<a href="#Wireless"><span class="tocnumber">2.2</span> <span class="toctext">Wireless</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#rtl8192ee"><span class="tocnumber">2.2.1</span> <span class="toctext">rtl8192ee</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8"><a href="#Touchpad"><span class="tocnumber">2.3</span> <span class="toctext">Touchpad</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Sound"><span class="tocnumber">2.4</span> <span class="toctext">Sound</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Fingerprint_Reader"><span class="tocnumber">2.5</span> <span class="toctext">Fingerprint Reader</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Function_Keys"><span class="tocnumber">2.6</span> <span class="toctext">Function Keys</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#LEDs"><span class="tocnumber">2.7</span> <span class="toctext">LEDs</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Intel_Rapid_Start_Technology_.28IRST.29"><span class="tocnumber">2.8</span> <span class="toctext">Intel Rapid Start Technology (IRST)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#See_also"><span class="tocnumber">3</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Model_description">Model description</span></h2>
<p>Lenovo ThinkPad T450s 
</p>
<h3><span class="mw-headline" id="Components">Components</span></h3>
<table class="wikitable">
<tr>
<td> <b>PCI (lspci)</b> </td>
<td> <b>Driver</b>
</td>
</tr>
<tr>
<td> Intel Corporation Broadwell-U Host Bridge -OPI (rev 09) </td>
<td> bdw_uncore
</td>
</tr>
<tr>
<td> Intel Corporation Broadwell-U Integrated Graphics (rev 09) </td>
<td> i915
</td>
</tr>
<tr>
<td> Intel Corporation Broadwell-U Audio Controller (rev 09) </td>
<td> snd_hda_intel
</td>
</tr>
<tr>
<td> Intel Corporation Wildcat Point-LP USB xHCI Controller (rev 03) </td>
<td> xhci_hcd; xhci_pci
</td>
</tr>
<tr>
<td> Intel Corporation Wildcat Point-LP MEI Controller #1 (rev 03) </td>
<td> mei_me
</td>
</tr>
<tr>
<td> Intel Corporation Ethernet Connection (3) I218-LM (rev 03) </td>
<td> e1000e
</td>
</tr>
<tr>
<td> Intel Corporation Wildcat Point-LP High Definition Audio Controller (rev 03) </td>
<td> snd_hda_intel
</td>
</tr>
<tr>
<td> Intel Corporation Wildcat Point-LP PCI Express Root Port (rev e3) </td>
<td> pcieport; shpchp
</td>
</tr>
<tr>
<td> Intel Corporation Wildcat Point-LP USB EHCI Controller (rev 03) </td>
<td> ehci-pci; ehci_pci
</td>
</tr>
<tr>
<td> Intel Corporation Wildcat Point-LP LPC Controller (rev 03) </td>
<td> lpc-ich; lpc_ich
</td>
</tr>
<tr>
<td> Intel Corporation Wildcat Point-LP SATA Controller [AHCI Mode] (rev 03) </td>
<td> ahci
</td>
</tr>
<tr>
<td> Intel Corporation Wildcat Point-LP SMBus Controller (rev 03) </td>
<td> i801_smbus; i2c_i801
</td>
</tr>
<tr>
<td>Intel Corporation Wildcat Point-LP Thermal Management Controller (rev 03) </td>
<td>
</td>
</tr>
<tr>
<td> Realtek Semiconductor Co., Ltd. RTS5227 PCI Express Card Reader (rev 01) </td>
<td> rtsx_pci
</td>
</tr>
<tr>
<td> Intel Corporation Wireless 7265 (rev 59) </td>
<td> iwlwifi
</td>
</tr>
</table>
<table class="wikitable">
<tr>
<td> <b>USB (usb-devices/lsusb)</b> </td>
<td> <b>Driver</b>
</td>
</tr>
<tr>
<td> Intel Corporation USB root hub </td>
<td> hub
</td>
</tr>
<tr>
<td> Validity Sensors Fingerprint Reader </td>
<td>
</td>
</tr>
<tr>
<td> Intel Corporation Bluetooth </td>
<td> btusb
</td>
</tr>
<tr>
<td> Chicony Electronics Integrated Camera </td>
<td> uvcvideo
</td>
</tr>
</table>
<h3><span class="mw-headline" id="Support">Support</span></h3>
<table class="wikitable">
<tr>
<td> <b>Device</b> </td>
<td> <b>Working</b>
</td>
</tr>
<tr>
<td> <a href="../en/Intel_graphics.html" title="Intel graphics">Intel graphics</a> </td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <a href="../en/Wireless_network_configuration.html" title="Wireless network configuration">Wireless network configuration</a> </td>
<td style="background: #ffa; color: inherit; vertical-align: middle; text-align: center;">Manual
</td>
</tr>
<tr>
<td> <a href="../en/Advanced_Linux_Sound_Architecture.html" title="ALSA" class="mw-redirect">ALSA</a> </td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <a href="../en/Touchpad_Synaptics.html" title="Touchpad" class="mw-redirect">Touchpad</a> </td>
<td style="background: #ffa; color: inherit; vertical-align: middle; text-align: center;">Manual
</td>
</tr>
<tr>
<td> Trackpad </td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td> <a href="../en/Webcam_setup.html" title="Webcam" class="mw-redirect">Webcam</a> </td>
<td style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
</table>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<h3><span class="mw-headline" id="Display">Display</span></h3>
<p>The Intel display is run with the <tt>i915</tt> driver, which has become unstable in the 4.2+ series of kernels. Regrettably, this instability has found its way into the current <tt>linux-lts</tt> kernel (see <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=203088">this forum thread</a>). A working fix is to downgrade your kernel to version 4.1.21-1, and wait for the problem to be fixed.
</p>
<p>This was easy for me to do, because I had previously downloaded the package in <tt>/var/cache/pacman/pkg</tt>. All I needed to do was navigate to that directory as root and run <tt>pacman -U linux-lts-4.1.21-1-x86_64.pkg.tar.xz</tt> and it Just Worked.  If you do not have the package already downloaded, you can find it in the <a href="../en/Arch_Linux_Archive.html" title="Arch Linux Archive">Arch Linux Archive</a>.
</p>
<p>I also edited <tt>/etc/pacman.conf</tt> and added <tt>linux-lts</tt> and <tt>linux-lts-headers</tt> to my <tt>IgnorePkg</tt> line, so they would not be inadvertently upgraded when I do system updates. 
</p>
<h3><span class="mw-headline" id="Wireless">Wireless</span></h3>
<p>The T450s comes with two wireless card configurations: a Realtek chip that's run with the <tt>rtl8192ee</tt> driver, and an intel chip upgrade that I read somewhere didn't play well with Linux, so I chose the realtek driver.  
</p>
<h4><span class="mw-headline" id="rtl8192ee">rtl8192ee</span></h4>
<p>The stock driver under the 4.x kernel is <a rel="nofollow" class="external text" href="http://damienfirmenich.com/2015/04/12/t450s-rtl8191ee.html">not reliable</a>, frequently dropping connections and requiring to be re-set. One solution is to install <a rel="nofollow" class="external text" href="https://github.com/lwfinger/rtlwifi_new">this updated driver</a>, which contains device-specific fixes and will ultimately be integrated into the kernel around version 4.7.
</p>
<p>In order to build and install the new drivers, all that is required is to have your kernel headers installed-- meaning <tt>linux-headers</tt> or <tt>linux-lts-headers</tt> -- make sure the version of headers installed matches your currently installed kernel-- and then pull the git repository, <tt>make</tt>, and <tt>sudo make install</tt>. After a reboot you will be running the new, improved driver.
</p>
<p>Note- this driver still has some problems for me: I have found that I have to <tt>modprobe -r rtl8192ee</tt> before suspend, and then <tt>modprobe rtl8192ee</tt> after suspend, in order to connect to some/most access points. However, the new driver no longer drops connections unexpectedly.
</p>
<p><br>
</p>
<h3><span class="mw-headline" id="Touchpad">Touchpad</span></h3>
<p>You can install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=xf86-input-synaptics">xf86-input-synaptics</a></span> and see <a href="../en/Touchpad_Synaptics.html" title="Touchpad Synaptics">Touchpad Synaptics</a> for configuration.
</p>
<p>In the alternative, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=xf86-input-libinput">xf86-input-libinput</a></span> and see <a href="../en/Libinput.html" title="Libinput">Libinput</a> for configuration.
</p>
<h3><span class="mw-headline" id="Sound">Sound</span></h3>
<p>See <a href="../en/Advanced_Linux_Sound_Architecture.html#Set_the_default_sound_card" title="ALSA" class="mw-redirect">ALSA#Set the default sound card</a> to set the default sound card to Intel PCH (speakers and headphones).
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/thinkpad-t450s.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">options snd_hda_intel index=1,0</pre>
<h3><span class="mw-headline" id="Fingerprint_Reader">Fingerprint Reader</span></h3>
<p>I compiled libfprint-git from the AUR, although it is possible that the version from the repos might work. Then set up <a href="../en/Fprint.html" title="Fprint">Fprint</a> or <a href="../en/Fingerprint-gui.html" title="Fingerprint-gui">Fingerprint-gui</a>.
</p>
<h3><span class="mw-headline" id="Function_Keys">Function Keys</span></h3>
<p>All "special" keys either function or map to Xorg special key classes out of the box. Mappings are below:
</p>
<table class="wikitable">
<tr>
<td> <b>Key</b> </td>
<td> <b>Console Keycode</b> </td>
<td> <b>XF86 Keysym</b> </td>
<td> <b>Windows 7 Function</b> </td>
<td> Needs script
</td>
</tr>
<tr>
<td> F1 </td>
<td> 113 </td>
<td> XF86AudioMute </td>
<td> Mute speakers </td>
<td> No
</td>
</tr>
<tr>
<td> F2 </td>
<td> 114 </td>
<td> XF86AudioLowerVolume </td>
<td> Decreases the speaker volume </td>
<td> No
</td>
</tr>
<tr>
<td> F3 </td>
<td> 115 </td>
<td> XF86AudioRaiseVolume </td>
<td> Increases the speaker volume </td>
<td> No
</td>
</tr>
<tr>
<td> F4 </td>
<td> 190 </td>
<td>XF86AudioMicMute </td>
<td> Mutes/unmutes microphone </td>
<td> No
</td>
</tr>
<tr>
<td> F5 </td>
<td> 224 </td>
<td> XF86MonBrightnessDown </td>
<td> Darkens display </td>
<td> No
</td>
</tr>
<tr>
<td> F6 </td>
<td> 225 </td>
<td> XF86MonBrightnessUp </td>
<td> Brightens display </td>
<td> No
</td>
</tr>
<tr>
<td> F7 </td>
<td> 227 </td>
<td> XF86Display </td>
<td> Switch between internal and external display </td>
<td> No
</td>
</tr>
<tr>
<td> F8 </td>
<td> 238 </td>
<td> XF86WLAN </td>
<td> Enable/disable wireless </td>
<td> Yes
</td>
</tr>
<tr>
<td> F9 </td>
<td> 171 </td>
<td> XF86Tools </td>
<td> Open "Control Panel" </td>
<td> No
</td>
</tr>
<tr>
<td> F10 </td>
<td> 217 </td>
<td> XF86Search </td>
<td> Open "Windows Search" </td>
<td> No
</td>
</tr>
<tr>
<td> F11 </td>
<td> 120 </td>
<td> XF86LaunchA </td>
<td> View open programs </td>
<td> No
</td>
</tr>
<tr>
<td> F12 </td>
<td> 144 </td>
<td> XF86Explorer </td>
<td> Open "Computer" </td>
<td> No
</td>
</tr>
<tr>
<td> Fn+4 </td>
<td> 142 </td>
<td> XF86Sleep </td>
<td> Enters sleep mode </td>
<td> Yes
</td>
</tr>
<tr>
<td> Fn+p </td>
<td> 119 </td>
<td> Pause </td>
<td> Pause </td>
<td> Yes
</td>
</tr>
<tr>
<td> Fn+s </td>
<td> 56+99 </td>
<td> Sys_Req </td>
<td> SysReq </td>
<td> Yes
</td>
</tr>
<tr>
<td> Fn+K </td>
<td> 70 </td>
<td> Scroll_Lock </td>
<td> Scroll Lock </td>
<td> Yes
</td>
</tr>
<tr>
<td> Fn+B </td>
<td> 29+119 </td>
<td> Break </td>
<td> Break </td>
<td> Yes
</td>
</tr>
<tr>
<td> Fn+Spacebar </td>
<td> NONE </td>
<td> XF86Wakeup </td>
<td> Adjusts keyboard backlight </td>
<td> No
</td>
</tr>
</table>
<p>Note that there is a BIOS option to change the function keys so that F1 - F12 are the primary and the listed functions are only triggered by the "Fn" key.
</p>
<h3><span class="mw-headline" id="LEDs">LEDs</span></h3>
<p>There are six LEDs. All work out of the box except for the mic mute LED. See the Lenovo manual for location and functionality of LEDs.
</p>
<h3><span class="mw-headline" id="Intel_Rapid_Start_Technology_.28IRST.29">Intel Rapid Start Technology (IRST)</span></h3>
<p>The T450s has firmware support for IRST. This will only be available if the T450s has an SSD rather than a traditional spinning-disc drive. The 16GB M.2 cache SSD can also be used for the IRST partition.
</p>
<p><a rel="nofollow" class="external text" href="https://mjg59.dreamwidth.org/26022.html">Per Matthew Garrett</a>,
</p>
<dl><dd>"[t]he concept of IRST is pretty simple. There's a firmware mechanism for setting a sleep timeout. If you suspend your computer and this timeout expires, it'll resume. However, instead of handing control back to the OS, the firmware just copies the entire contents of RAM to a special partition and turns the computer off. Next time you hit the power button, the firmware dumps the partition contents back into RAM and resumes as if nothing had changed. This takes a few seconds longer than resume from S3 but is far faster than resume from hibernation since it starts the moment the system gets power."</dd></dl>
<p>More specifically:
</p>
<dl><dd>"[t]he first thing to know about this feature is that it's entirely invisible unless your hard drive is set up correctly. There needs to be a partition that's at least the size of your system's physical RAM. For GPT systems, this needs to have a type GUID of D3BFE2DE-3DAF-11DF-BA-40-E3A556D89593. For MBR systems, you need a partition type of 0x84. If the firmware doesn't find an appropriate partition then the OS will get no indication that the firmware supports it."</dd></dl>
<p>If you are not wiping and repartitioning your disk entirely as you prepare your drive for Arch installation, merely retain the existing IRST partition. It should show up as an unformatted partition whose size is equal to that of the T450s's RAM.
</p>
<p>If you are wiping and repartitioning your disk, then create an empty partition with a size equal to your T450s's RAM. Then set the flag for the partition to "irst" using <a href="../en/GNU_Parted.html" title="Parted" class="mw-redirect">parted</a> or <a href="../en/GNU_Parted.html" title="GParted" class="mw-redirect">GParted</a>.
</p>
<p>Now if you leave your T450s suspended to RAM for a certain period of time (3 hours is the default in BIOS) it will automatically wake back up after the configured period, copy the contents of RAM to the IRST partition, and turn itself off. When you power the laptop back up, instead of the regular boot process, it will copy the contents of the partition to RAM and resume from where you left off.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Depending on the size of you RAM and the speed of your SSD, the IRST hibernation process can take 20-60 seconds. The process is completed when the power LED stops blinking.</div>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li> <a rel="nofollow" class="external text" href="http://support.lenovo.com/us/en/products/laptops%20and%20netbooks/thinkpad%20t%20series%20laptops/thinkpad%20t450s">Lenovo T450s support page</a> (including downloadable technical manual)</li>
<li> <a rel="nofollow" class="external text" href="https://wiki.debian.org/InstallingDebianOn/Thinkpad/T450s/jessie">Installing Debian Jessie on Thinkpad 450s</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://www.phoronix.com/scan.php?page=article&amp;item=lenovo-t450s-linux&amp;num=1">Phoronix article Fedora on Thinkpad 450s</a>
</li>
</ul>

</div>
<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Lenovo.html" title="Category:Lenovo">Lenovo</a></li></ul>
</div></div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
