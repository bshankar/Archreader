<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Citrix - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Citrix skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Citrix</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" width="48" height="48"></a><b>This article or section needs language, wiki syntax or style improvements.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a>; also add an introduction. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Citrix">Talk:Citrix#</a>)</div>
</div>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Install_from_AUR"><span class="tocnumber">1</span> <span class="toctext">Install from AUR</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Install_Package"><span class="tocnumber">1.1</span> <span class="toctext">Install Package</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Google_Chromium"><span class="tocnumber">1.2</span> <span class="toctext">Google Chromium</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4">
<a href="#Manual_Install"><span class="tocnumber">2</span> <span class="toctext">Manual Install</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Citrix_Receiver_.28icaclient.29_Installation"><span class="tocnumber">2.1</span> <span class="toctext">Citrix Receiver (icaclient) Installation</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#TLS.2FSSL_Certificates"><span class="tocnumber">3</span> <span class="toctext">TLS/SSL Certificates</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Troubleshooting"><span class="tocnumber">4</span> <span class="toctext">Troubleshooting</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Install_from_AUR">Install from AUR</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" width="48" height="48"></a><b>This article or section is out of date.</b><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Citrix provides an automatic installer, see manual installation (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Citrix">Talk:Citrix#</a>)</div>
</div>
<h4><span class="mw-headline" id="Install_Package">Install Package</span></h4>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/icaclient/">icaclient</a></span><sup><small>AUR</small></sup> x86_64
</p>
<p>SSL connections are supported by default in this packages. Also Firefox plugin will be installed by default as well as the wfica.desktop file. That way Arch knows how to open ica files.
</p>
<h4><span class="mw-headline" id="Google_Chromium">Google Chromium</span></h4>
<p>If you have problems launching Citrix applications with Chromium, just go to <code>about:plugins</code> and disable "Citrix Receiver for Linux".
</p>
<p>Next, create <code>/usr/share/applications/wfica.desktop</code> (Exec path may vary based on package installed):
</p>
<pre>
[Desktop Entry]
Name=Citrix ICA client
Comment="Launch Citrix applications from .ica files"
Categories=Network;
Exec=/usr/bin/wfica
Terminal=false
Type=Application
NoDisplay=true
MimeType=application/x-ica;</pre>
<p>Now <code>xdg-open</code> will handle .ica extensions using <code>/usr/bin/wfica</code>.
</p>
<p>Note: if you are running Xfce and Chromium is opening the .ica files in the wrong application (e.g. a text editor), make sure you have <code>xorg-xprop</code> installed.
</p>
<h2><span class="mw-headline" id="Manual_Install">Manual Install</span></h2>
<h4><span class="mw-headline" id="Citrix_Receiver_.28icaclient.29_Installation">Citrix Receiver (icaclient) Installation</span></h4>
<ul><li> <b>Step 1.</b> Download Citrix Receiver  It can be found <a rel="nofollow" class="external text" href="http://www.citrix.com/downloads/citrix-receiver/linux.html">here</a>. Choose the latest version of the x86 client for 32-bit systems or the x86_64 file for 64-bit systems in the .tar.gz format.</li></ul>
<ul><li> <b>Step 2.</b> Unpack the archive:</li></ul>
<pre>
# tar zxvf en.linuxx86.tar.gz
./
./PkgId
./install.txt
./eula.txt
./readme.txt
./setupwfc
./linuxx86/
./linuxx86/hinst
./linuxx86/linuxx86.cor/
./linuxx86/linuxx86.cor/nls/
./linuxx86/linuxx86.cor/nls/en/
./linuxx86/linuxx86.cor/nls/en/UTF-8/
./linuxx86/linuxx86.cor/nls/en/UTF-8/Wfica
./linuxx86/linuxx86.cor/nls/en/UTF-8/Wfcmgr
... many more files ...
</pre>
<ul>
<li> <b>Step 3.</b> Run setupwfc: <pre># ./setupwfc</pre> (Follow all instructions prompted by setupwfc.)</li>
<li> <b>Step 4.</b> (Applies only for Firefox integration:)</li>
</ul>
<p>The setup program should have made appropriate links to the "Citrix Receiver for Linux" plugin.
You can check this as such:
</p>
<pre>
# find / -name npica.so
/opt/Citrix/ICAClient/npica.so
</pre>
<p>Or you can check if your browser loads the plugin, in Firefox this can be done by typing "about:plugins" in the address bar. If you have a 64-bit version of Firefox, the plugin will not be loaded. You can check below what to do.
</p>
<p>Create missing links as such:
</p>
<pre># ln -s /opt/Citrix/ICAClient/npica.so /usr/lib/mozilla/plugins/</pre>
<ul><li> <b>Step 6.</b> Restart your browser</li></ul>
<p>At this point, everything should work, including wfcmgr. In the case of Opera, integration should be automatic.  The ICAClient will automatically be launched whenever you try to access a citrix-based application from either Firefox or Opera.
</p>
<p><b>Note:</b> If for some reason firefox prompts you for which application to use when opening a citrix-based application, use <code>/opt/Citrix/ICAClient/wfica</code>
</p>
<h2><span class="mw-headline" id="TLS.2FSSL_Certificates">TLS/SSL Certificates</span></h2>
<p>Because ICAClient uses SSL you may need a security certificate to connect to the server, check with the server administrator. If there is a certificate download and place it in <code>/usr/lib/ICAClient/keystore/cacerts/</code>.
</p>
<p>You may then receive the error <code>You have not chosen to trust the issuer of the server's security certificate. (SSL Error 61)</code>.
</p>
<p>There may be several reasons for this:
</p>
<dl>
<dt> You do not have the root Certificate Authority (CA) certificates.</dt>
<dd> These are already installed on most systems, they are part of the core package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=ca-certificates">ca-certificates</a></span>, but they are not where ICAClient looks for them. Copy the certificates from <code>/etc/ssl/certs/</code> to <code>/usr/lib/ICAClient/keystore/cacerts/</code>. For Citrix versions before 13.1, run the following command as root:</dd>
<dd> <pre># ln -sf /etc/ssl/certs/* /opt/Citrix/ICAClient/keystore/cacerts/</pre>
</dd>
<dd> Since versions 13.1, Citrix needs the certificates in separate files. You need to run the following commands as root:</dd>
</dl>
<pre>
# cd /opt/Citrix/ICAClient/keystore/cacerts/
# cp /etc/ssl/certs/ca-certificates.crt .
# awk 'BEGIN {c=0;} /BEGIN CERT/{c++} { print &gt; "cert." c ".pem"}' &lt; ca-certificates.crt
</pre>
<dl>
<dd> You may also need to download your CA's intermediate certificates and store them in the same directory.</dd>
<dd> Changes to your certificate directory will likely require rehashing links for openssl to find them properly. Skipping this step might result in Citrix still giving certificate errors. To do this, use this command (borrowed from <a rel="nofollow" class="external autonumber" href="https://help.ubuntu.com/community/CitrixICAClientHowTo#A5._Add_more_SSL_certificates">[1]</a>)</dd>
<dd> <pre># c_rehash /opt/Citrix/ICAClient/keystore/cacerts/</pre>
</dd>
</dl>
<dl>
<dt> Your server is using a certificate with a SHA-2 hash for the Signature Algorithm.</dt>
<dd> Microsoft has mandated that any certificates with an expiry date of 2017 or later must use a SHA-2 hash<a rel="nofollow" class="external autonumber" href="http://www.p2vme.com/2014/02/sha2-certificates-and-citrix-receiver.html">[2]</a>. You may either:</dd>
</dl>
<ol>
<li> Upgrade your client to 13.1 or later. Citrix now supports SHA-2 hashes in the ICA client version 13.1.0.285639.</li>
<li> Contact your CA and have your certificate re-keyed with a SHA-1 hash.</li>
</ol>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<p>If you have issues opening a Citrix connection under Firefox you may need to set the Citrix Receiver plugin to 'Always Activate' under the Firefox Add-ons Manager plugin settings.
</p>
<p>If you have cursor alignment issues under Citrix and you have multiple displays connected to your machine you may need to disable all but one when using Citrix.
</p>
<p>If you have sticky Control Ctrl key issues after logging to session you may resolve it using this <a rel="nofollow" class="external text" href="http://looselytyped.blogspot.com/2014/08/fixing-sticky-control-key-issues-with.html">guide</a>
</p>
</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Virtualization.html" title="Category:Virtualization">Virtualization</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
</ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
