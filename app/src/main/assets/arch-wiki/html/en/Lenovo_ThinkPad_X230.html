<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Lenovo ThinkPad X230 - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Lenovo_ThinkPad_X230 skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Lenovo ThinkPad X230</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div style="width:45%; margin: 0 0 0.5em 0.5em;">
<p style="background:#333; color:white; padding:0.2em; border-bottom:5px #08c solid; margin:0; text-align:center; font-weight:bold;">Related articles</p>
<ul style="list-style-type:none; margin:0; padding:0.3em;">
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Fprint.html" title="Fprint">fprint</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/TrackPoint.html" title="TrackPoint">TrackPoint</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/HiDPI.html" title="HiDPI">HiDPI</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="http://www.lenovo.com/hk/en/productcatalog/pdf/X230-datasheet.pdf">Lenovo ThinkPad X230</a>
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Configuration"><span class="tocnumber">1</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Kernel"><span class="tocnumber">1.1</span> <span class="toctext">Kernel</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Screen"><span class="tocnumber">1.2</span> <span class="toctext">Screen</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Touchpad"><span class="tocnumber">1.3</span> <span class="toctext">Touchpad</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Backlight_control_keys"><span class="tocnumber">1.4</span> <span class="toctext">Backlight control keys</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Suspend_to_ram"><span class="tocnumber">1.5</span> <span class="toctext">Suspend to ram</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7">
<a href="#Power_Saving"><span class="tocnumber">2</span> <span class="toctext">Power Saving</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#TLP"><span class="tocnumber">2.1</span> <span class="toctext">TLP</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#x230T_.28tablet_version.29"><span class="tocnumber">3</span> <span class="toctext">x230T (tablet version)</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Multitouch_screen_for_the_x230t_.28tablet_version.29"><span class="tocnumber">3.1</span> <span class="toctext">Multitouch screen for the x230t (tablet version)</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Wacom_tablet_input"><span class="tocnumber">3.2</span> <span class="toctext">Wacom tablet input</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#Not_Working"><span class="tocnumber">4</span> <span class="toctext">Not Working</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#See_also"><span class="tocnumber">5</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<h3><span class="mw-headline" id="Kernel">Kernel</span></h3>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/mkinitcpio.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
MODULES="i915"
</pre>
<p>After saving the above files, make sure to regenerate your init ram image by the command <code>mkinitcpio -p linux</code>, and follow the steps in <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a>.
</p>
<h3><span class="mw-headline" id="Screen">Screen</span></h3>
<p>X230 has IPS or TN screen with 125.37 DPI. Refer to <a href="../en/HiDPI.html" title="HiDPI">HiDPI</a> page for more information. It can be set with command <code>xrandr --dpi 125.37</code> using .xinitrc or other autostarts.
</p>
<p>See <a href="../en/Intel_graphics.html" title="Intel" class="mw-redirect">Intel</a> for driver choice.
</p>
<h3><span class="mw-headline" id="Touchpad">Touchpad</span></h3>
<p>The original configuration renders the touchpad quite useless, as it behaves very jumpily. <a rel="nofollow" class="external text" href="https://bugs.launchpad.net/ubuntu/+source/xserver-xorg-input-synaptics/+bug/1042069/comments/5">Ubuntu Bugtracker</a> offers a solution for this issue. Add the following
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/50-synaptics.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
Section "InputClass"
        Identifier "touchpad"
        MatchProduct "SynPS/2 Synaptics TouchPad"
        # MatchTag "lenovo_x230_all"
        Driver "synaptics"
        # fix touchpad resolution
        Option "VertResolution" "100"
        Option "HorizResolution" "65"
        # disable synaptics driver pointer acceleration
        Option "MinSpeed" "1"
        Option "MaxSpeed" "1"
        # tweak the X-server pointer acceleration
        Option "AccelerationProfile" "2"
        Option "AdaptiveDeceleration" "16"
        Option "ConstantDeceleration" "16"
        Option "VelocityScale" "20"
        Option "AccelerationNumerator" "30"
        Option "AccelerationDenominator" "10"
        Option "AccelerationThreshold" "10"
	# Disable two fingers right mouse click
	Option "TapButton2" "0"
        Option "HorizHysteresis" "100"
        Option "VertHysteresis" "100"
EndSection
</pre>
<p>Setting e.g. the motion-acceleration value in dconf to 2.8 works nicely.
</p>
<h3><span class="mw-headline" id="Backlight_control_keys">Backlight control keys</span></h3>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong> On most X230 models, backlight works by default without any issues. Use below only in case of any problems.</div>
<p>Due to an issue with the firmware of several ThinkPads the backlight control keys (fn + F8/F9 on the X230) don't work correctly. Setting the brightness via e.g. the GNOME power control panel or altering the brightness value in sysfs is possible.
</p>
<p>The issue can be temporarily and partially fixed in adding the acpi_osi="!Windows 2012" <a href="../en/Kernel_parameters.html" title="Kernel parameter" class="mw-redirect">kernel parameter</a>. The fix is partial in that only 8 steps are accessible via the keys. See <a rel="nofollow" class="external autonumber" href="https://bugzilla.kernel.org/show_bug.cgi?id=51231">[1]</a> for details.
</p>
<h3><span class="mw-headline" id="Suspend_to_ram">Suspend to ram</span></h3>
<p>There is an issue with system shutdown with power saving tools that cannot distinguish sys devices. You will need to add to the systemd shutdown trigger on this machine or else you'll get a system reboot when you shutdown the machine. Put this in /etc/rc.local.shutdown and update and enable its service, if not already.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/rc.local.shutdown</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
#!/bin/bash
# /etc/rc.local.shutdown: Local shutdown script.
# A script to act as a workaround for the bug in the runtime power management module, which causes thinkpad laptops to restart after shutting down. 
# Bus list for the runtime power management module.
buslist="pci i2c"
for bus in $buslist; do                                                             
  for i in /sys/bus/$bus/devices/*/power/control; do                              
    echo on &gt; $i
  done
done
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/lib/systemd/system/rc-local-shutdown.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
[Unit]
Description=/etc/rc.local.shutdown Compatibility
ConditionFileIsExecutable=/etc/rc.local.shutdown
DefaultDependencies=no
After=rc-local.service basic.target
Before=shutdown.target

[Service]
Type=oneshot
ExecStart=/etc/rc.local.shutdown
StandardInput=tty
RemainAfterExit=yes
</pre>
<h2><span class="mw-headline" id="Power_Saving">Power Saving</span></h2>
<p>Follow the main article: <a href="../en/Power_management.html" title="Power saving" class="mw-redirect">Power saving</a>
</p>
<p>Power saving <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a> in addition to graphics card power saving, are shown below. <code>acpi_backlight=vendor</code> loads the vendor specific <a href="../en/Backlight.html#ACPI" title="Backlight">Backlight#ACPI</a> driver (i.e. thinkpad_acpi) so the brightness keys (Fn + F8 and Fn + F9) work correctly.
</p>
<p>Note that the <code>acpi_backlight=vendor</code> kernel option also works with the standard Arch kernel (currently 3.7.10-1) and has the additional bonus that (Fn + spacebar) controls the keyboard lighting.
</p>
<h3><span class="mw-headline" id="TLP">TLP</span></h3>
<p>Users of <a href="../en/TLP.html" title="TLP">TLP</a> need to pay attention to a hardware bug according to which it is recommended to only use either the upper or lower charging threshold. The following configuration is recommended by the developer of TLP.<a rel="nofollow" class="external text" href="http://thinkpad-forum.de/threads/184510-elementary-OS-Thinkpad-X230-einrichten?p=1865345&amp;viewfull=1#post1865345">[1</a>] 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/default/tlp</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
START_CHARGE_THRESH_BAT0=67
STOP_CHARGE_THRESH_BAT0=100
</pre>
<h2><span class="mw-headline" id="x230T_.28tablet_version.29">x230T (tablet version)</span></h2>
<h3><span class="mw-headline" id="Multitouch_screen_for_the_x230t_.28tablet_version.29">Multitouch screen for the x230t (tablet version)</span></h3>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong> Some x230t models have a multitouch screen in addition to the wacom tablet.</div>
<p>Works out of the box with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=xf86-input-libinput">xf86-input-libinput</a></span>.
</p>
<h3><span class="mw-headline" id="Wacom_tablet_input">Wacom tablet input</span></h3>
<p>Works out of the box with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=xf86-input-wacom">xf86-input-wacom</a></span>. See <a href="../en/Wacom_Tablet.html" title="Wacom Tablet">Wacom Tablet</a>
</p>
<h2><span class="mw-headline" id="Not_Working">Not Working</span></h2>
<ul><li> Microphone on-off key does not work out of the box</li></ul>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong> It works out of the box with GNOME.</div>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul><li> <a rel="nofollow" class="external text" href="https://gist.github.com/bassu/8478346">A Hacker's Ongoing Review for Lenovo ThinkPad X230</a>
</li></ul>

</div>
<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Lenovo.html" title="Category:Lenovo">Lenovo</a></li></ul>
</div></div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
