<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Wayland - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Wayland skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Wayland</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div style="width:45%; margin: 0 0 0.5em 0.5em;">
<p style="background:#333; color:white; padding:0.2em; border-bottom:5px #08c solid; margin:0; text-align:center; font-weight:bold;">Related articles</p>
<ul style="list-style-type:none; margin:0; padding:0.3em;">
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Kernel_mode_setting.html" title="KMS" class="mw-redirect">KMS</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Xorg.html" title="Xorg">Xorg</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Mir.html" title="Mir">Mir</a></li>
</ul>
</div>
<p><b>Wayland</b> is a new windowing protocol for Linux. Utilization of Wayland requires changes to and re-installation of parts of your system's software. For more information on Wayland see its <a rel="nofollow" class="external text" href="http://wayland.freedesktop.org/">homepage</a>.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Requirements"><span class="tocnumber">1</span> <span class="toctext">Requirements</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Installation"><span class="tocnumber">2</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Usage"><span class="tocnumber">3</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-4">
<a href="#Weston"><span class="tocnumber">4</span> <span class="toctext">Weston</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Installation_2"><span class="tocnumber">4.1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Usage_2"><span class="tocnumber">4.2</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-2 tocsection-7">
<a href="#Configuration"><span class="tocnumber">4.3</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#XWayland"><span class="tocnumber">4.3.1</span> <span class="toctext">XWayland</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#Screencast_recording"><span class="tocnumber">4.3.2</span> <span class="toctext">Screencast recording</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#High_DPI_displays"><span class="tocnumber">4.3.3</span> <span class="toctext">High DPI displays</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#Shell_font"><span class="tocnumber">4.3.4</span> <span class="toctext">Shell font</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-12">
<a href="#GUI_libraries"><span class="tocnumber">5</span> <span class="toctext">GUI libraries</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#GTK.2B_3"><span class="tocnumber">5.1</span> <span class="toctext">GTK+ 3</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Qt_5"><span class="tocnumber">5.2</span> <span class="toctext">Qt 5</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Clutter"><span class="tocnumber">5.3</span> <span class="toctext">Clutter</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#SDL"><span class="tocnumber">5.4</span> <span class="toctext">SDL</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#GLFW"><span class="tocnumber">5.5</span> <span class="toctext">GLFW</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#EFL"><span class="tocnumber">5.6</span> <span class="toctext">EFL</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#Window_managers_and_desktop_shells"><span class="tocnumber">6</span> <span class="toctext">Window managers and desktop shells</span></a></li>
<li class="toclevel-1 tocsection-20">
<a href="#Troubleshooting"><span class="tocnumber">7</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-21"><a href="#LLVM_assertion_failure"><span class="tocnumber">7.1</span> <span class="toctext">LLVM assertion failure</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Weston_fails_to_launch_after_update_to_1.7"><span class="tocnumber">7.2</span> <span class="toctext">Weston fails to launch after update to 1.7</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Applications_using_dbus_crashes_on_startup"><span class="tocnumber">7.3</span> <span class="toctext">Applications using dbus crashes on startup</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Slow_motion.2C_graphical_glitches.2C_and_crashes"><span class="tocnumber">7.4</span> <span class="toctext">Slow motion, graphical glitches, and crashes</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-25"><a href="#See_also"><span class="tocnumber">8</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Requirements">Requirements</span></h2>
<p>Currently Wayland will only work on systems utilizing <a href="../en/Kernel_mode_setting.html" title="KMS" class="mw-redirect">KMS</a>.
</p>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Wayland is most likely installed on your system already, since it is an indirect dependency of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=gtk2">gtk2</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=gtk3">gtk3</a></span>.</div>
<p><a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=wayland">wayland</a></span> package.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>As Wayland is only a library, it is useless on its own. To replace X Server, you need a compositor (like <a href="#Weston">#Weston</a>).
</p>
<h2><span class="mw-headline" id="Weston">Weston</span></h2>
<h3><span class="mw-headline" id="Installation_2">Installation</span></h3>
<p><a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=weston">weston</a></span> package.
</p>
<h3><span class="mw-headline" id="Usage_2">Usage</span></h3>
<table class="wikitable" style="float: right; width: 200px;">
<caption> <i><b>Keyboard Shortcuts</b> (super = windows key - can be changed, see weston.ini)</i> <code>Ctrl-b</code>
</caption>
<tr>
<th>Cmd
</th>
<th>Action
</th>
</tr>
<tr>
<td>Ctrl + Alt + Backspace
</td>
<td>Quit Weston
</td>
</tr>
<tr>
<td>Super + Scroll (or PageUp/PageDown)
</td>
<td>Zoom in/out of desktop
</td>
</tr>
<tr>
<td>Super + Tab
</td>
<td>Switch windows
</td>
</tr>
<tr>
<td>Super + LMB
</td>
<td>Move Window
</td>
</tr>
<tr>
<td>Super + MMB
</td>
<td>Rotate WindowÂ !
</td>
</tr>
<tr>
<td>Super + RMB
</td>
<td>Resize Window
</td>
</tr>
<tr>
<td>Super + Alt + Scroll
</td>
<td>Change window opacity
</td>
</tr>
<tr>
<td>Super + K
</td>
<td>Force Kill Active Window
</td>
</tr>
<tr>
<td>Super + KeyUp/KeyDown
</td>
<td>Switch Prev/Next Workspace
</td>
</tr>
<tr>
<td>Super + Shift + KeyUp/KeyDown
</td>
<td>Grab Current Window and Switch Workspace
</td>
</tr>
<tr>
<td>Super + F<i><b>n</b></i>
</td>
<td>Switch to Workspace <i><b>n</b></i>
</td>
</tr>
<tr>
<td>Super + S
</td>
<td>Take a screenshot
</td>
</tr>
<tr>
<td>Super + R
</td>
<td>Record a screencast.
</td>
</tr>
</table>
<p>Now that Wayland and its requirements are installed you should be ready to test it out. 
</p>
<p>It is possible to run Weston inside a running X session:
</p>
<pre>$ weston
</pre>
<p>Alternatively, to try to launch Weston natively, switch to a terminal and run:
</p>
<pre>$ weston-launch
</pre>
<p>Then at a TTY within Weston, you can run the demos. To launch a terminal emulator:
</p>
<pre>$ weston-terminal
</pre>
<p>To move flowers around the screen:
</p>
<pre>$ weston-flower 
</pre>
<p>To display images:
</p>
<pre>$ weston-image image1.jpg image2.jpg...
</pre>
<h3><span class="mw-headline" id="Configuration">Configuration</span></h3>
<p>Example configuration file for keyboard layout, module selection and UI modifications. See <code>man weston.ini</code> for full details. The Weston outputs differ slightly from <tt>xorg.conf</tt>'s Monitors:
</p>
<pre>$ ls /sys/class/drm
card0
card0-VGA-1
card1
card1-DVI-I-1
card1-HDMI-A-1
card1-VGA-2
</pre>
<p><tt>card0</tt> is the unused built-in video adapter. The add-on adapter <tt>card1</tt> is cabled to one HDMI and one DVI monitor, so the output names are <tt>HDMI-A-1</tt> and <tt>DVI-I-1</tt>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/weston.ini</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
[core]
# xwayland support
modules=xwayland.so


[libinput]
enable_tap=true


[shell]
background-image=/usr/share/backgrounds/gnome/Aqua.jpg
background-color=0xff002244
panel-color=0x90ff0000
locking=true
animation=zoom
close-animation=fade
focus-animation=dim-layer
#binding-modifier=ctrl
#num-workspaces=6
### for cursor themes install xcursor-themes pkg from Extra. ###
#cursor-theme=whiteglass
#cursor-size=24

### tablet options ###
#lockscreen-icon=/usr/share/icons/gnome/256x256/actions/lock.png
#lockscreen=/usr/share/backgrounds/gnome/Garden.jpg
#homescreen=/usr/share/backgrounds/gnome/Blinds.jpg
#animation=fade


###  for Laptop displays  ###
#[output]
#name=LVDS1
#mode=1680x1050
#transform=90

#[output]
#name=VGA1
# The following sets the mode with a modeline, you can get modelines for your preffered resolutions using the cvt utility
#mode=173.00 1920 2048 2248 2576 1080 1083 1088 1120 -hsync +vsync
#transform=flipped

#[output]
#name=X1
#mode=1024x768
#transform=flipped-270


[input-method]
#path=/usr/lib/weston/weston-keyboard


[keyboard]
keymap_rules=evdev
#keymap_layout=gb,de
#keymap_options=caps:ctrl_modifier,shift:both_capslock_cancel
### keymap_options from /usr/share/X11/xkb/rules/base.lst ###
numlock-on=true

[terminal]
#font=DroidSansMono
#font-size=14


[launcher]
icon=/usr/share/icons/gnome/24x24/apps/utilities-terminal.png
path=/usr/bin/weston-terminal

[launcher]
icon=/usr/share/icons/gnome/24x24/apps/utilities-terminal.png
path=/usr/bin/gnome-terminal

[launcher]
icon=/usr/share/icons/hicolor/24x24/apps/firefox.png
path=/usr/bin/firefox

[launcher]
icon=/usr/share/weston/icon_flower.png
path=/usr/bin/weston-flower

[screensaver]
# Uncomment path to disable screensaver
path=/usr/libexec/weston-screensaver
duration=600

</pre>
<p><br>
Minimal <code>weston.ini</code>Â :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/weston.ini</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
[core]
modules=xwayland.so

[keyboard]
keymap_layout=gb

[output]
name=LVDS1
mode=1680x1050
transform=90


[launcher]
icon=/usr/share/icons/gnome/24x24/apps/utilities-terminal.png
path=/usr/bin/weston-terminal

[launcher]
icon=/usr/share/icons/hicolor/24x24/apps/firefox.png
path=/usr/bin/firefox


</pre>
<h4><span class="mw-headline" id="XWayland">XWayland</span></h4>
<p><a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=xorg-server-xwayland">xorg-server-xwayland</a></span> package.
</p>
<p>When you want to run an X application from within Weston, it spins up Xwayland to service the request. The following configuration is shown above:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/weston.ini</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
[core]
modules=xwayland.so
</pre>
<h4><span class="mw-headline" id="Screencast_recording">Screencast recording</span></h4>
<p>Weston has build-in screencast recording which can be started and stopped by pressing the <code>Super+r</code> key combination. Screencasts are saved to the file <code>capture.wcap</code> in the current working directory of Weston. 
</p>
<p>The WCAP format is a lossless video format specific to Weston, which only records the difference in frames. To be able to play the recorded screencast, the WCAP file will need to be converted to a format which a media player can understand. First, convert the capture to the YUV pixel format:
</p>
<pre>$ wcap-decode capture.wcap --yuv4mpeg2 &gt; capture.y4m
</pre>
<p>The YUV file can then be transcoded to other formats using <a href="../en/FFmpeg.html" title="FFmpeg">FFmpeg</a>.
</p>
<h4><span class="mw-headline" id="High_DPI_displays">High DPI displays</span></h4>
<p>For <a href="https://en.wikipedia.org/wiki/Retina_Display" class="extiw" title="wikipedia:Retina Display">Retina</a> or <a href="../en/HiDPI.html" title="HiDPI">HiDPI</a> displays, use:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/weston.ini</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
[output]
name=...
scale=2
</pre>
<h4><span class="mw-headline" id="Shell_font">Shell font</span></h4>
<p>Weston uses the default sans-serif font for window title bars, clocks, etc. See <a href="../en/Font_configuration.html#Replace_or_set_default_fonts" title="Font configuration">Font configuration#Replace or set default fonts</a> for instructions on how to change this font.
</p>
<h2><span class="mw-headline" id="GUI_libraries">GUI libraries</span></h2>
<p>See details on the <a rel="nofollow" class="external text" href="http://wayland.freedesktop.org/toolkits.html">official website</a>.
</p>
<h3><span class="mw-headline" id="GTK.2B_3">GTK+ 3</span></h3>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=gtk3">gtk3</a></span> package from the official repositories now has the Wayland backend enabled.
</p>
<p>GTK+ 3 gained support for multiple backends at runtime and can switch between backends in the same way Qt can with lighthouse.
</p>
<p>When both Wayland and X backends are enabled, GTK+ will default to the X11 backend, but this can be overridden by modifying an environment variable: <code>GDK_BACKEND=wayland</code>.
</p>
<h3><span class="mw-headline" id="Qt_5">Qt 5</span></h3>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/groups/x86_64/qt5/">qt5</a></span> package from the repositories has the Wayland support if <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=qt5-wayland">qt5-wayland</a></span> is installed. 
To run a Qt 5 app with the Wayland plugin, set the <code>QT_QPA_PLATFORM=wayland-egl</code> <a href="../en/Environment_variables.html" title="Environment variable" class="mw-redirect">environment variable</a>.
</p>
<h3><span class="mw-headline" id="Clutter">Clutter</span></h3>
<p>The Clutter toolkit has a Wayland backend that allows it to run as a Wayland client. The backend is enabled in the official package in extra.
</p>
<p>To run a Clutter app on Wayland, set <code>CLUTTER_BACKEND=wayland</code>.
</p>
<h3><span class="mw-headline" id="SDL">SDL</span></h3>
<p>Experimental wayland support is now in SDL 2.0.2 and enabled by default on Arch Linux.
</p>
<p>To run a SDL application on Wayland, set <code>SDL_VIDEODRIVER=wayland</code>.
</p>
<h3><span class="mw-headline" id="GLFW">GLFW</span></h3>
<p>Experimental wayland support is now in GLFW 3.1 and can be enabled with the <code>-DGLFW_USE_WAYLAND=ON</code> CMake option at compile time. You can also install the package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/glfw-wayland-git/">glfw-wayland-git</a></span><sup><small>AUR</small></sup> from the AUR.
</p>
<h3><span class="mw-headline" id="EFL">EFL</span></h3>
<p>EFL has complete Wayland support. 
To run a EFL application on Wayland, see Wayland <a rel="nofollow" class="external text" href="http://wayland.freedesktop.org/efl.html">project page</a>.
</p>
<h2><span class="mw-headline" id="Window_managers_and_desktop_shells">Window managers and desktop shells</span></h2>
<table class="wikitable sortable">
<tr>
<th> Name
</th>
<th> Type
</th>
<th> Description
</th>
</tr>
<tr>
<td> GNOME
</td>
<td> Compositing
</td>
<td> See <a href="../en/GNOME.html#Starting_GNOME" title="GNOME">GNOME#Starting GNOME</a>.
</td>
</tr>
<tr>
<td> Hawaii
</td>
<td> <i>(Unclear)</i>
</td>
<td> See <a href="../en/Hawaii.html" title="Hawaii">Hawaii</a>.
</td>
</tr>
<tr>
<td> sway
</td>
<td> Tiling
</td>
<td> <a href="../en/Sway.html" title="Sway">Sway</a> is an i3-compatible window manager for Wayland. <a rel="nofollow" class="external text" href="https://github.com/SirCmpwn/sway">Github</a>
</td>
</tr>
<tr>
<td> Enlightenment
</td>
<td> <i>(Unclear)</i>
</td>
<td> Long running minimal Window Manager-turned Wayland compositor. E19 originally had Wayland support but this was removed and now only E20+ Wayland is considered stable enough for regular use. <a rel="nofollow" class="external text" href="https://www.enlightenment.org/about-wayland">More Info</a>
</td>
</tr>
<tr>
<td> KDE Plasma
</td>
<td> Compositing
</td>
<td> See <a href="../en/KDE.html#Starting_Plasma" title="KDE">KDE#Starting Plasma</a>
</td>
</tr>
<tr>
<td> Orbment
</td>
<td> Tiling
</td>
<td> <a rel="nofollow" class="external text" href="https://github.com/Cloudef/orbment">orbment</a> (previously loliwm) is a tiling WM for Wayland.
</td>
</tr>
<tr>
<td> Velox
</td>
<td> Tiling
</td>
<td> <a href="../en/Velox.html" title="Velox">Velox</a> is a simple window manager based on swc. It is inspired by <a href="../en/Dwm.html" title="Dwm">dwm</a> and <a href="../en/Xmonad.html" title="Xmonad">xmonad</a>.
</td>
</tr>
<tr>
<td> Orbital
</td>
<td> Compositing
</td>
<td> <a rel="nofollow" class="external text" href="https://github.com/giucam/orbital">Orbital</a> is a Wayland compositor and shell, using Qt5 and Weston. The goal of the project is to build a simple yet flexible and good looking Wayland desktop. It is not a full fledged DE but rather the analogue of a WM in the X11 world, such as <a href="../en/Awesome.html" title="Awesome">Awesome</a> or <a href="../en/Fluxbox.html" title="Fluxbox">Fluxbox</a>.
</td>
</tr>
<tr>
<td> Papyros Shell
</td>
<td> <i>(Unclear)</i>
</td>
<td> <a rel="nofollow" class="external text" href="https://github.com/papyros/papyros-shell">Papyros Shell</a> is the desktop shell for <a href="../en/Arch_based_distributions.html#Papyros" title="Papyros" class="mw-redirect">Papyros</a>, built using QtQuick and QtCompositor as a compositor for Wayland.
</td>
</tr>
<tr>
<td> Maynard
</td>
<td> <i>(Unclear)</i>
</td>
<td> <a rel="nofollow" class="external text" href="https://github.com/raspberrypi/maynard">Maynard</a> is a desktop shell client for Weston based on GTK. It was based on weston-gtk-shell, a project by Tiago Vignatti.
</td>
</tr>
<tr>
<td> Motorcar
</td>
<td> <i>(Unclear)</i>
</td>
<td> <a rel="nofollow" class="external text" href="https://github.com/evil0sheep/motorcar">Motorcar</a> is a wayland compositor to explore 3D windowing.
</td>
</tr>
<tr>
<td> Way Cooler
</td>
<td> Tiling
</td>
<td>  <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/way-cooler/">way-cooler</a></span><sup><small>AUR</small></sup> is a customizeable (lua config files) Wayland compositor written in Rust. Inspired by i3 and awesome.
</td>
</tr>
<tr>
<td> Maze Compositor
</td>
<td> Floating 3D
</td>
<td> <a rel="nofollow" class="external text" href="https://github.com/capisce/mazecompositor">Maze Compositor</a> is a 3D QT based wayland compositor
</td>
</tr>
<tr>
<td> Grefsen
</td>
<td> Floating
</td>
<td> <a rel="nofollow" class="external text" href="https://github.com/ec1oud/grefsen">Grefsen</a> is a Qt/Wayland compositor providing a minimal desktop environment.
</td>
</tr>
</table>
<p>Some of installed wayland desktop clients might store information in <code>/usr/share/wayland-sessions/*.desktop</code> files about how to start them in wayland.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="LLVM_assertion_failure">LLVM assertion failure</span></h3>
<p>If you get an LLVM assertion failure, you need to rebuild <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=mesa">mesa</a></span> without Gallium LLVM until this problem is fixed. 
</p>
<p>This may imply disabling some drivers which require LLVM.
You may also try exporting the following, if having problems with hardware drivers: 
</p>
<pre>$ export EGL_DRIVER=/usr/lib/egl/egl_gallium.so
</pre>
<h3><span class="mw-headline" id="Weston_fails_to_launch_after_update_to_1.7">Weston fails to launch after update to 1.7</span></h3>
<p>This is possibly caused by the <code>desktop-shell.so</code> module being loaded by your <code>weston.ini</code>. This used to be required, but is not anymore.
</p>
<p>Remove it from the <code>[core]</code> section:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/weston.ini</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
[core]
modules=xwayland.so,desktop-shell.so
</pre>
<p>So that you end up with:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/weston.ini</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
[core]
modules=xwayland.so
</pre>
<h3><span class="mw-headline" id="Applications_using_dbus_crashes_on_startup">Applications using dbus crashes on startup</span></h3>
<p>For a temporary solution, use <code>dbus-launch</code> to run the application. For example, to launch <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=gnome-terminal">gnome-terminal</a></span> inside a weston session, this command is sufficient.
</p>
<pre> dbus-launch gnome-terminal
</pre>
<h3><span class="mw-headline" id="Slow_motion.2C_graphical_glitches.2C_and_crashes">Slow motion, graphical glitches, and crashes</span></h3>
<p>Gnome-shell users may experience display issues when they switch to Wayland from X. One of the root cause might be the <code>CLUTTER_PAINT=disable-clipped-redraws:disable-culling</code> set by yourself for Xorg-based gnome-shell. Just try to remove it from <code>/etc/environment</code> or other rc files to see if everything goes back to normal.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li> <a href="../en/Cursor_themes.html" title="Cursor themes">Cursor themes</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=107499">Arch Linux forum discussion</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://wayland.freedesktop.org/docs/html/">Wayland documentation online</a>
</li>
</ul>

</div>
<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:X_server.html" title="Category:X server">X server</a></li></ul>
</div></div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
