<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>bspwm - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Bspwm skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">bspwm</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p><span></span>
</p>
<div style="width:45%; margin: 0 0 0.5em 0.5em;">
<p style="background:#333; color:white; padding:0.2em; border-bottom:5px #08c solid; margin:0; text-align:center; font-weight:bold;">Related articles</p>
<ul style="list-style-type:none; margin:0; padding:0.3em;">
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Bspwm.html" title="Bspwm/Example configurations" class="mw-redirect">bspwm/Example configurations</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Window_manager.html" title="Window manager">Window manager</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Comparison_of_tiling_window_managers.html" title="Comparison of tiling window managers">Comparison of tiling window managers</a></li>
</ul>
</div>
<p><i>bspwm</i> is a tiling window manager that represents windows as the leaves of a full binary tree. It has support for <a rel="nofollow" class="external text" href="http://standards.freedesktop.org/wm-spec/wm-spec-1.3.html">EWMH</a> and multiple monitors, and is configured and controlled through messages.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Configuration"><span class="tocnumber">2</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Note_for_multi-monitor_setups"><span class="tocnumber">2.1</span> <span class="toctext">Note for multi-monitor setups</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Rules"><span class="tocnumber">2.2</span> <span class="toctext">Rules</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Panels"><span class="tocnumber">2.3</span> <span class="toctext">Panels</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Scratchpad"><span class="tocnumber">2.4</span> <span class="toctext">Scratchpad</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Different_monitor_configurations_for_different_machines"><span class="tocnumber">2.5</span> <span class="toctext">Different monitor configurations for different machines</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Set_up_a_desktop_where_all_windows_are_floating"><span class="tocnumber">2.6</span> <span class="toctext">Set up a desktop where all windows are floating</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#Troubleshooting"><span class="tocnumber">3</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Help.21_I_get_a_blank_screen_and_my_keybindings_don.27t_work.21"><span class="tocnumber">3.1</span> <span class="toctext">Help! I get a blank screen and my keybindings don't work!</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Window_box_larger_than_the_actual_application.21"><span class="tocnumber">3.2</span> <span class="toctext">Window box larger than the actual application!</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Problems_with_Java_applications"><span class="tocnumber">3.3</span> <span class="toctext">Problems with Java applications</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Problems_with_keybindings_using_fish"><span class="tocnumber">3.4</span> <span class="toctext">Problems with keybindings using fish</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Error_messages_.22Could_not_grab_key_43_with_modfield_68.22_on_start"><span class="tocnumber">3.5</span> <span class="toctext">Error messages "Could not grab key 43 with modfield 68" on start</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#See_also"><span class="tocnumber">4</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">Install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=bspwm">bspwm</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=sxhkd">sxhkd</a></span>, or the development versions: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/bspwm-git/">bspwm-git</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/sxhkd-git/">sxhkd-git</a></span><sup><small>AUR</small></sup>.
Sxhkd is a simple X hotkey daemon used to communicate with bspwm through <code>bspc</code> as well as launch your applications of choice.
</p>
<p>To start bspwm on login, add the following to <code>~/.xinitrc</code> or <code>~/.xprofile</code> (depending on how you launch X/your display manager):
</p>
<pre>
sxhkd &amp;
exec bspwm
</pre>
<p>The first line should be omitted if you have a command for running sxhkd in your bspwmrc config file (it is this way in the example config).
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>Example configuration is found at <code>/usr/share/doc/bspwm/examples/</code> and on <a rel="nofollow" class="external text" href="https://github.com/baskerville/bspwm/blob/master/examples/">GitHub</a>.
</p>
<p><b>Important:</b> Make sure your environment variable $XDG_CONFIG_HOME is set or your bspwmrc will not be found. This can be done by adding XDG_CONFIG_HOME="$HOME/.config" and export XDG_CONFIG_HOME to your ~/.profile.
</p>
<p>Create <code>~/.config/bspwm/</code> and <code>~/.config/sxhkd/</code>, then copy <code>/usr/share/doc/bspwm/examples/bspwmrc</code> to <code>~/.config/bspwm/</code> and <code>/usr/share/doc/bspwm/examples/sxhkdrc</code> to <code>~/.config/sxhkd/</code>. Make bspwmrc executable with <code>chmod +x ~/.config/bspwm/bspwmrc</code>.
</p>
<p>These two files are where you will be setting wm settings and keybindings, respectively. See <a href="../en/Bspwm.html" title="Bspwm/Example configurations" class="mw-redirect">bspwm/Example configurations</a> for annotated examples.
</p>
<p>Documentation for bspwm is found by running <code>man bspwm</code>.
</p>
<p>There is also documentation for sxhkd found by running <code>man sxhkd</code>.
</p>
<h4><span class="mw-headline" id="Note_for_multi-monitor_setups">Note for multi-monitor setups</span></h4>
<p>The example bspwmrc configures ten desktops on one monitor like this:
</p>
<pre>bspc monitor -d I II III IV V VI VII VIII IX X
</pre>
<p>You will need to change this line and add one for each monitor, similar to this:
</p>
<pre>bspc monitor DVI-I-1 -d I II III IV
bspc monitor DVI-I-2 -d V VI VII
bspc monitor DP-1 -d VIII IX X
</pre>
<p>You can use `xrandr -q` or `bspc query -M` to find the monitor names.
</p>
<p>The total number of desktops were maintained at ten in the above example. This is so that each desktop can still be addressed with 'super + {1-9,0}' in the sxhkdrc.
</p>
<h3><span class="mw-headline" id="Rules">Rules</span></h3>
<p>There are two ways to set window rules (as of <a rel="nofollow" class="external text" href="https://github.com/baskerville/bspwm/commit/cd97a3290aa8d36346deb706fa307f5f8faa2f34">cd97a32</a>).
</p>
<p>The first is by using the built in rule command, as shown in the example bspwmrc:
</p>
<pre>
bspc rule -a Gimp desktop=^8 follow=on state=floating
bspc rule -a Chromium desktop=^2
bspc rule -a mplayer2 state=floating
bspc rule -a Kupfer.py focus=on
bspc rule -a Screenkey manage=off
</pre>
<p>The second option is to use an external rule command. This is more complex, but can allow you to craft more complex window rules.  See <a rel="nofollow" class="external text" href="https://github.com/baskerville/bspwm/tree/master/examples/external_rules">these examples</a> for a sample rule command.
</p>
<p>If a particular window does not seem to be behaving according to your rules, check the class name of the program. This can be accomplished by running <code> xprop | grep WM_CLASS</code> to make sure you're using the proper string.
</p>
<h3><span class="mw-headline" id="Panels">Panels</span></h3>
<p>An example panel for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lemonbar/">lemonbar</a></span><sup><small>AUR</small></sup> is provided in the examples folder on the GitHub page. You might also get some insights from the <a href="../en/Lemonbar.html" title="Lemonbar">lemonbar</a> wiki page. The panel will be executed by placing <code> panel &amp;</code> in your bspwmrc. Check the opt-depends in the bspwm package for dependencies that may be required.
</p>
<p>To display system information on your status bar you can use various system calls.  This example will show you how to edit your <code> panel </code> to get the volume status on your BAR:
</p>
<pre>
panel_volume()
{
        volStatus=$(amixer get Master | tail -n 1 | cut -d '[' -f 4 | sed 's/].*//g')
        volLevel=$(amixer get Master | tail -n 1 | cut -d '[' -f 2 | sed 's/%.*//g')
        # is alsa muted or not muted?
        if [ "$volStatus" == "on" ]
        then
                echo "%{Fyellowgreen} $volLevel %{F-}"
        else
                # If it is muted, make the font red
                echo "%{Findianred} $volLevel %{F-}"
        fi
}</pre>
<p>Next, we will have to make sure it is called and piped to <code> $PANEL_FIFO</code>:
</p>
<pre>
while true; do
echo "S" "$(panel_volume) $(panel_clock) &gt; "$PANEL_FIFO"
        sleep 1s
done &amp;
</pre>
<h3><span class="mw-headline" id="Scratchpad">Scratchpad</span></h3>
<p>You can emulate a dropdown terminal (like i3's scratchpad feature if you put a terminal in it) using bspwm's window flags. Append the following to the end of the bspwm config file (adapt to your own terminal emulator):
</p>
<pre>
bspc rule -a scratchpad sticky=on state=floating hidden=on
st -c scratchpad -e ~/bin/scratch &amp;
</pre>
<p>The sticky flag ensures that the window is always present on the current desktop.
And <code>~/bin/scratch</code> is:
</p>
<pre>
#!/usr/bin/sh
bspc query -N -n .floating &gt; /tmp/scratchid
$SHELL
</pre>
<p>The hotkey for toggling the scratchpad should be bound to:
</p>
<pre>
id=$(cat /tmp/scratchid);\
bspc node $id --flag hidden;bspc node -f $id
</pre>
<p>For a scratch-pad which can use any window type without pre-defined rules, see: <a rel="nofollow" class="external autonumber" href="https://www.reddit.com/r/bspwm/comments/3xnwdf/i3_like_scratch_for_any_window_possible/cy6i585">[1]</a>
</p>
<p>For a more sophisticated scratchpad script that supports many terminals out of the box and has flags for doing things like optionally starting a tmuxinator/tmux session, turning any window into a scratchpad on the fly, and automatically resizing a scratchpad to fit the current monitor see <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tdrop-git/">tdrop-git</a></span><sup><small>AUR</small></sup>.
</p>
<h3><span class="mw-headline" id="Different_monitor_configurations_for_different_machines">Different monitor configurations for different machines</span></h3>
<p>Since the <code>bspwmrc</code> is a shell script, it allows you to do things like these:
</p>
<pre>#! /bin/sh

 if [[ $(hostname) == 'myhost' ]]; then
     bspc monitor eDP1 -d I II III IV V VI VII VIII IX X
 elif [[ $(hostname) == 'otherhost' ]]; then
     bspc monitor VGA-0 -d I II III IV V
     bspc monitor VGA-1 -d VI VII VIII IX X
 elif [[ $(hostname) == 'yetanotherhost' ]]; then
     bspc monitor DVI-I-3 -d VI VII VIII IX X
     bspc monitor DVI-I-2 -d I II III IV V
 fi
 
</pre>
<h3><span class="mw-headline" id="Set_up_a_desktop_where_all_windows_are_floating">Set up a desktop where all windows are floating</span></h3>
<p>Here is how to setup the desktop 3 to have only floating windows. It can be useful for Gimp or other apps with multiple windows.
</p>
<p>Put this script somewhere in your $PATH and call it from .xinitrc or similar (with a &amp; at the end):
</p>
<pre>#!/bin/bash

 # change the desktop number here
 FLOATING_DESKTOP_ID=$(bspc query -D -d '^3')

 bspc subscribe node_manage | while read -a msg ; do
    desk_id=${msg[2]}
    wid=${msg[3]}
    [ "$FLOATING_DESKTOP_ID" = "$desk_id" ] &amp;&amp; bspc node "$wid" -t floating
 done
 
</pre>
<p>(<a rel="nofollow" class="external text" href="https://github.com/baskerville/bspwm/issues/428#issuecomment-199985423">source</a>)
</p>
<p><br>
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Help.21_I_get_a_blank_screen_and_my_keybindings_don.27t_work.21">Help! I get a blank screen and my keybindings don't work!</span></h3>
<p>There are a few ways to debug this. First, a blank screen is good. That means bspwm is running.
</p>
<p>I would confirm that your xinitrc looks something like
</p>
<pre>
sxhkd &amp;
exec bspwm
</pre>
<p>The ampersand is important. Next, try spawning a terminal in your xinitrc to see if its getting positioned properly. It should appear somewhat "centered" on the screen. To do this, use this .xinitrc:
</p>
<pre>
sxhkd &amp;
urxvt &amp;
exec bspwm
</pre>
<p>If nothing shows up, that means you probably forgot to install urxvt. If it shows up but isn't centered or taking up most of your screen, that means BSPWM isn't getting started properly. Make sure that you've <code> chmod +x ~/.config/bspwm/bspwmrc </code>.
</p>
<p>Next, type <code> pidof sxhkd</code> in that terminal you spawned. It should return a number. If it doesn't, that means sxhd isn't running. Try to be explicit and run <code> sxhkd -c ~/.config/sxhkd/sxhkdrc </code>. You could also try changing the Super key to something like Alt in your sxhkdrc and see if that helps.  Another common problem is copying the text from the example files instead of physically copying the file over. Copying / pasting code usually leads to indentation issues which sxhkd can be sensitive to.
</p>
<h3><span class="mw-headline" id="Window_box_larger_than_the_actual_application.21">Window box larger than the actual application!</span></h3>
<p>This can happen if you are using GTK3 apps and usually for dialog windows. The fix is to create or add the below to a gtk3 theme file (~/.config/gtk-3.0/gtk.css). 
</p>
<pre>
.window-frame, .window-frame:backdrop {
  box-shadow: 0 0 0 black;
  border-style: none;
  margin: 0;
  border-radius: 0;
}
    
.titlebar {
  border-radius: 0;
}
</pre>
<p>(source: <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1404973#p1404973">Bspwm forum thread</a>)
</p>
<h3><span class="mw-headline" id="Problems_with_Java_applications">Problems with Java applications</span></h3>
<p>If you have problems, like Java application Windows not resizing, or menus immediately closing after you click, see <a href="../en/Java.html#Applications_not_resizing_with_WM.2C_menus_immediately_closing" title="Java">Java#Applications not resizing with WM, menus immediately closing</a>.
</p>
<h3><span class="mw-headline" id="Problems_with_keybindings_using_fish">Problems with keybindings using fish</span></h3>
<p>If you use <a href="../en/Fish.html" title="Fish">fish</a>, you will find that you are unable to switch desktops. This is because bspc's use of the ^ character is incompatible with fish. You can fix this by explicitly telling sxhkd to use bash to execute commands:
</p>
<pre>$ set -U SXHKD_SHELL /usr/bin/bash
</pre>
<p>Alternatively, the ^ character may be escaped with a backslash in your sxhkdrc file.
</p>
<h3><span class="mw-headline" id="Error_messages_.22Could_not_grab_key_43_with_modfield_68.22_on_start">Error messages "Could not grab key 43 with modfield 68" on start</span></h3>
<p>Either you try to use the same key twice, or you start sxhkd twice. Check bspwmrc and <code> ~/.profile</code> or <code> ~/.bash_profile</code> for excessive commands starting sxhkd.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li> Mailing List: bspwm <i>at</i> librelist.com.</li>
<li> <code>#bspwm</code> - IRC channel at irc.freenode.net</li>
<li> <a rel="nofollow" class="external free" href="https://bbs.archlinux.org/viewtopic.php?id=149444">https://bbs.archlinux.org/viewtopic.php?id=149444</a> - Arch BBS thread</li>
<li> <a rel="nofollow" class="external free" href="https://github.com/baskerville/bspwm">https://github.com/baskerville/bspwm</a> - GitHub project</li>
<li> <a rel="nofollow" class="external free" href="https://github.com/windelicato/dotfiles/wiki/bspwm-for-dummies">https://github.com/windelicato/dotfiles/wiki/bspwm-for-dummies</a> - earsplit's "bspwm for dummies"</li>
<li> <a rel="nofollow" class="external free" href="https://github.com/smlb/dotfiles/wiki/Bspwm">https://github.com/smlb/dotfiles/wiki/Bspwm</a> - smlb's wiki</li>
</ul>

</div>
<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Tiling_WMs.html" title="Category:Tiling WMs">Tiling WMs</a></li></ul>
</div></div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
