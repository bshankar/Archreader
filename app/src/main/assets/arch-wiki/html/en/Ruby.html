<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Ruby - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Ruby skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Ruby</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p>Ruby is a dynamic, interpreted, open source programming language with a focus on simplicity and productivity.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Installing_Ruby"><span class="tocnumber">1</span> <span class="toctext">Installing Ruby</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Older_versions"><span class="tocnumber">1.1</span> <span class="toctext">Older versions</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Multiple_versions"><span class="tocnumber">1.2</span> <span class="toctext">Multiple versions</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Documentation"><span class="tocnumber">1.3</span> <span class="toctext">Documentation</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5">
<a href="#RubyGems"><span class="tocnumber">2</span> <span class="toctext">RubyGems</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Setup"><span class="tocnumber">2.1</span> <span class="toctext">Setup</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Usage"><span class="tocnumber">2.2</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Installing_gems_per-user_or_system-wide"><span class="tocnumber">2.3</span> <span class="toctext">Installing gems per-user or system-wide</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Bundler"><span class="tocnumber">2.4</span> <span class="toctext">Bundler</span></a></li>
<li class="toclevel-2 tocsection-10">
<a href="#Managing_RubyGems_using_pacman"><span class="tocnumber">2.5</span> <span class="toctext">Managing RubyGems using pacman</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="#Quarry"><span class="tocnumber">2.5.1</span> <span class="toctext">Quarry</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#See_also"><span class="tocnumber">3</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installing_Ruby">Installing Ruby</span></h2>
<p>For the latest version of Ruby, <a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=ruby">ruby</a></span> package. It includes <a href="#RubyGems">RubyGems</a>.
</p>
<h3><span class="mw-headline" id="Older_versions">Older versions</span></h3>
<ul>
<li> For Ruby 2.2, install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ruby2.2/">ruby2.2</a></span><sup><small>AUR</small></sup> package.</li>
<li> For Ruby 2.1, install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=ruby2.1">ruby2.1</a></span><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" title="ArchWiki:Requests">broken link</a>: archived in <a rel="nofollow" class="external text" href="https://github.com/felixonmars/aur3-mirror/tree/master/ruby2.1">aur-mirror</a>]</sup> package.</li>
<li> For Ruby 2.0, install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ruby2.0/">ruby2.0</a></span><sup><small>AUR</small></sup> package.</li>
</ul>
<h3><span class="mw-headline" id="Multiple_versions">Multiple versions</span></h3>
<p>If you want to run multiple versions on the same system (e.g. 2.0.0-p0 and 1.9.3-p392), the easiest way is to use <a href="../en/RVM.html" title="RVM">RVM</a>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/chruby/">chruby</a></span><sup><small>AUR</small></sup> or <a href="../en/Rbenv.html" title="Rbenv">rbenv</a>.
</p>
<h3><span class="mw-headline" id="Documentation">Documentation</span></h3>
<p>To make documentation available through the included <code>ri</code> command-line tool, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=ruby-docs">ruby-docs</a></span>.
You can then query the docs with: <code>ri Array</code>, <code>ri Array.pop</code> etc. (much like man-pages)
</p>
<h2><span class="mw-headline" id="RubyGems">RubyGems</span></h2>
<p>RubyGems is a package manager for Ruby modules (called <i>gems</i>), somewhat comparable to what <a href="../en/Pacman.html" title="Pacman">pacman</a> is to Arch Linux. It is included in the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=ruby">ruby</a></span> package.
</p>
<h3><span class="mw-headline" id="Setup">Setup</span></h3>
<p>Before you use RubyGems, you should add <code>$(ruby -e "print Gem.user_dir")/bin</code> to your <code>$PATH</code>. You can do this by adding the following line to <code>~/.bashrc</code>:
</p>
<pre>PATH="$(ruby -e 'print Gem.user_dir')/bin:$PATH"
</pre>
<p>This is required for executable gems to work without typing out the full location, although libraries will work without having to modify your path.
</p>
<p>If the method above does not work, you can try adding these lines at the end of your shell configuration file instead:
</p>
<pre> #Setting the GEM_PATH and GEM_HOME variables may not be necessary, check 'gem env' output to verify whether both variables already exist 
 GEM_HOME=$(ls -t -U | ruby -e 'puts Gem.user_dir')
 GEM_PATH=$GEM_HOME
 export PATH=$PATH:$GEM_HOME/bin
</pre>
<h3><span class="mw-headline" id="Usage">Usage</span></h3>
<p>To see what gems are installed:
</p>
<pre>$ gem list
</pre>
<p>To get information about a gem:
</p>
<pre>$ gem spec <i>gem_name</i>
</pre>
<p>By default, <code>gem list</code> and <code>gem spec</code> use the <code>--local</code> option, which forces <i>gem</i> to search only the local system. This can be overridden with the <code>--remote</code> flag. Thus, to search for the mysql gem:
</p>
<pre>$ gem list --remote mysql
</pre>
<p>To install a gem:
</p>
<pre>$ gem install mysql
</pre>
<p>The process can be sped up somewhat if you do not need local documentation:
</p>
<pre>$ gem install mysql --no-document
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>This can be made the default option by configuring the following <code>~/.gemrc</code> file:
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.gemrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
gem: --no-document
</pre>
</div>
<p>To update all installed gems:
</p>
<pre>$ gem update
</pre>
<h3><span class="mw-headline" id="Installing_gems_per-user_or_system-wide">Installing gems per-user or system-wide</span></h3>
<p>By default in Arch Linux, when running <code>gem</code>, gems are installed per-user (into <code>~/.gem/ruby/</code>), instead of system-wide (into <code>/usr/lib/ruby/gems/</code>). This is considered the best way to manage gems on Arch, because otherwise they might interfere with gems installed by Pacman.
</p>
<p>Gems can be installed system wide by running the <code>gem</code> command as root, appended with the <code>--no-user-install</code> flag. This flag can be set as default by replacing <code>--user-install</code> by <code>--no-user-install</code> in <code>/etc/gemrc</code> (system-wide) or <code>~/.gemrc</code> (per-user, overrides system-wide).
</p>
<p><a href="#Bundler">Bundler</a> solves these problems to some extent by packaging gems into your application. See the section below on using bundler.
</p>
<h3><span class="mw-headline" id="Bundler">Bundler</span></h3>
<p><a rel="nofollow" class="external text" href="http://bundler.io">Bundler</a> allows you to specify which gems your application depends upon, and optionally which version those gems should be. Once this specification is in place, Bundler installs all required gems (including the full gem dependency tree) and logs the results for later inspection. By default, Bundler installs gems into a shared location, but they can also be installed directly into your application. When your application is run, Bundler provides the correct version of each gem, even if multiple versions of each gem have been installed. This requires a little bit of work: applications should be called with <code>bundle exec</code>, and two lines of boilerplate code must be placed in your application's main executable.
</p>
<p>To install Bundler:
</p>
<pre>$ gem install bundler
</pre>
<p>By default, Bundler installs gems system-wide, which is contrary to the behaviour of <i>gem</i> itself on Arch. To correct this, add the following to your <code>~/.bashrc</code>:
</p>
<pre>export GEM_HOME=$(ruby -e 'print Gem.user_dir')
</pre>
<p>To start a new bundle:
</p>
<pre>$ bundle init
</pre>
<p>Then edit <code>Gemfile</code> in the current directory (created by bundle init) and list your required gems:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">Gemfile</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
gem "rails", "3.2.9"
gem "mysql"
</pre>
<p>Run the following to install gems into <code>GEM_HOME</code>:
</p>
<pre>$ bundle install
</pre>
<p>Alternatively, run the following to install gems to <code>.bundle</code> in the working directory:
</p>
<pre>$ bundle install --path .bundle
</pre>
<p>Don't forget to edit your main executable:
</p>
<pre>#!/usr/bin/env ruby

# "This will automatically discover your Gemfile, and make all of the gems in
# your Gemfile available to Ruby." <a rel="nofollow" class="external free" href="http://bundler.io/rationale.html">http://bundler.io/rationale.html</a>
require 'bundler/setup'

...
</pre>
<p>Finally, run your program:
</p>
<pre>bundle exec <i>main_executable_name.rb</i>
</pre>
<h3><span class="mw-headline" id="Managing_RubyGems_using_pacman">Managing RubyGems using pacman</span></h3>
<p>Instead of managing gems with <code>gem</code>, you can use <code>pacman</code>, or some <a href="../en/Arch_User_Repository.html" title="AUR" class="mw-redirect">AUR</a> helper. Ruby packages follow the naming convention ruby-[gemname]. This option provides the following advantages:
</p>
<ul>
<li> Gems are updated along with the rest of your system. As a result, you never need to run <code>gem update</code>: <code># pacman -Syu</code> suffices.</li>
<li> Installed gems are available system-wide, instead of being available only to the user who installed them.</li>
</ul>
<p>If a gem is not available in AUR, you can use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gem2arch/">gem2arch</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pacgem/">pacgem</a></span><sup><small>AUR</small></sup> to automatically create a package, which can then be installed by pacman.
</p>
<h4><span class="mw-headline" id="Quarry">Quarry</span></h4>
<p>Quarry is an opensource tool (GPL3 license) that allows to maintain <a rel="nofollow" class="external text" href="http://rubygems.org">rubygems</a> binary repository for Arch Linux, as an easier alternative to building packages manually from the AUR. The source is hosted at <a rel="nofollow" class="external text" href="https://github.com/anatol/quarry">github</a>.
</p>
<p>The repository is maintained by Arch developer anatolik at <a rel="nofollow" class="external free" href="http://pkgbuild.com/~anatolik/quarry/">http://pkgbuild.com/~anatolik/quarry/</a>, and is currently for the x86_64 architecture only. It contains many popular gems and new gems can be added upon request.
</p>
<p>See <a href="../en/Unofficial_user_repositories.html#quarry" title="Unofficial user repositories">Unofficial user repositories#quarry</a> to enable it.
</p>
<p>Then install required gem <code># pacman -S ruby-$gemname</code>.
</p>
<p>If you have general questions - send it at the project announcement <a rel="nofollow" class="external free" href="https://bbs.archlinux.org/viewtopic.php?id=182729">https://bbs.archlinux.org/viewtopic.php?id=182729</a><br>
If you have bugreports or code improvements - file at github <a rel="nofollow" class="external free" href="https://github.com/anatol/quarry">https://github.com/anatol/quarry</a>
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li> <a href="../en/Ruby_on_Rails.html" title="Ruby on Rails">Ruby on Rails</a>
</li>
<li> Ruby - <a rel="nofollow" class="external free" href="http://ruby-lang.org/">http://ruby-lang.org/</a>
</li>
<li> Bundler - <a rel="nofollow" class="external free" href="http://bundler.io/">http://bundler.io/</a>
</li>
<li> <a href="https://en.wikipedia.org/wiki/Why%27s_(poignant)_Guide_to_Ruby" class="extiw" title="wikipedia:Why's (poignant) Guide to Ruby">why's (poignant) Guide to Ruby</a>
</li>
<li> [<a rel="nofollow" class="external free" href="http://ruby.learncodethehardway.org/">http://ruby.learncodethehardway.org/</a> Learn Ruby The H</li>
</ul>

</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Programming_languages.html" title="Category:Programming languages">Programming languages</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li></ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
