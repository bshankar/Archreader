<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Parallels - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Parallels skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Parallels</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" width="48" height="48"></a><b>This article or section needs language, wiki syntax or style improvements.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Instructions do not comply to <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a>. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Parallels">Talk:Parallels#</a>)</div>
</div>
<div style="width:45%; margin: 0 0 0.5em 0.5em;">
<p style="background:#333; color:white; padding:0.2em; border-bottom:5px #08c solid; margin:0; text-align:center; font-weight:bold;">Related articles</p>
<ul style="list-style-type:none; margin:0; padding:0.3em;">
<li style="padding:0.4em 0; line-height:1;"><a href="../en/VMware.html" title="VMware">VMware</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/VirtualBox.html" title="VirtualBox">VirtualBox</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="http://www.parallels.com/products/desktop">Parallels</a> Desktop is a hypervisor for macOS which allows users to install a variety of operating systems as "virtual machines" (guests) on the host system, reducing the need for managing multiple physical machines. A more complete description on virtualization can be found at <a href="https://en.wikipedia.org/wiki/Hardware_virtualization" class="extiw" title="wikipedia:Hardware virtualization">Wikipedia</a>.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation_of_Arch_as_a_guest"><span class="tocnumber">1</span> <span class="toctext">Installation of Arch as a guest</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Parallels_Tools"><span class="tocnumber">2</span> <span class="toctext">Parallels Tools</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Overview"><span class="tocnumber">2.1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Required_Kernel_.26_Xorg_versions"><span class="tocnumber">2.2</span> <span class="toctext">Required Kernel &amp; Xorg versions</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Configuring_Xorg"><span class="tocnumber">2.3</span> <span class="toctext">Configuring Xorg</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Preparing_dependencies"><span class="tocnumber">2.4</span> <span class="toctext">Preparing dependencies</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Installing_Parallels_tools"><span class="tocnumber">2.5</span> <span class="toctext">Installing Parallels tools</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Systemd_Configuration"><span class="tocnumber">2.6</span> <span class="toctext">Systemd Configuration</span></a></li>
<li class="toclevel-2 tocsection-9">
<a href="#Using_the_Tools"><span class="tocnumber">2.7</span> <span class="toctext">Using the Tools</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#Sharing_Folders"><span class="tocnumber">2.7.1</span> <span class="toctext">Sharing Folders</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#Dynamic_Display_Resolution"><span class="tocnumber">2.7.2</span> <span class="toctext">Dynamic Display Resolution</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-12"><a href="#Future_work"><span class="tocnumber">2.8</span> <span class="toctext">Future work</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation_of_Arch_as_a_guest">Installation of Arch as a guest</span></h2>
<p>Parallels Desktop supports Linux guests out of the box, but only offers support for a few Linux distributions - excluding Arch Linux. This means the installation of Parallels tools have not been tested by the vendor, and requires some manual intervention to work under Arch. If you do not wish to use Parallels tools, installation is as simple as choosing "other linux" when creating a new virtual machine and proceeding as you would on any real machine.
</p>
<h2><span class="mw-headline" id="Parallels_Tools">Parallels Tools</span></h2>
<h3><span class="mw-headline" id="Overview">Overview</span></h3>
<p>To improve interoperability between the host and the guest operating systems, Parallels provides a package called "Parallels tools" which contains kernel modules and userspace utilities. See <a rel="nofollow" class="external text" href="http://download.parallels.com/desktop/v6/docs/en/Parallels_Desktop_Users_Guide/22272.htm">Parallels Tools Overview</a> for a list of its features.
</p>
<p>This article assumes users want to make full use of the tools, including Xorg configuration. If you are running a headless server, you can skip over the sections relating to X.
</p>
<p>When referring to the version of parallel tools the form is &lt;Parallels.Version&gt;.&lt;Tools Version&gt;. For example: 9.0.24237.1028877 corresponds to Parallels version 9.0.24237 with tools version 1028877
</p>
<h3><span class="mw-headline" id="Required_Kernel_.26_Xorg_versions">Required Kernel &amp; Xorg versions</span></h3>
<p>The tools installer uses binaries which can sometimes be incompatible with the latest version of Xorg or kernels in the Arch repository.
</p>
<p>Different versions have different software requirements:
</p>
<ul>
<li> 9.0.24229.991745 needs 3.13.8 (or possibly a later 3.13.y) (3.14 is known to show a black screen and freeze the system) and xorg 1.15.y or earlier</li>
<li> 9.0.24237.1028877 works with Arch's 3.14.15-1-lts (newer versions may work) and xorg 1.15.y or earlier</li>
<li> 11.0.0.31193 works on the latest Arch 4.1.6-1 and xorg 1.17.2-4</li>
</ul>
<p>And there are different ways to obtain them:
</p>
<ul>
<li> linux 3.13.8 can be obtained from the <a href="../en/Arch_Linux_Archive.html" title="Arch Rollback Machine" class="mw-redirect">Arch Rollback Machine</a>
</li>
<li> linux 3.14.15 is the current linux-lts, so just install that and regenerate your grub config.</li>
<li> xorg 1.15.y can be obtained using the instructions &amp; repo from <a href="../en/AMD_Catalyst.html" title="AMD Catalyst">AMD Catalyst</a>.</li>
</ul>
<p>Repository settings for /etc/pacman.conf (for 3.13.8)
</p>
<pre>[core]
#Include = /etc/pacman.d/mirrorlist
SigLevel = PackageRequired
Server = <a rel="nofollow" class="external free" href="http://seblu.net/a/arm/2014/04/09/%24repo/os/%24arch">http://seblu.net/a/arm/2014/04/09/$repo/os/$arch</a>
[extra]
#Include = /etc/pacman.d/mirrorlist
SigLevel = PackageRequired
Server = <a rel="nofollow" class="external free" href="http://seblu.net/a/arm/2014/04/09/%24repo/os/%24arch">http://seblu.net/a/arm/2014/04/09/$repo/os/$arch</a>
</pre>
<p>See also <a href="../en/Downgrading_packages.html#Downgrading_the_kernel" title="Downgrading packages">Downgrading packages#Downgrading the kernel</a>.
</p>
<h3><span class="mw-headline" id="Configuring_Xorg">Configuring Xorg</span></h3>
<p>The Parallels tools installer will take care of configuring Xorg, so just follow the instructions at <a href="../en/Xorg.html" title="Xorg">Xorg</a> to install the relevant packages on your system. Install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=xf86-video-vesa">xf86-video-vesa</a></span> package to use the vesa driver.
</p>
<h3><span class="mw-headline" id="Preparing_dependencies">Preparing dependencies</span></h3>
<p>The installation script expects to find your init-scripts in <code>/etc/init.d/</code> and will fail if it's not present. Since Arch uses systemd, create a symlink to the systemd scripts directory and set the def_sysconfdir variable:
</p>
<pre># ln -sf /usr/lib/systemd/scripts/ /etc/init.d</pre>
<pre># export def_sysconfdir=/etc/init.d</pre>
<p>The installation script also expects the file <code>/etc/X11/xorg.conf</code>. We can just create an empty file, as it will automatically be configured by the installer:
</p>
<pre># touch /etc/X11/xorg.conf</pre>
<p>Then, you need to install standard build utilities, python2, and kernel headers:
</p>
<pre># pacman -S base-devel python2 linux-headers</pre>
<p>depends on your Parallels version, you may have to install <code>linux-lts-headers</code> instead of <code>linux-headers</code>.
</p>
<p>Finally, create a temporary symbolic link to python 2. Remove this link after the installation process.
</p>
<pre># ln -sf /usr/bin/python2 /usr/local/bin/python</pre>
<h3><span class="mw-headline" id="Installing_Parallels_tools">Installing Parallels tools</span></h3>
<p>Choose "install Parallels Tools" from the "Virtual Machine" menu. Parallels Tools are located on a cd-image, which will be connected to your virtual machine. You have to mount it first:
</p>
<pre># mount /dev/cdrom /mnt/cdrom</pre>
<p>Now you can proceed to install Parallels tools using the installation script as follows:
</p>
<pre># cd /mnt/cdrom</pre>
<pre># ./install</pre>
<h3><span class="mw-headline" id="Systemd_Configuration">Systemd Configuration</span></h3>
<p>The Parallels tools daemon should be started at boot, so create a service file like the following:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/lib/systemd/system/parallels-tools.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Parallels Tools
[Service]
Type=oneshot
ExecStart=/usr/lib/systemd/scripts/prltoolsd start
ExecStop=/usr/lib/systemd/scripts/prltoolsd stop
RemainAfterExit=yes
[Install]
WantedBy=multi-user.target</pre>
<p><a href="../en/Systemd.html#Using_units" title="Enable" class="mw-redirect">Enable</a> the <code>parallels-tools.service</code> service. Reboot the system and Parallels tools should now be installed and working.
</p>
<h3><span class="mw-headline" id="Using_the_Tools">Using the Tools</span></h3>
<h4><span class="mw-headline" id="Sharing_Folders">Sharing Folders</span></h4>
<p>You can specify which folders on your hosts system you would like to share with your guests under "virtual machine &gt; configuration &gt; sharing".
Then you mount a shared folder like this:
</p>
<pre># mount -t prl_fs <i>name_of_share</i> <i>/mnt/name_of_share</i></pre>
<h4><span class="mw-headline" id="Dynamic_Display_Resolution">Dynamic Display Resolution</span></h4>
<p>A very helpful tool is <code>prlcc</code>. It changes the resolution of the display (in the guest - not the host) automatically when your resize your window. If this tool is not running, the contents of the window gets stretched or shrunken.
prlcc is usually started automatically and runs in the background. If not, run the following (or place it in a configuration file like /etc/X11/xinit/xinitrc.d/90-prlcc):
</p>
<pre>$ prlcc &amp;</pre>
<h3><span class="mw-headline" id="Future_work">Future work</span></h3>
<p>In general, updating system packages like the linux kernel or Xorg can break Parallels tools and you will need to re-install them. In some cases, new packages will be incompatible with the tools and they will stop working - in that case you will need to roll back the newly installed packages and wait until Parallels releases a new product build before updating your guest (in the hope they have resolved any previous incompatibilities).
</p>
</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Hypervisors.html" title="Category:Hypervisors">Hypervisors</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li></ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
