<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>PulseAudio/Troubleshooting - ArchWiki</title>
<link rel="stylesheet" href="../../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-PulseAudio_Troubleshooting skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 2em; margin-bottom: 0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">PulseAudio/Troubleshooting</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"><span class="subpages">&lt; <a href="../../en/PulseAudio.html" title="PulseAudio">PulseAudio</a></span></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p>See <a href="../../en/PulseAudio.html" title="PulseAudio">PulseAudio</a> for the main article.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Volume"><span class="tocnumber">1</span> <span class="toctext">Volume</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Auto-Mute_Mode"><span class="tocnumber">1.1</span> <span class="toctext">Auto-Mute Mode</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Muted_audio_device"><span class="tocnumber">1.2</span> <span class="toctext">Muted audio device</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Output_stuck_muted_while_Master_is_toggled"><span class="tocnumber">1.3</span> <span class="toctext">Output stuck muted while Master is toggled</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Muted_application"><span class="tocnumber">1.4</span> <span class="toctext">Muted application</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Volume_adjustment_does_not_work_properly"><span class="tocnumber">1.5</span> <span class="toctext">Volume adjustment does not work properly</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Per-application_volumes_change_when_the_Master_volume_is_adjusted"><span class="tocnumber">1.6</span> <span class="toctext">Per-application volumes change when the Master volume is adjusted</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Volume_gets_louder_every_time_a_new_application_is_started"><span class="tocnumber">1.7</span> <span class="toctext">Volume gets louder every time a new application is started</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Sound_output_is_only_mono_on_M-Audio_Audiophile_2496_sound_card"><span class="tocnumber">1.8</span> <span class="toctext">Sound output is only mono on M-Audio Audiophile 2496 sound card</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#No_sound_below_a_volume_cutoff"><span class="tocnumber">1.9</span> <span class="toctext">No sound below a volume cutoff</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Low_volume_for_internal_microphone"><span class="tocnumber">1.10</span> <span class="toctext">Low volume for internal microphone</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Clients_alter_master_output_volume_.28a.k.a._volume_jumps_to_100.25_after_running_application.29"><span class="tocnumber">1.11</span> <span class="toctext">Clients alter master output volume (a.k.a. volume jumps to 100% after running application)</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#No_sound_after_resume_from_suspend"><span class="tocnumber">1.12</span> <span class="toctext">No sound after resume from suspend</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#ALSA_channels_mute_when_headphones_are_plugged.2Funplugged_improperly"><span class="tocnumber">1.13</span> <span class="toctext">ALSA channels mute when headphones are plugged/unplugged improperly</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15">
<a href="#Microphone"><span class="tocnumber">2</span> <span class="toctext">Microphone</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#Microphone_not_detected_by_PulseAudio"><span class="tocnumber">2.1</span> <span class="toctext">Microphone not detected by PulseAudio</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#PulseAudio_uses_wrong_microphone"><span class="tocnumber">2.2</span> <span class="toctext">PulseAudio uses wrong microphone</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#No_microphone_on_ThinkPad_T400.2FT500.2FT420"><span class="tocnumber">2.3</span> <span class="toctext">No microphone on ThinkPad T400/T500/T420</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#No_microphone_input_on_Acer_Aspire_One"><span class="tocnumber">2.4</span> <span class="toctext">No microphone input on Acer Aspire One</span></a></li>
<li class="toclevel-2 tocsection-20">
<a href="#Static_noise_in_microphone_recording"><span class="tocnumber">2.5</span> <span class="toctext">Static noise in microphone recording</span></a>
<ul>
<li class="toclevel-3 tocsection-21"><a href="#Determine_sound_cards_in_the_system_.281.2F5.29"><span class="tocnumber">2.5.1</span> <span class="toctext">Determine sound cards in the system (1/5)</span></a></li>
<li class="toclevel-3 tocsection-22"><a href="#Determine_sampling_rate_of_the_sound_card_.282.2F5.29"><span class="tocnumber">2.5.2</span> <span class="toctext">Determine sampling rate of the sound card (2/5)</span></a></li>
<li class="toclevel-3 tocsection-23"><a href="#Setting_the_sound_card.27s_sampling_rate_into_PulseAudio_configuration_.283.2F5.29"><span class="tocnumber">2.5.3</span> <span class="toctext">Setting the sound card's sampling rate into PulseAudio configuration (3/5)</span></a></li>
<li class="toclevel-3 tocsection-24"><a href="#Restart_PulseAudio_to_apply_the_new_settings_.284.2F5.29"><span class="tocnumber">2.5.4</span> <span class="toctext">Restart PulseAudio to apply the new settings (4/5)</span></a></li>
<li class="toclevel-3 tocsection-25"><a href="#Finally_check_by_recording_and_playing_it_back_.285.2F5.29"><span class="tocnumber">2.5.5</span> <span class="toctext">Finally check by recording and playing it back (5/5)</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-26"><a href="#No_microphone_on_Steam_or_Skype_with_enable-remixing_.3D_no"><span class="tocnumber">2.6</span> <span class="toctext">No microphone on Steam or Skype with enable-remixing = no</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#Microphone_distorted_due_to_automatic_adjustment"><span class="tocnumber">2.7</span> <span class="toctext">Microphone distorted due to automatic adjustment</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-28">
<a href="#Audio_quality"><span class="tocnumber">3</span> <span class="toctext">Audio quality</span></a>
<ul>
<li class="toclevel-2 tocsection-29"><a href="#Enable_Echo.2FNoise-Cancelation"><span class="tocnumber">3.1</span> <span class="toctext">Enable Echo/Noise-Cancelation</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#Glitches.2C_skips_or_crackling"><span class="tocnumber">3.2</span> <span class="toctext">Glitches, skips or crackling</span></a></li>
<li class="toclevel-2 tocsection-31">
<a href="#Setting_the_default_fragment_number_and_buffer_size_in_PulseAudio"><span class="tocnumber">3.3</span> <span class="toctext">Setting the default fragment number and buffer size in PulseAudio</span></a>
<ul>
<li class="toclevel-3 tocsection-32"><a href="#Disabling_timer-based_scheduling_.280.2F4.29"><span class="tocnumber">3.3.1</span> <span class="toctext">Disabling timer-based scheduling (0/4)</span></a></li>
<li class="toclevel-3 tocsection-33"><a href="#Finding_out_your_audio_device_parameters_.281.2F4.29"><span class="tocnumber">3.3.2</span> <span class="toctext">Finding out your audio device parameters (1/4)</span></a></li>
<li class="toclevel-3 tocsection-34"><a href="#Calculate_your_fragment_size_in_msecs_and_number_of_fragments_.282.2F4.29"><span class="tocnumber">3.3.3</span> <span class="toctext">Calculate your fragment size in msecs and number of fragments (2/4)</span></a></li>
<li class="toclevel-3 tocsection-35"><a href="#Modify_PulseAudio.27s_configuration_file_.283.2F4.29"><span class="tocnumber">3.3.4</span> <span class="toctext">Modify PulseAudio's configuration file (3/4)</span></a></li>
<li class="toclevel-3 tocsection-36"><a href="#Restart_the_PulseAudio_daemon_.284.2F4.29"><span class="tocnumber">3.3.5</span> <span class="toctext">Restart the PulseAudio daemon (4/4)</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-37"><a href="#Choppy_sound_with_analog_surround_sound_setup"><span class="tocnumber">3.4</span> <span class="toctext">Choppy sound with analog surround sound setup</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#Laggy_sound"><span class="tocnumber">3.5</span> <span class="toctext">Laggy sound</span></a></li>
<li class="toclevel-2 tocsection-39"><a href="#Choppy.2Fdistorted_sound"><span class="tocnumber">3.6</span> <span class="toctext">Choppy/distorted sound</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-40">
<a href="#Hardware_and_Cards"><span class="tocnumber">4</span> <span class="toctext">Hardware and Cards</span></a>
<ul>
<li class="toclevel-2 tocsection-41"><a href="#No_HDMI_sound_output_after_some_time_with_the_monitor_turned_off"><span class="tocnumber">4.1</span> <span class="toctext">No HDMI sound output after some time with the monitor turned off</span></a></li>
<li class="toclevel-2 tocsection-42"><a href="#No_cards"><span class="tocnumber">4.2</span> <span class="toctext">No cards</span></a></li>
<li class="toclevel-2 tocsection-43"><a href="#Starting_an_application_interrupts_other_app.27s_sound"><span class="tocnumber">4.3</span> <span class="toctext">Starting an application interrupts other app's sound</span></a></li>
<li class="toclevel-2 tocsection-44"><a href="#The_only_device_shown_is_.22dummy_output.22_or_newly_connected_cards_are_not_detected"><span class="tocnumber">4.4</span> <span class="toctext">The only device shown is "dummy output" or newly connected cards are not detected</span></a></li>
<li class="toclevel-2 tocsection-45"><a href="#No_HDMI_5.2F7.1_Selection_for_Device"><span class="tocnumber">4.5</span> <span class="toctext">No HDMI 5/7.1 Selection for Device</span></a></li>
<li class="toclevel-2 tocsection-46"><a href="#Failed_to_create_sink_input:_sink_is_suspended"><span class="tocnumber">4.6</span> <span class="toctext">Failed to create sink input: sink is suspended</span></a></li>
<li class="toclevel-2 tocsection-47"><a href="#Simultaneous_output_to_multiple_sound_cards_.2F_devices"><span class="tocnumber">4.7</span> <span class="toctext">Simultaneous output to multiple sound cards / devices</span></a></li>
<li class="toclevel-2 tocsection-48"><a href="#Simultaneous_output_to_multiple_sinks_on_the_same_sound_card_not_working"><span class="tocnumber">4.8</span> <span class="toctext">Simultaneous output to multiple sinks on the same sound card not working</span></a></li>
<li class="toclevel-2 tocsection-49"><a href="#Some_profiles_like_SPDIF_are_not_enabled_by_default_on_the_card"><span class="tocnumber">4.9</span> <span class="toctext">Some profiles like SPDIF are not enabled by default on the card</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-50">
<a href="#Bluetooth"><span class="tocnumber">5</span> <span class="toctext">Bluetooth</span></a>
<ul>
<li class="toclevel-2 tocsection-51"><a href="#Disable_Bluetooth_support"><span class="tocnumber">5.1</span> <span class="toctext">Disable Bluetooth support</span></a></li>
<li class="toclevel-2 tocsection-52"><a href="#Bluetooth_headset_replay_problems"><span class="tocnumber">5.2</span> <span class="toctext">Bluetooth headset replay problems</span></a></li>
<li class="toclevel-2 tocsection-53"><a href="#Automatically_switch_to_Bluetooth_or_USB_headset"><span class="tocnumber">5.3</span> <span class="toctext">Automatically switch to Bluetooth or USB headset</span></a></li>
<li class="toclevel-2 tocsection-54"><a href="#My_Bluetooth_device_is_paired_but_does_not_play_any_sound"><span class="tocnumber">5.4</span> <span class="toctext">My Bluetooth device is paired but does not play any sound</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-55">
<a href="#Applications"><span class="tocnumber">6</span> <span class="toctext">Applications</span></a>
<ul>
<li class="toclevel-2 tocsection-56"><a href="#Flash_content"><span class="tocnumber">6.1</span> <span class="toctext">Flash content</span></a></li>
<li class="toclevel-2 tocsection-57"><a href="#Permission_errors_bug"><span class="tocnumber">6.2</span> <span class="toctext">Permission errors bug</span></a></li>
<li class="toclevel-2 tocsection-58"><a href="#Audacity"><span class="tocnumber">6.3</span> <span class="toctext">Audacity</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-59">
<a href="#Other_Issues"><span class="tocnumber">7</span> <span class="toctext">Other Issues</span></a>
<ul>
<li class="toclevel-2 tocsection-60"><a href="#Bad_configuration_files"><span class="tocnumber">7.1</span> <span class="toctext">Bad configuration files</span></a></li>
<li class="toclevel-2 tocsection-61"><a href="#Cannot_update_configuration_of_sound_device_in_pavucontrol"><span class="tocnumber">7.2</span> <span class="toctext">Cannot update configuration of sound device in pavucontrol</span></a></li>
<li class="toclevel-2 tocsection-62"><a href="#Failed_to_create_sink_input:_sink_is_suspended_2"><span class="tocnumber">7.3</span> <span class="toctext">Failed to create sink input: sink is suspended</span></a></li>
<li class="toclevel-2 tocsection-63"><a href="#Pulse_overwrites_ALSA_settings"><span class="tocnumber">7.4</span> <span class="toctext">Pulse overwrites ALSA settings</span></a></li>
<li class="toclevel-2 tocsection-64"><a href="#Prevent_Pulse_from_restarting_after_being_killed"><span class="tocnumber">7.5</span> <span class="toctext">Prevent Pulse from restarting after being killed</span></a></li>
<li class="toclevel-2 tocsection-65">
<a href="#Daemon_startup_failed"><span class="tocnumber">7.6</span> <span class="toctext">Daemon startup failed</span></a>
<ul>
<li class="toclevel-3 tocsection-66"><a href="#Outputs_by_PulseAudio_error_status_check_utilities"><span class="tocnumber">7.6.1</span> <span class="toctext">Outputs by PulseAudio error status check utilities</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-67"><a href="#Daemon_already_running"><span class="tocnumber">7.7</span> <span class="toctext">Daemon already running</span></a></li>
<li class="toclevel-2 tocsection-68"><a href="#Subwoofer_stops_working_after_end_of_every_song"><span class="tocnumber">7.8</span> <span class="toctext">Subwoofer stops working after end of every song</span></a></li>
<li class="toclevel-2 tocsection-69"><a href="#Unable_to_select_surround_configuration_other_than_.22Surround_4.0.22"><span class="tocnumber">7.9</span> <span class="toctext">Unable to select surround configuration other than "Surround 4.0"</span></a></li>
<li class="toclevel-2 tocsection-70"><a href="#Realtime_scheduling"><span class="tocnumber">7.10</span> <span class="toctext">Realtime scheduling</span></a></li>
<li class="toclevel-2 tocsection-71"><a href="#pactl_.22invalid_option.22_error_with_negative_percentage_arguments"><span class="tocnumber">7.11</span> <span class="toctext">pactl "invalid option" error with negative percentage arguments</span></a></li>
<li class="toclevel-2 tocsection-72"><a href="#Fallback_device_is_not_respected"><span class="tocnumber">7.12</span> <span class="toctext">Fallback device is not respected</span></a></li>
<li class="toclevel-2 tocsection-73"><a href="#RTP.2FUDP_packet_flood"><span class="tocnumber">7.13</span> <span class="toctext">RTP/UDP packet flood</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Volume">Volume</span></h2>
<p>Here you will find some hints on volume issues and why you may not hear anything.
</p>
<h3><span class="mw-headline" id="Auto-Mute_Mode">Auto-Mute Mode</span></h3>
<p>Auto-Mute Mode may be enabled. It can be disabled using <code>alsamixer</code>.
</p>
<p>See <a rel="nofollow" class="external free" href="http://superuser.com/questions/431079/how-to-disable-auto-mute-mode">http://superuser.com/questions/431079/how-to-disable-auto-mute-mode</a> for more.
</p>
<p>To save your current settings as the default options, run <code>alsactl store</code> as root.
</p>
<h3><span class="mw-headline" id="Muted_audio_device">Muted audio device</span></h3>
<p>If one experiences no audio output via any means while using <a href="../../en/Advanced_Linux_Sound_Architecture.html" title="ALSA" class="mw-redirect">ALSA</a>, attempt to unmute the sound card. To do this, launch <code>alsamixer</code> and make sure each column has a green <code>00</code> under it (this can be toggled by pressing <code>m</code>):
</p>
<pre>$ alsamixer -c 0
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>alsamixer will not tell you which output device is set as the default. One possible cause of no sound after install is that PulseAudio detects the wrong output device as a default. Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=pavucontrol">pavucontrol</a></span> and check if there is any output on the pavucontrol panel when playing a <i>.wav</i> file.</div>
<h3><span class="mw-headline" id="Output_stuck_muted_while_Master_is_toggled">Output stuck muted while Master is toggled</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../../File:Tango-edit-cut.png" class="image"><img alt="Tango-edit-cut.png" src="../../File:Tango-edit-cut.png" width="48" height="48"></a><b>This section is being considered for removal.</b><a href="../../File:Tango-edit-cut.png" class="image"><img alt="Tango-edit-cut.png" src="../../File:Tango-edit-cut.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> The problem is using ALSA tools for controlling PulseAudio, see <a href="../../en/PulseAudio.html#Keyboard_volume_control" title="PulseAudio">PulseAudio#Keyboard volume control</a> for better way. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:PulseAudio/Troubleshooting">Talk:PulseAudio/Troubleshooting#</a>)</div>
</div>
<p>In setups with multiple outputs (e.g. 'Headphone' and 'Speaker') using plain amixer to toggle Master can trigger PulseAudio to mute the active output too, but it does not necessarily unmute it when Master is toggled back to be unmuted. To resolve this, amixer must have the device flag set to 'pulse':
</p>
<pre>$ amixer -D pulse sset Master toggle
</pre>
<p>This will cause amixer to ask PulseAudio to do the toggling rather than toggling it directly.
Because of this, PulseAudio will correctly unmute Master as well as any applicable output.
</p>
<h3><span class="mw-headline" id="Muted_application">Muted application</span></h3>
<p>If a specific application is muted or low while all else seems to be in order, it may be due to individual <code>sink-input</code> settings. With the offending application playing audio, run:
</p>
<pre>$ pacmd list-sink-inputs
</pre>
<p>Find and make note of the <code>index</code> of the corresponding <code>sink input</code>. The <code>properties:</code> <code>application.name</code> and <code>application.process.binary</code>, among others, should help here. Ensure sane settings are present, specifically those of <code>muted</code> and <code>volume</code>.
If the sink is muted, it can be unmuted by:
</p>
<pre>$ pacmd set-sink-input-mute &lt;index&gt; false
</pre>
<p>If the volume needs adjusting, it can be set to 100% by:
</p>
<pre>$ pacmd set-sink-input-volume &lt;index&gt; 0x10000
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>If <code>pacmd</code> reports <code>0 sink input(s)</code>, double-check that the application is playing audio. If it is still absent, verify that other applications show up as sink inputs.</div>
<h3><span class="mw-headline" id="Volume_adjustment_does_not_work_properly">Volume adjustment does not work properly</span></h3>
<p>Check:
<code>/usr/share/pulseaudio/alsa-mixer/paths/analog-output.conf.common</code>
</p>
<p>If the volume does not appear to increment/decrement properly using <code>alsamixer</code> or <code>amixer</code>, it may be due to PulseAudio having a larger number of increments (65537 to be exact). Try using larger values when changing volume (e.g. <code>amixer set Master 655+</code>).
</p>
<h3><span class="mw-headline" id="Per-application_volumes_change_when_the_Master_volume_is_adjusted">Per-application volumes change when the Master volume is adjusted</span></h3>
<p>This is because PulseAudio uses flat volumes by default, instead of relative volumes, relative to an absolute master volume. If this is found to be inconvenient, asinine, or otherwise undesireable, relative volumes can be enabled by disabling flat volumes in the PulseAudio daemon's configuration file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pulse/daemon.conf or ~/.config/pulse/daemon.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
flat-volumes = no
</pre>
<p>and then restarting PulseAudio by executing
</p>
<pre>$ pulseaudio -k
$ pulseaudio --start
</pre>
<h3><span class="mw-headline" id="Volume_gets_louder_every_time_a_new_application_is_started">Volume gets louder every time a new application is started</span></h3>
<p>Per default, it seems as if changing the volume in an application sets the global system volume to that level instead of only affecting the respective application. Applications setting their volume on startup will therefore cause the system volume to "jump".
</p>
<p>Fix this by disabling flat volumes, as demonstrated in the previous section. When Pulse comes back after a few seconds, applications will not alter the global system volume anymore but have their own volume level again.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>A previously installed and removed pulseaudio-equalizer may leave behind remnants of the setup in <code>~/.config/pulse/default.pa</code> or <code>~/.pulse/default.pa</code> which can also cause maximized volume trouble. Comment that out as needed.</div>
<h3><span class="mw-headline" id="Sound_output_is_only_mono_on_M-Audio_Audiophile_2496_sound_card">Sound output is only mono on M-Audio Audiophile 2496 sound card</span></h3>
<p>Add the following:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pulseaudio/default.pa</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
load-module module-alsa-sink sink_name=delta_out device=hw:M2496 format=s24le channels=10 channel_map=left,right,aux0,aux1,aux2,aux3,aux4,aux5,aux6,aux7
load-module module-alsa-source source_name=delta_in device=hw:M2496 format=s24le channels=12 channel_map=left,right,aux0,aux1,aux2,aux3,aux4,aux5,aux6,aux7,aux8,aux9
set-default-sink delta_out
set-default-source delta_in
</pre>
<h3><span class="mw-headline" id="No_sound_below_a_volume_cutoff">No sound below a volume cutoff</span></h3>
<p>Known issue (won't fix): <a rel="nofollow" class="external free" href="https://bugs.launchpad.net/ubuntu/+source/pulseaudio/+bug/223133">https://bugs.launchpad.net/ubuntu/+source/pulseaudio/+bug/223133</a>
</p>
<p>If sound does not play when PulseAudio's volume is set below a certain level, try setting <code>ignore_dB=1</code> in <code>/etc/pulse/default.pa</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pulse/default.pa</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
load-module module-udev-detect ignore_dB=1
</pre>
<p>However, be aware that it may cause another bug preventing PulseAudio to unmute speakers when headphones or other audio devices are unplugged.
</p>
<h3><span class="mw-headline" id="Low_volume_for_internal_microphone">Low volume for internal microphone</span></h3>
<p>If you experience low volume on internal notebook microphone, try setting:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pulse/default.pa</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
set-source-volume 1 300000
</pre>
<h3><span class="mw-headline" id="Clients_alter_master_output_volume_.28a.k.a._volume_jumps_to_100.25_after_running_application.29">Clients alter master output volume (a.k.a. volume jumps to 100% after running application)</span></h3>
<p>If changing the volume in specific applications or simply running an application changes the master output volume this is likely due to flat volumes mode of pulseaudio. Before disabling it, KDE users should try lowering their system notifications volume in <i>System Settings -&gt; Application and System Notifications -&gt; Manage Notifications</i> under the <i>Player Settings</i> tab to something reasonable. Changing the <i>Event Sounds</i> volume in KMix or another volume mixer application will not help here. This should make the flat-volumes mode work out as intended, if it does not work, some other application is likely requesting 100% volume when its playing something. If all else fails, you can try to disable flat-volumes:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pulse/daemon.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
flat-volumes = no
</pre>
<p>Then restart PulseAudio daemon:
</p>
<pre># pulseaudio -k
# pulseaudio --start
</pre>
<h3><span class="mw-headline" id="No_sound_after_resume_from_suspend">No sound after resume from suspend</span></h3>
<p>If audio generally works, but stops after resume from suspend, try "reloading" PulseAudio by executing:
</p>
<pre>$ /usr/bin/pasuspender /bin/true
</pre>
<p>This is better than completely killing and restarting it (<code>pulseaudio -k</code> followed by <code>pulseaudio --start</code>), because it does not break already running applications.
</p>
<p>If the above fixes your problem, you may wish to automate it, by creating a systemd service file.
</p>
<p>1. Create the template service file in <code>/etc/systemd/system/resume-fix-pulseaudio@.service</code>:
</p>
<pre>[Unit]
Description=Fix PulseAudio after resume from suspend
After=suspend.target

[Service]
User=%I
Type=oneshot
Environment="XDG_RUNTIME_DIR=/run/user/%U"
ExecStart=/usr/bin/pasuspender /bin/true

[Install]
WantedBy=suspend.target
</pre>
<p>2. Enable it for your user account
</p>
<pre># systemctl enable resume-fix-pulseaudio@YOUR_USERNAME_HERE.service
</pre>
<p>3. Reload systemd
</p>
<pre># systemctl --system daemon-reload
</pre>
<h3><span class="mw-headline" id="ALSA_channels_mute_when_headphones_are_plugged.2Funplugged_improperly">ALSA channels mute when headphones are plugged/unplugged improperly</span></h3>
<p>If when you unplug your headphones or plug them in the audio remains muted in alsamixer on the wrong channel due to it being set to 0%, you may be able to fix it by opening <code>/etc/pulse/default.pa</code> and commenting out the line:
</p>
<pre>load-module module-switch-on-port-available
</pre>
<h2><span class="mw-headline" id="Microphone">Microphone</span></h2>
<h3><span class="mw-headline" id="Microphone_not_detected_by_PulseAudio">Microphone not detected by PulseAudio</span></h3>
<p>Determine the card and device number of your mic:
</p>
<pre> $ arecord -l
 **** List of CAPTURE Hardware Devices ****
 card 0: PCH [HDA Intel PCH], device 0: ALC269VC Analog [ALC269VC Analog]
 Subdevices: 1/1
 Subdevice #0: subdevice #0
</pre>
<p>In hw:CARD,DEVICE notation, you would specify the above device as <code>hw:0,0</code>.
</p>
<p>Then, edit <code>/etc/pulse/default.pa</code> and insert a <code>load-module</code> line specifying your device as follows:
</p>
<pre>  load-module module-alsa-source device=hw:0,0
  # the line above should be somewhere before the line below
 .ifexists module-udev-detect.so
</pre>
<p>Finally, restart pulseaudio to apply the new settings:
</p>
<pre>  $ pulseaudio -k ; pulseaudio -D
</pre>
<p>If everything worked correctly, you should now see your mic show up when running <code>pavucontrol</code> (under the <code>Input Devices</code> tab).
</p>
<h3><span class="mw-headline" id="PulseAudio_uses_wrong_microphone">PulseAudio uses wrong microphone</span></h3>
<p>If PulseAudio uses the wrong microphone, and changing the Input Device with Pavucontrol did not help, take a look at alsamixer. It seems that Pavucontrol does not always set the input source correctly.
</p>
<pre>$ alsamixer
</pre>
<p>Press <code>F6</code> and choose your sound card, e.g. HDA Intel. Now press <code>F5</code> to display all items. Try to find the item: <code>Input Source</code>. With the up/down arrow keys you are able to change the input source.
</p>
<p>Now try if the correct microphone is used for recording.
</p>
<h3><span class="mw-headline" id="No_microphone_on_ThinkPad_T400.2FT500.2FT420">No microphone on ThinkPad T400/T500/T420</span></h3>
<p>Run:
</p>
<pre>alsamixer -c 0
</pre>
<p>Unmute and maximize the volume of the "Internal Mic".
</p>
<p>Once you see the device with:
</p>
<pre>arecord -l
</pre>
<p>you might still need to adjust the settings. The microphone and the audio jack are duplexed. Set the configuration of the internal audio in pavucontrol to <i>Analog Stereo Duplex</i>.
</p>
<h3><span class="mw-headline" id="No_microphone_input_on_Acer_Aspire_One">No microphone input on Acer Aspire One</span></h3>
<p>Install pavucontrol, unlink the microphone channels and turn down the left one to 0.
Reference: <a rel="nofollow" class="external free" href="http://getsatisfaction.com/jolicloud/topics/deaf_internal_mic_on_acer_aspire_one#reply_2108048">http://getsatisfaction.com/jolicloud/topics/deaf_internal_mic_on_acer_aspire_one#reply_2108048</a>
</p>
<h3><span class="mw-headline" id="Static_noise_in_microphone_recording">Static noise in microphone recording</span></h3>
<p>If we are getting static noise in Skype, gnome-sound-recorder, arecord, etc.'s recordings, then the sound card sample rate is incorrect. That is why there is static noise in Linux microphone recordings. To fix this, we need to set the sampling rate in <code>/etc/pulse/daemon.conf</code> for the sound hardware.
</p>
<h4><span class="mw-headline" id="Determine_sound_cards_in_the_system_.281.2F5.29">Determine sound cards in the system (1/5)</span></h4>
<p>This requires <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=alsa-utils">alsa-utils</a></span> and related packages to be installed:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ arecord --list-devices</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
**** List of CAPTURE Hardware Devices ****
card 0: Intel [HDA Intel], device 0: ALC888 Analog [ALC888 Analog]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
card 0: Intel [HDA Intel], device 2: ALC888 Analog [ALC888 Analog]
  Subdevices: 1/1
  Subdevice #0: subdevice #0
</pre>
<p>Sound card is <code>hw:0,0</code>.
</p>
<h4><span class="mw-headline" id="Determine_sampling_rate_of_the_sound_card_.282.2F5.29">Determine sampling rate of the sound card (2/5)</span></h4>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">arecord -f dat -r 60000 -D hw:0,0 -d 5 test.wav</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">"Recording WAVE 'test.wav' : Signed 16 bit Little Endian, Rate 60000 Hz, Stereo
Warning: rate is not accurate (requested = 60000Hz, <b>got = 96000Hz</b>)
please, try the plug plugin</pre>
<p>observe, the <code>got = 96000Hz</code>. This is the maximum sampling rate of our card.
</p>
<h4><span class="mw-headline" id="Setting_the_sound_card.27s_sampling_rate_into_PulseAudio_configuration_.283.2F5.29">Setting the sound card's sampling rate into PulseAudio configuration (3/5)</span></h4>
<p>The default sampling rate in PulseAudio:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ grep "default-sample-rate" /etc/pulse/daemon.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">; default-sample-rate = 44100</pre>
<p><code>44100</code> is disabled and needs to be changed to <code>96000</code>:
</p>
<pre># sed 's/; default-sample-rate = 44100/default-sample-rate = 96000/g' -i /etc/pulse/daemon.conf
</pre>
<h4><span class="mw-headline" id="Restart_PulseAudio_to_apply_the_new_settings_.284.2F5.29">Restart PulseAudio to apply the new settings (4/5)</span></h4>
<pre>$ pulseaudio -k
$ pulseaudio --start
</pre>
<h4><span class="mw-headline" id="Finally_check_by_recording_and_playing_it_back_.285.2F5.29">Finally check by recording and playing it back (5/5)</span></h4>
<p>Let us record some voice using a microphone for, say, 10 seconds. Make sure the microphone is not muted and all
</p>
<pre>$ arecord -f cd -d 10 test-mic.wav
</pre>
<p>After 10 seconds, let us play the recording...
</p>
<pre>$ aplay test-mic.wav
</pre>
<p>Now hopefully, there is no static noise in microphone recording anymore.
</p>
<h3><span class="mw-headline" id="No_microphone_on_Steam_or_Skype_with_enable-remixing_.3D_no">No microphone on Steam or Skype with enable-remixing = no</span></h3>
<p>When you set <code>enable-remixing = no</code> on <code>/etc/pulse/daemon.conf</code> you may find that your microphone has stopped working on certain applications like Skype or Steam. This happens because these applications capture the microphone as mono only and because remixing is disabled, Pulseaudio will no longer remix your stereo microphone to mono.
</p>
<p>To fix this you need to tell Pulseaudio to do this for you:
</p>
<p>1. Find the name of the source 
</p>
<pre># pacmd list-sources
</pre>
<p>Example output edited for brevity, the name you need is in bold:
</p>
<pre>   index: 2
       name: &lt;<b>alsa_input.pci-0000_00_14.2.analog-stereo</b>&gt;
       driver: &lt;module-alsa-card.c&gt;
       flags: HARDWARE HW_MUTE_CTRL HW_VOLUME_CTRL DECIBEL_VOLUME LATENCY DYNAMIC_LATENCY
</pre>
<p>2. Add a remap rule to <code>/etc/pulse/default.pa</code>, use the name you found with the previous command, here we will use <b>alsa_input.pci-0000_00_14.2.analog-stereo</b> as an example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pulse/default.pa</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
### Remap microphone to mono
load-module module-remap-source master=alsa_input.pci-0000_00_14.2.analog-stereo master_channel_map=front-left,front-right channels=2 channel_map=mono,mono
</pre>
<p>3. Restart Pulseaudio
</p>
<pre># pulseaudio -k
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Pulseaudio may fail to start if you do not exit a program that was using the microphone (e.g. if you tested on Steam before modifying the file), in which case you should exit the application and manually start Pulseaudio</div>
<pre># pulseaudio --start
</pre>
<h3><span class="mw-headline" id="Microphone_distorted_due_to_automatic_adjustment">Microphone distorted due to automatic adjustment</span></h3>
<p>If your microphone volume creeps up automatically and causes the sound to be distorted, you can fix it by disabling mic boost:
</p>
<p>In <code>/usr/share/pulseaudio/alsa-mixer/paths/analog-input-internal-mic.conf</code> and <code>/usr/share/pulseaudio/alsa-mixer/paths/analog-input-mic.conf</code>,
</p>
<ul>
<li> Under <code>[Element Internal Mic Boost]</code> set <code>volume</code> to <code>zero</code>.</li>
<li> Under <code>[Element Int Mic Boost]</code> set <code>volume</code>  to <code>zero</code>.</li>
<li> Under <code>[Element Mic Boost]</code> set <code>volume</code>  to <code>zero</code>.</li>
</ul>
<p>Then restart PulseAudio:
</p>
<pre># pulseaudio -k
</pre>
<h2><span class="mw-headline" id="Audio_quality">Audio quality</span></h2>
<h3><span class="mw-headline" id="Enable_Echo.2FNoise-Cancelation">Enable Echo/Noise-Cancelation</span></h3>
<p>Arch does not load the Pulseaudio Echo-Cancelation module by default, therefore, we have to add it in <code>/etc/pulse/default.pa</code>. First you can test if the module is present with <code>pacmd</code> and entering <code>list-modules</code>. If you cannot find a line showing <code>name: &lt;module-echo-cancel&gt;</code> you have to add 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pulse/default.pa</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
### Enable Echo/Noise-Cancelation
load-module module-echo-cancel
</pre>
<p>then restart Pulseaudio
</p>
<pre>pulseaudio -k
pulseaudio --start
</pre>
<p>and check if the module is activated by starting <code>pavucontrol</code>. Under <code>Recoding</code> the input device should show <code>Echo-Cancel Source Stream from"</code>
</p>
<h3><span class="mw-headline" id="Glitches.2C_skips_or_crackling">Glitches, skips or crackling</span></h3>
<p>The newer implementation of the PulseAudio sound server uses timer-based audio scheduling instead of the traditional, interrupt-driven approach. 
</p>
<p>Timer-based scheduling may expose issues in some ALSA drivers. On the other hand, other drivers might be glitchy without it on, so check to see what works on your system. 
</p>
<p>To turn timer-based scheduling off add <code>tsched=0</code> in <code>/etc/pulse/default.pa</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pulse/default.pa</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">load-module module-udev-detect tsched=0</pre>
<p>Then restart the PulseAudio server:
</p>
<pre>$ pulseaudio -k
$ pulseaudio --start
</pre>
<p>Do the reverse to enable timer-based scheduling, if not already enabled by default.
</p>
<p>If you are using Intel's <a href="https://en.wikipedia.org/wiki/IOMMU" class="extiw" title="wikipedia:IOMMU">IOMMU</a> and experience glitches and/or skips, add <code>intel_iommu=igfx_off</code> to your kernel command line.
</p>
<p>Some Intel audio cards using the <code>snd-hda-intel</code> module need the otions <code>vid=8086 pid=8ca0 snoop=0</code>. In order to set them permanently, create/modify the following file including the line below.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/sound.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">options snd-hda-intel vid=8086 pid=8ca0 snoop=0</pre>
<p>Please report any such cards to <a rel="nofollow" class="external text" href="http://www.freedesktop.org/wiki/Software/PulseAudio/Backends/ALSA/BrokenDrivers/">PulseAudio Broken Sound Driver page</a>
</p>
<h3><span class="mw-headline" id="Setting_the_default_fragment_number_and_buffer_size_in_PulseAudio">Setting the default fragment number and buffer size in PulseAudio</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../../File:Tango-edit-clear.png" width="48" height="48"></a><b>This article or section needs language, wiki syntax or style improvements.</b><a href="../../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../../File:Tango-edit-clear.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Copied from Linux mint topic with few additions (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:PulseAudio/Troubleshooting">Talk:PulseAudio/Troubleshooting#</a>)</div>
</div>
<h4><span class="mw-headline" id="Disabling_timer-based_scheduling_.280.2F4.29">Disabling timer-based scheduling (0/4)</span></h4>
<p>By default, PulseAudio uses timer-based scheduling. In this mode, fragments are not used at all, and so the default-fragments and default-fragment-size-msec parameters are ignored.
To turn timer-based scheduling off add <code>tsched=0</code> in <code>/etc/pulse/default.pa</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pulse/default.pa</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">load-module module-udev-detect tsched=0</pre>
<h4><span class="mw-headline" id="Finding_out_your_audio_device_parameters_.281.2F4.29">Finding out your audio device parameters (1/4)</span></h4>
<p>To find out what your sound card buffering settings are, use the following command and scroll through the output until you find the correct sink entry.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ pactl list sinks</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
Sink #1
	State: RUNNING
	Name: alsa_output.pci-0000_00_1b.0.analog-stereo
	Description: Built-in Audio Analog Stereo
	Driver: module-alsa-card.c
	Sample Specification: s16le 2ch 44100Hz
	Channel Map: front-left,front-right
	Owner Module: 7
	Mute: no
	Volume: front-left: 42600 /  65% / -11.22 dB,   front-right: 42600 /  65% / -11.22 dB
	        balance 0.00
	Base Volume: 65536 / 100% / 0.00 dB
	Monitor Source: alsa_output.pci-0000_00_1b.0.analog-stereo.monitor
	Latency: 70662 usec, configured 85000 usec
	Flags: HARDWARE HW_MUTE_CTRL HW_VOLUME_CTRL DECIBEL_VOLUME LATENCY 
	Properties:
		alsa.resolution_bits = "16"
		device.api = "alsa"
		device.class = "sound"
		alsa.class = "generic"
		alsa.subclass = "generic-mix"
		alsa.name = "ALC283 Analog"
		alsa.id = "ALC283 Analog"
		alsa.subdevice = "0"
		alsa.subdevice_name = "subdevice #0"
		alsa.device = "0"
		alsa.card = "1"
		alsa.card_name = "HDA Intel PCH"
		alsa.long_card_name = "HDA Intel PCH at 0xe111c000 irq 43"
		alsa.driver_name = "snd_hda_intel"
		device.bus_path = "pci-0000:00:1b.0"
		sysfs.path = "/devices/pci0000:00/0000:00:1b.0/sound/card1"
		device.bus = "pci"
		device.vendor.id = "8086"
		device.vendor.name = "Intel Corporation"
		device.product.id = "9ca0"
		device.product.name = "Wildcat Point-LP High Definition Audio Controller"
		device.form_factor = "internal"
		device.string = "front:1"
		device.buffering.buffer_size = "352800"
		device.buffering.fragment_size = "176400"
		device.access_mode = "mmap+timer"
		device.profile.name = "analog-stereo"
		device.profile.description = "Analog Stereo"
		device.description = "Built-in Audio Analog Stereo"
		alsa.mixer_name = "Realtek ALC283"
		alsa.components = "HDA:10ec0283,10ec0283,00100003"
		module-udev-detect.discovered = "1"
		device.icon_name = "audio-card-pci"
	Ports:
		analog-output-speaker: Speakers (priority: 10000, not available)
		analog-output-headphones: Headphones (priority: 9000, available)
	Active Port: analog-output-headphones
	Formats:
		pcm
...
</pre>
<p>Take note the <code>buffer_size</code> and <code>fragment_size</code> values for the relevant sound card.
</p>
<h4><span class="mw-headline" id="Calculate_your_fragment_size_in_msecs_and_number_of_fragments_.282.2F4.29">Calculate your fragment size in msecs and number of fragments (2/4)</span></h4>
<p>PulseAudio's default sampling rate and bit depth are set to <code>44100Hz</code> @ <code>16 bits</code>.
</p>
<p>With this configuration, the bit rate we need is <code>44100</code>*<code>16</code> = <code>705600</code> bits per second. That is <code>1411200 bps</code> for stereo.
</p>
<p>Let us take a look at the parameters we have found in the previous step:
</p>
<pre>device.buffering.buffer_size = "352800" =&gt; 352800/1411200 = 0.25 s = 250 ms
device.buffering.fragment_size = "176400" =&gt; 176400/1411200 = 0.125 s = 125 ms
</pre>
<h4><span class="mw-headline" id="Modify_PulseAudio.27s_configuration_file_.283.2F4.29">Modify PulseAudio's configuration file (3/4)</span></h4>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pulse/daemon.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
; default-fragments = X
; default-fragment-size-msec = Y
</pre>
<p>In the previous step, we calculated the fragment size parameter.
The number of fragments is simply buffer_size/fragment_size, which in this case (<code>250/125</code>) is <code>2</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pulse/daemon.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">; default-fragments = <b>2</b>
; default-fragment-size-msec = <b>125</b></pre>
<h4><span class="mw-headline" id="Restart_the_PulseAudio_daemon_.284.2F4.29">Restart the PulseAudio daemon (4/4)</span></h4>
<pre>$ pulseaudio -k
$ pulseaudio --start
</pre>
<p>For more information, see: <a rel="nofollow" class="external text" href="http://forums.linuxmint.com/viewtopic.php?f=42&amp;t=44862">Linux Mint topic</a>
</p>
<h3><span class="mw-headline" id="Choppy_sound_with_analog_surround_sound_setup">Choppy sound with analog surround sound setup</span></h3>
<p>The low-frequency effects (LFE) channel is not remixed per default. To enable it the following needs to be set in <code>/etc/pulse/daemon.conf</code> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pulse/daemon.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
enable-lfe-remixing = yes
</pre>
<h3><span class="mw-headline" id="Laggy_sound">Laggy sound</span></h3>
<p>This issue is due to incorrect buffer sizes. First verify that the variables <code>default-fragments</code> and <code>default-fragment-size-msec</code> are not being set to non default values in the file <code>/etc/pulse/daemon.conf</code>. If the issue is still present, try setting them to the following values:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pulse/daemon.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">default-fragments = 5
default-fragment-size-msec = 2</pre>
<h3><span class="mw-headline" id="Choppy.2Fdistorted_sound">Choppy/distorted sound</span></h3>
<p>This can result from an incorrectly set sample rate. Try the following setting:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pulse/daemon.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">default-sample-rate = 48000</pre>
<p>and restart the PulseAudio server.
</p>
<p>If one experiences choppy sound in applications using <a href="https://en.wikipedia.org/wiki/OpenAL" class="extiw" title="wikipedia:OpenAL">OpenAL</a>, change the sample rate in <code>/etc/openal/alsoft.conf</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/openal/alsoft.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">frequency = 48000</pre>
<p>Setting the PCM volume above 0 dB can cause <a href="https://en.wikipedia.org/wiki/Clipping_(audio)" class="extiw" title="wikipedia:Clipping (audio)">clipping</a>. Running <code>alsamixer</code> will allow you to see if this is the problem and if so fix it. Note that ALSA may not <a rel="nofollow" class="external text" href="http://www.freedesktop.org/wiki/Software/PulseAudio/Documentation/User/PulseAudioStoleMyVolumes">correctly export</a> the dB information to PulseAudio. Try the following:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pulse/default.pa</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">load-module module-udev-detect ignore_dB=1</pre>
<p>and restart the PulseAudio server. See also <a href="#No_sound_below_a_volume_cutoff">#No sound below a volume cutoff</a>.
</p>
<h2><span class="mw-headline" id="Hardware_and_Cards">Hardware and Cards</span></h2>
<h3><span class="mw-headline" id="No_HDMI_sound_output_after_some_time_with_the_monitor_turned_off">No HDMI sound output after some time with the monitor turned off</span></h3>
<p>The monitor is connected via HDMI/DisplayPort, and the audio jack is plugged in the headphone jack of the monitor, but PulseAudio insists that it is unplugged:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">pactl list sinks</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
...
hdmi-output-0: HDMI / DisplayPort (priority: 5900, not available)
...
</pre>
<p>This leads to no sound coming from HDMI output. A workaround for this is to switch to another VT and back again. If that does not work, try: turn off your monitor, switch to another VT, turn on your monitor, and switch back. This problem has been reported by ATI/Nvidia/Intel users.
</p>
<p>Another workaround could be to disable the switch-on-port-available module by commenting it in /etc/pulse/default.pa <a rel="nofollow" class="external autonumber" href="https://bugs.freedesktop.org/show_bug.cgi?id=93946#c36">[1]</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pulse/default.pa</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
...
### Should be after module-*-restore but before module-*-detect
#load-module module-switch-on-port-available
...
</pre>
<h3><span class="mw-headline" id="No_cards">No cards</span></h3>
<p>If PulseAudio starts, run <code>pacmd list</code>. If no cards are reported, make sure that the ALSA devices are not in use:
</p>
<pre>$ fuser -v /dev/snd/*
$ fuser -v /dev/dsp
</pre>
<p>Make sure any applications using the pcm or dsp files are shut down before restarting PulseAudio.
</p>
<h3><span class="mw-headline" id="Starting_an_application_interrupts_other_app.27s_sound">Starting an application interrupts other app's sound</span></h3>
<p>If you have trouble with some applications (eg. Teamspeak, Mumble) interrupting sound output of already running applications (eg. Deadbeaf), you can solve this by commenting out the line <code>load-module module-role-cork</code> in <code>/etc/pulse/default.pa</code> like shown below:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pulse/default.pa</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
### Cork music/video streams when a phone stream is active
# load-module module-role-cork
</pre>
<p>Then restart pulseaudo by using your normal user account with
</p>
<pre>pulseaudio -k
pulseaudio --start
</pre>
<h3><span class="mw-headline" id="The_only_device_shown_is_.22dummy_output.22_or_newly_connected_cards_are_not_detected">The only device shown is "dummy output" or newly connected cards are not detected</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../../File:Merge-arrows-2.png" width="48" height="48"></a><b>This article or section is a candidate for merging with <a href="../../en/FluidSynth.html" title="Fluidsynth" class="mw-redirect">Fluidsynth</a>.</b><a href="../../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../../File:Merge-arrows-2.png" width="48" height="48"></a></p>
<div>
<b>Notes:</b> Application-specific problems should be moved to <a href="../../en/FluidSynth.html" title="Fluidsynth" class="mw-redirect">Fluidsynth</a>. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:PulseAudio/Troubleshooting">Talk:PulseAudio/Troubleshooting#</a>)</div>
</div>
<p>Another reason is <a href="../../en/FluidSynth.html" title="FluidSynth">FluidSynth</a> conflicting with PulseAudio as discussed in <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=154002">this thread</a>. One solution is to remove the package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=fluidsynth">fluidsynth</a></span>.
</p>
<p>Alternatively you could modify the <i>fluidsynth</i> configuration file <code>/etc/conf.d/fluidsynth</code> and change the driver to PulseAudio, then restart <i>fluidsynth</i> and PulseAudio:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/conf.d/fluidsynth</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">AUDIO_DRIVER=pulseaudio
OTHER_OPTS='-m alsa_seq-r 48000'</pre>
<p>It is also possible there is an issue with logind giving permissions, see <a href="../../en/General_troubleshooting.html#Session_permissions" title="General troubleshooting">General troubleshooting#Session permissions</a> for more information.
</p>
<h3><span class="mw-headline" id="No_HDMI_5.2F7.1_Selection_for_Device">No HDMI 5/7.1 Selection for Device</span></h3>
<p>If you are unable to select 5/7.1 channel output for a working HDMI device, then turning off "stream device reading" in <code>/etc/pulse/default.pa</code> might help. 
</p>
<p>See <a href="#Fallback_device_is_not_respected">#Fallback device is not respected</a>.
</p>
<h3><span class="mw-headline" id="Failed_to_create_sink_input:_sink_is_suspended">Failed to create sink input: sink is suspended</span></h3>
<p>If you do not have any output sound and receive dozens of errors related to a suspended sink in your <code>journalctl -b</code> log, then backup first and then delete your user-specific pulse folders:
</p>
<pre>$ rm -r ~/.pulse ~/.pulse-cookie ~/.config/pulse
</pre>
<h3><span class="mw-headline" id="Simultaneous_output_to_multiple_sound_cards_.2F_devices">Simultaneous output to multiple sound cards / devices</span></h3>
<p>Simultaneous output to two different devices can be very useful. For example, being able to send audio to your A/V receiver via your graphics card's HDMI output, while also sending the same audio through the analogue output of your motherboard's built-in audio. This is much less hassle than it used to be (in this example, we are using GNOME desktop).
</p>
<p>Using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=paprefs">paprefs</a></span>, simply select "Add virtual output device for simultaneous output on all local sound cards" from under the "Simultaneous Output" tab. Then, under GNOME's "sound settings", select the simultaneous output you have just created.
</p>
<p>If this does not work, try adding the following to <code>~/.asoundrc</code>:
</p>
<pre>pcm.dsp {
   type plug
   slave.pcm "dmix"
}
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDFFDD; border: thin solid #BBDDBB; overflow: hidden;">
<strong> Tip: </strong>Simultaneous output can also be achieved manually using alsamixer. Disable "auto mute" item, then unmute other output sources you want to hear and increase their volume.</div>
<h3><span class="mw-headline" id="Simultaneous_output_to_multiple_sinks_on_the_same_sound_card_not_working">Simultaneous output to multiple sinks on the same sound card not working</span></h3>
<p>This can be useful for users who have multiple sound sources and want to play them on different sinks/outputs. 
An example use-case for this would be if you play music and also voice chat and want to output music to speakers (in this case Digital S/PDIF) and voice to headphones. (Analog)
</p>
<p>This is sometimes auto detected by PulseAudio but not always. If you know that your sound card can output to both Analog and S/PDIF at the same time and PulseAudio does not have this option in its profiles in pavucontrol, or veromix then you probably need to create a configuration file for your sound card.
</p>
<p>More in detail you need to create a profile-set for your specific sound card.
This is done in two steps mostly.
</p>
<ul>
<li> Create udev rule to make PulseAudio choose your PulseAudio configuration file specific to the sound card.</li>
<li> Create the actual configuration.</li>
</ul>
<p>Create a pulseadio udev rule.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>This is only an example for Asus Xonar Essence STX.
Read <a href="../../en/Udev.html" title="Udev">udev</a> to find out the correct values.</div>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Your configuration file should have lower number than the original PulseAudio rule to take effect.</div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/lib/udev/rules.d/90-pulseaudio-Xonar-STX.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
ACTION=="change", SUBSYSTEM=="sound", KERNEL=="card*", \
ATTRS{subsystem_vendor}=="0x1043", ATTRS{subsystem_device}=="0x835c", ENV{PULSE_PROFILE_SET}="asus-xonar-essence-stx.conf" 
</pre>
<p>Now, create a configuration file. If you bother, you can start from scratch and make it saucy. However you can also use the default configuration file, rename it, and then add your profile there that you know works. Less pretty but also faster.
</p>
<p>To enable multiple sinks for Asus Xonar Essence STX you need only to add this in.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong><code>asus-xonar-essence-stx.conf</code> also includes all code/mappings from <code>default.conf</code>.</div>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/share/pulseaudio/alsa-mixer/profile-sets/asus-xonar-essence-stx.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
[Profile analog-stereo+iec958-stereo]
description = Analog Stereo Duplex + Digital Stereo Output
input-mappings = analog-stereo
output-mappings = analog-stereo iec958-stereo
skip-probe = yes
</pre>
<p>This will auto-profile your Asus Xonar Essence STX with default profiles and add your own profile so you can have multiple sinks.
</p>
<p>You need to create another profile in the configuration file if you want to have the same functionality with AC3 Digital 5.1 output.
</p>
<p><a rel="nofollow" class="external text" href="http://www.freedesktop.org/wiki/Software/PulseAudio/Backends/ALSA/Profiles/">See PulseAudio article about profiles</a>
</p>
<h3><span class="mw-headline" id="Some_profiles_like_SPDIF_are_not_enabled_by_default_on_the_card">Some profiles like SPDIF are not enabled by default on the card</span></h3>
<p>Some profiles like IEC-958 (i.e. S/PDIF) may not be enabled by default on the selected sink. Each time the system starts up, the card profile is disabled and the pulseaudio daemon cannot select it.
You have to add the profile selection to you default.pa file. 
Verify the card and profile name with :
</p>
<pre>$ pacmd list-cards
</pre>
<p>Then edit the config to add the profile
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/pulse/default.pa</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
## Replace with your card name and the profile you want to activate
set-card-profile alsa_card.pci-0000_00_1b.0 output:iec958-stereo+input:analog-stereo
</pre>
<p>Pulse audio will add this profile the pool of available profiles
</p>
<h2><span class="mw-headline" id="Bluetooth">Bluetooth</span></h2>
<h3><span class="mw-headline" id="Disable_Bluetooth_support">Disable Bluetooth support</span></h3>
<p>If you do not use Bluetooth, you may experience the following error in your journal:
</p>
<pre>bluez5-util.c: GetManagedObjects() failed: org.freedesktop.DBus.Error.ServiceUnknown: The name org.bluez was not provided by any .service files
</pre>
<p>To disable Bluetooth support in PulseAudio, make sure that the following lines are commented out in the configuration file in use (<code>~/.config/pulse/default.pa</code> or <code>/etc/pulse/default.pa</code>):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/pulse/default.pa</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
### Automatically load driver modules for Bluetooth hardware
#.ifexists module-bluetooth-policy.so
#load-module module-bluetooth-policy
#.endif

#.ifexists module-bluetooth-discover.so
#load-module module-bluetooth-discover
#.endif
</pre>
<h3><span class="mw-headline" id="Bluetooth_headset_replay_problems">Bluetooth headset replay problems</span></h3>
<p>Some user <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=117420">reports</a> huge delays or even no sound when the Bluetooth connection does not send any data. This is due to the <code>module-suspend-on-idle</code> module, which automatically suspends sinks/sources on idle. As this can cause problems with headset, the responsible module can be deactivated.
</p>
<p>To disable loading of the <code>module-suspend-on-idle</code> module, comment out the following line in the configuration file in use (<code>~/.config/pulse/default.pa</code> or <code>/etc/pulse/default.pa</code>):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/pulse/default.pa</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
### Automatically suspend sinks/sources that become idle for too long
#load-module module-suspend-on-idle
</pre>
<p>Finally restart PulseAudio to apply the changes.
</p>
<h3><span class="mw-headline" id="Automatically_switch_to_Bluetooth_or_USB_headset">Automatically switch to Bluetooth or USB headset</span></h3>
<p>Add the following:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pulse/default.pa</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
# automatically switch to newly-connected devices
load-module module-switch-on-connect
</pre>
<h3><span class="mw-headline" id="My_Bluetooth_device_is_paired_but_does_not_play_any_sound">My Bluetooth device is paired but does not play any sound</span></h3>
<p><a href="../../en/Bluetooth.html#My_device_is_paired_but_no_sound_is_played_from_it" title="Bluetooth">See the article in Bluetooth section</a><sup>[<a href="../../en/ArchWiki:Requests.html#Broken_section_links" title="ArchWiki:Requests">broken link</a>: invalid section]</sup>
</p>
<p>Starting from PulseAudio 2.99 and bluez 4.101 you should <b>avoid</b> using Socket interface. Do NOT use:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/bluetooth/audio.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
[General]
Enable=Socket
</pre>
<p>If you face problems with A2DP and PA 2.99 make sure you have <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=sbc">sbc</a></span> library.
</p>
<h2><span class="mw-headline" id="Applications">Applications</span></h2>
<h3><span class="mw-headline" id="Flash_content">Flash content</span></h3>
<p>Since Adobe Flash does not directly support PulseAudio, the recommended way is to <a href="../../en/PulseAudio.html#ALSA" title="PulseAudio">configure ALSA to use the virtual PulseAudio sound card</a>.
</p>
<p>If Flash audio is lagging, you may try to have Flash access ALSA directly. See <a href="../../en/PulseAudio.html#ALSA.2Fdmix_without_grabbing_hardware_device" title="PulseAudio">PulseAudio#ALSA/dmix without grabbing hardware device</a> for details.
</p>
<h3><span class="mw-headline" id="Permission_errors_bug">Permission errors bug</span></h3>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">pulseaudio --start</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
E: [autospawn] core-util.c: Failed to create secure directory (/run/user/1000/pulse): Operation not permitted
W: [autospawn] lock-autospawn.c: Cannot access autospawn lock.
E: [pulseaudio] main.c: Failed to acquire autospawn lock</pre>
<p>Known programs that changes permissions for <code>/run/user/<i>user id</i>/pulse</code> when using <a href="../../en/Polkit.html" title="Polkit">Polkit</a> for root elevation:
</p>
<ul><li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/sakis3g/">sakis3g</a></span><sup><small>AUR</small></sup>  </li></ul>
<p>As a workaround, include <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=gksu">gksu</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=kdesu">kdesu</a></span> in a <a href="../../en/Desktop_entries.html" title="Desktop entry" class="mw-redirect">desktop entry</a>, or add <code><i>username</i> ALL=NOPASSWD: /usr/bin/<i>program_name</i></code> to <a href="../../en/Sudo.html#Configuration" title="Sudoers" class="mw-redirect">sudoers</a> to run it with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=sudo">sudo</a></span> or <code>gksudo</code> without a password.
</p>
<p>The other workaround is to uncomment and set <code>daemonize = yes</code> in the <code>/etc/pulse/daemon.conf</code>.
</p>
<p>See also <a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=135955">[2]</a>.
</p>
<h3><span class="mw-headline" id="Audacity">Audacity</span></h3>
<p>When starting Audacity you may find that your headphones no longer work. This can be because Audacity is trying to use them as a recording device. To fix this, open Audacity, then set its recording device to <code>pulse:Internal Mic:0</code>.
</p>
<p>Under some circumstances, playback may be distorted, very fast, or freeze, as discussed in the <a rel="nofollow" class="external text" href="http://wiki.audacityteam.org/wiki/Linux_Issues#ALSA_and_other_sound_systems">Audacity Wiki's Linux Issues page</a>.
</p>
<p>The solution proposed in this page may work: start Audacity with:
</p>
<pre>$ env PULSE_LATENCY_MSEC=30 audacity
</pre>
<p>If the solution above does not fix this issue, one may wish to temporarily disable pulseaudio while running Audacity by using the <code>pasuspender</code> command:
</p>
<pre>$ pasuspender -- audacity
</pre>
<p>Then, be sure to select the appropriate ALSA input and output devices in Audacity.
</p>
<p>See also <a href="#Setting_the_default_fragment_number_and_buffer_size_in_PulseAudio">#Setting the default fragment number and buffer size in PulseAudio</a>.
</p>
<h2><span class="mw-headline" id="Other_Issues">Other Issues</span></h2>
<h3><span class="mw-headline" id="Bad_configuration_files">Bad configuration files</span></h3>
<p>After starting PulseAudio, if the system outputs no sound, it may be necessary to delete the contents of <code>~/.config/pulse</code> and/or <code>~/.pulse</code>. PulseAudio will automatically create new configuration files on its next start.
</p>
<h3><span class="mw-headline" id="Cannot_update_configuration_of_sound_device_in_pavucontrol">Cannot update configuration of sound device in pavucontrol</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=pavucontrol">pavucontrol</a></span> is a handy GUI utility for configuring PulseAudio. Under its 'Configuration' tab, you can select different profiles for each of your sound devices e.g. analogue stereo, digital output (IEC958), HDMI 5.1 Surround etc.
</p>
<p>However, you may run into an instance where selecting a different profile for a card results in the pulse daemon crashing and auto restarting without the new selection "sticking". If this occurs, use the other useful GUI tool, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=paprefs">paprefs</a></span>, to check under the "Simultaneous Output" tab for a virtual simultaneous device. If this setting is active (checked), it will prevent you changing any card's profile in pavucontrol. Uncheck this setting, then adjust your profile in pavucontrol prior to re-enabling simultaneous output in paprefs.
</p>
<h3><span class="mw-headline" id="Failed_to_create_sink_input:_sink_is_suspended_2">Failed to create sink input: sink is suspended</span></h3>
<p>If you do not have any output sound and receive dozens of errors related to a suspended sink in your <code>journalctl -b</code> log, then backup first and then delete your user-specific pulse folders:
</p>
<pre>$ rm -r ~/.pulse ~/.pulse-cookie ~/.config/pulse
</pre>
<h3><span class="mw-headline" id="Pulse_overwrites_ALSA_settings">Pulse overwrites ALSA settings</span></h3>
<p>PulseAudio usually overwrites the ALSA settings — for example set with alsamixer — at start-up, even when the ALSA daemon is loaded. Since there seems to be no other way to restrict this behaviour, a workaround is to restore the ALSA settings again after PulseAudio has started. Add the following command to <code>.xinitrc</code> or <code>.bash_profile</code> or any other <a href="../../en/Autostarting.html" title="Autostart" class="mw-redirect">autostart</a> file:
</p>
<pre>restore_alsa() {
 while [ -z "$(pidof pulseaudio)" ]; do
  sleep 0.5
 done
 alsactl -f /var/lib/alsa/asound.state restore 
}
restore_alsa &amp;
</pre>
<h3><span class="mw-headline" id="Prevent_Pulse_from_restarting_after_being_killed">Prevent Pulse from restarting after being killed</span></h3>
<p>Sometimes you may wish to temporarily disable Pulse. In order to do so you will have to prevent Pulse from restarting after being killed.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/pulse/client.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Disable autospawning the PulseAudio daemon
autospawn = no</pre>
<h3><span class="mw-headline" id="Daemon_startup_failed">Daemon startup failed</span></h3>
<p>Try resetting PulseAudio:
</p>
<pre>$ rm -rf /tmp/pulse* ~/.pulse* ~/.config/pulse
$ pulseaudio -k
$ pulseaudio --start
</pre>
<ul><li> Check that options for sinks are set up correctly.</li></ul>
<ul><li> If you configured in default.pa to load and use the OSS modules then check with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=lsof">lsof</a></span> that <code>/dev/dsp</code> device is not used by another application.</li></ul>
<ul><li> Set a preferred working resample method. Use <code>pulseaudio --dump-resample-methods</code> to see a list with all available resample methods you can use.</li></ul>
<ul><li> To get details about currently appeared unfixed errors or just get status of daemon use commands like <code>pax11publish -d</code> and <code>pulseaudio -v</code> where <code>v</code> option can be used multiple time to set verbosity of log output equal to the <code>--log-level[=LEVEL]</code> option where LEVEL is from 0 to 4. See the <a href="#Outputs_by_PulseAudio_error_status_check_utilities">#Outputs by PulseAudio error status check utilities</a> section.</li></ul>
<p>See also man pages for <a rel="nofollow" class="external text" href="http://linux.die.net/man/1/pax11publish">pax11publish</a> and <a rel="nofollow" class="external text" href="http://linux.die.net/man/1/pulseaudio">pulseaudio</a> for more details.
</p>
<h4><span class="mw-headline" id="Outputs_by_PulseAudio_error_status_check_utilities">Outputs by PulseAudio error status check utilities</span></h4>
<p>If the <code>pax11publish -d</code> shows error like:
</p>
<pre>N: [pulseaudio] main.c: User-configured server at "user", refusing to start/autospawn.
</pre>
<p>then run <code>pax11publish -r</code> command then could be also good to logout and login again. This manual cleanup is always required when using LXDM because it does not restart the X server on logout; see <a href="../../en/LXDM.html#PulseAudio" title="LXDM">LXDM#PulseAudio</a><sup>[<a href="../../en/ArchWiki:Requests.html#Broken_section_links" title="ArchWiki:Requests">broken link</a>: invalid section]</sup>.
</p>
<p>If the <code>pulseaudio -vvvv</code> command shows error like:
</p>
<pre>E: [pulseaudio] module-udev-detect.c: You apparently ran out of inotify watches, probably because Tracker/Beagle took them all away. I wished people would do their homework first and fix inotify before using it for watching whole directory trees which is something the current inotify is certainly not useful for. Please make sure to drop the Tracker/Beagle guys a line complaining about their broken use of inotify.
</pre>
<p>This can be resolved temporary by:
</p>
<pre>$ echo 100000 &gt; /proc/sys/fs/inotify/max_user_watches
</pre>
<p>For permanent use save settings in the <i>99-sysctl.conf</i> file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sysctl.d/99-sysctl.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Increase inotify max watchs per user
fs.inotify.max_user_watches = 100000</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #FFDDDD; border: thin solid #DDBBBB; overflow: hidden;">
<strong> Warning: </strong>It may cause much bigger consumption of memory by kernel.</div>
<p><b>See also</b> 
</p>
<ul>
<li> <a rel="nofollow" class="external text" href="http://www.linuxinsight.com/proc_sys_fs_inotify.html">proc_sys_fs_inotify</a> and <a rel="nofollow" class="external text" href="http://lwn.net/Articles/604686/">dnotify, inotify</a>- more details about <i>inotify/max_user_watches</i>
</li>
<li> <a rel="nofollow" class="external text" href="http://stackoverflow.com/questions/535768/what-is-a-reasonable-amount-of-inotify-watches-with-linux?answertab=votes#tab-top">reasonable amount of inotify watches with Linux</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://linux.die.net/man/7/inotify">inotify</a> - man page</li>
</ul>
<h3><span class="mw-headline" id="Daemon_already_running">Daemon already running</span></h3>
<p>On some systems, PulseAudio may be started multiple times. journalctl will report:
</p>
<pre>[pulseaudio] pid.c: Daemon already running.
</pre>
<p>Make sure to use only one method of autostarting applications. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=pulseaudio">pulseaudio</a></span> includes these files:
</p>
<ul>
<li> <code>/etc/X11/xinit/xinitrc.d/pulseaudio</code>
</li>
<li> <code>/etc/xdg/autostart/pulseaudio.desktop</code>
</li>
<li> <code>/etc/xdg/autostart/pulseaudio-kde.desktop</code>
</li>
</ul>
<p>Also check user autostart files and directories, such as <a href="../../en/Xinit.html" title="Xinitrc" class="mw-redirect">xinitrc</a>, <code>~/.config/autostart/</code> etc.
</p>
<h3><span class="mw-headline" id="Subwoofer_stops_working_after_end_of_every_song">Subwoofer stops working after end of every song</span></h3>
<p>Known issue: <a rel="nofollow" class="external free" href="https://bugs.launchpad.net/ubuntu/+source/pulseaudio/+bug/494099">https://bugs.launchpad.net/ubuntu/+source/pulseaudio/+bug/494099</a>
</p>
<p>To fix this, must edit: <code>/etc/pulse/daemon.conf</code> and enable <code>enable-lfe-remixing</code> :
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pulse/daemon.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
enable-lfe-remixing = yes
</pre>
<h3><span class="mw-headline" id="Unable_to_select_surround_configuration_other_than_.22Surround_4.0.22">Unable to select surround configuration other than "Surround 4.0"</span></h3>
<p>If you are unable to set 5.1 surround output in pavucontrol because it only shows "Analog Surround 4.0 Output", open the ALSA mixer and change the output configuration there to 6 channels. Then restart pulseaudio, and pavucontrol will list many more options.
</p>
<h3><span class="mw-headline" id="Realtime_scheduling">Realtime scheduling</span></h3>
<p>If rtkit does not work, you can manually set up your system to run PulseAudio with real-time scheduling, which can help performance. To do this, add the following lines to <code>/etc/security/limits.conf</code>:
</p>
<pre>@pulse-rt - rtprio 9
@pulse-rt - nice -11
</pre>
<p>Afterwards, you need to add your user to the <code>pulse-rt</code> group:
</p>
<pre># gpasswd -a &lt;user&gt; pulse-rt
</pre>
<h3><span class="mw-headline" id="pactl_.22invalid_option.22_error_with_negative_percentage_arguments">pactl "invalid option" error with negative percentage arguments</span></h3>
<p><code>pactl</code> commands that take negative percentage arguments will fail with an 'invalid option' error. Use the standard shell '--' pseudo argument
to disable argument parsing before the negative argument. <i>e.g.</i> <code>pactl set-sink-volume 1 -- -5%</code>.
</p>
<h3><span class="mw-headline" id="Fallback_device_is_not_respected">Fallback device is not respected</span></h3>
<p>PulseAudio does not have a true default device. Instead it uses a <a rel="nofollow" class="external text" href="http://www.freedesktop.org/wiki/Software/PulseAudio/Documentation/User/DefaultDevice/">"fallback"</a>, which only applies to new sound streams. This means previously run applications are not affected by the newly set fallback device.
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=gnome-control-center">gnome-control-center</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=mate-media">mate-media</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/paswitch/">paswitch</a></span><sup><small>AUR</small></sup> handle this gracefully. Alternatively: 
</p>
<p>1. Move the old streams in <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=pavucontrol">pavucontrol</a></span> manually to the new sound card.
</p>
<p>2. Stop Pulse, erase the "stream-volumes" in <code>~/.config/pulse</code> and/or <code>~/.pulse</code> and restart Pulse. This also resets application volumes.
</p>
<p>3. Disable stream device reading. This may be not wanted when using different soundcards with different applications.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pulse/default.pa</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
load-module module-stream-restore restore_device=false
</pre>
<h3><span class="mw-headline" id="RTP.2FUDP_packet_flood">RTP/UDP packet flood</span></h3>
<p>In some cases the default configuration might flood the network with UDP packets.<a rel="nofollow" class="external autonumber" href="https://bugs.freedesktop.org/show_bug.cgi?id=44777">[3]</a> 
To fix this problem, launch <code>paprefs</code> and disable "Multicast/RTP Sender".<a rel="nofollow" class="external autonumber" href="https://bugs.launchpad.net/ubuntu/+source/pulseaudio/+bug/411688/comments/36">[4]</a>
</p>
</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../../en/Category:Sound.html" title="Category:Sound">Sound</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../../en/Category:Sections_flagged_with_Template:Remove.html" title="Category:Sections flagged with Template:Remove">Sections flagged with Template:Remove</a></li>
<li><a href="../../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
<li><a href="../../en/Category:Pages_or_sections_flagged_with_Template:Merge.html" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li>
<li><a href="../../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
</ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<ul id="f-list" style="margin: 0 2em">
									<li>
Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=PulseAudio/Troubleshooting&amp;oldid=454429">https://wiki.archlinux.org/index.php?title=PulseAudio/Troubleshooting&amp;oldid=454429</a>"</li>
					<li id="lastmod"> This page was last modified on 19 October 2016, at 17:35.</li>
									<li id="copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
									<br><li id="privacy"><a href="../../en/ArchWiki:General_disclaimer.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="../../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
									<li id="disclaimer"><a href="../../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		</body>
</html>
