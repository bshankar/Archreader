<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Lenovo Thinkpad Yoga 260 - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Lenovo_Thinkpad_Yoga_260 skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Lenovo Thinkpad Yoga 260</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p><br>
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Installation"><span class="tocnumber">2</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Booting_the_install_USB"><span class="tocnumber">2.1</span> <span class="toctext">Booting the install USB</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4">
<a href="#Configuration"><span class="tocnumber">3</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#TrackPad"><span class="tocnumber">3.1</span> <span class="toctext">TrackPad</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#TrackPoint"><span class="tocnumber">3.2</span> <span class="toctext">TrackPoint</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#TouchScreen_and_Stylus"><span class="tocnumber">3.3</span> <span class="toctext">TouchScreen and Stylus</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Video"><span class="tocnumber">3.4</span> <span class="toctext">Video</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Card_reader"><span class="tocnumber">3.5</span> <span class="toctext">Card reader</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Bluetooth"><span class="tocnumber">3.6</span> <span class="toctext">Bluetooth</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11"><a href="#Hardware_information"><span class="tocnumber">4</span> <span class="toctext">Hardware information</span></a></li>
<li class="toclevel-1 tocsection-12">
<a href="#Troubleshooting"><span class="tocnumber">5</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#High_CPU_usage_in_idle"><span class="tocnumber">5.1</span> <span class="toctext">High CPU usage in idle</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Blank_screen_after_loading_kernel"><span class="tocnumber">5.2</span> <span class="toctext">Blank screen after loading kernel</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Screen_rotation_not_working"><span class="tocnumber">5.3</span> <span class="toctext">Screen rotation not working</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Overview">Overview</span></h2>
<p>Most functionality works out of the box, although a kernel of version 4.3 or higher is necessary for the video card and the wifi adapter. Suspending the machine also works. The accelerometer does not show up.
</p>
<table class="wikitable">
<tr>
<td> <b>Device</b> </td>
<td> <b>Status</b> </td>
<td> <b>Modules</b>
</td>
</tr>
<tr>
<td> Graphics </td>
<td style="color:green"> <b>Working</b> </td>
<td> i915
</td>
</tr>
<tr>
<td> Wireless </td>
<td style="color:green"> <b>Working</b> </td>
<td> iwlwifi
</td>
</tr>
<tr>
<td> Audio </td>
<td style="color:green"> <b>Working</b> </td>
<td> snd_hda_intel
</td>
</tr>
<tr>
<td> Touchscreen </td>
<td style="color:green"> <b>Working</b> </td>
<td> wacom
</td>
</tr>
<tr>
<td> Stylus </td>
<td style="color:#cccc00"> <b>Partial</b> ¹ </td>
<td> wacom,usbhid
</td>
</tr>
<tr>
<td> Accelerometer </td>
<td style="color:red"> <b>Not Working</b> </td>
<td>
</td>
</tr>
<tr>
<td> Touchpad </td>
<td style="color:green"> <b>Working</b> </td>
<td> psmouse
</td>
</tr>
<tr>
<td> Trackpoint </td>
<td style="color:green"> <b>Working</b> </td>
<td> psmouse
</td>
</tr>
<tr>
<td> Camera </td>
<td style="color:green"> <b>Working</b> </td>
<td> uvcvideo
</td>
</tr>
<tr>
<td> Card Reader </td>
<td style="color:green"> <b>Working</b> </td>
<td> mmc_core
</td>
</tr>
<tr>
<td> Bluetooth </td>
<td style="color:green"> <b>Working</b> </td>
<td> btintel
</td>
</tr>
<tr>
<td> Fingerprint Reader </td>
<td style="color:blue"> <b>Unknown</b> </td>
<td>
</td>
</tr>
</table>
<p>¹Only one pen-button working
</p>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Newer kernels boot without problems and the wifi should be available. If you get a blank screen after booting, the power modes are not supported by your kernel; refer to Troubleshooting.
</p>
<h3><span class="mw-headline" id="Booting_the_install_USB">Booting the install USB</span></h3>
<p>To access the boot menu and BIOS, use "F1". Disable secure boot from the BIOS.  UEFI boot mode works fine.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<h3><span class="mw-headline" id="TrackPad">TrackPad</span></h3>
<p>TrackPad works fine with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=xf86-input-synaptics">xf86-input-synaptics</a></span>.
</p>
<h3><span class="mw-headline" id="TrackPoint">TrackPoint</span></h3>
<p>See <a href="../en/TrackPoint.html" title="TrackPoint">TrackPoint</a>. Sometimes the TrackPoint stops working and dmesg reports a stream of garbage when it is touched. Removing and probing the kernel module solves the problem:
</p>
<pre># rmmod psmouse
# modprobe psmouse
</pre>
<h3><span class="mw-headline" id="TouchScreen_and_Stylus">TouchScreen and Stylus</span></h3>
<p>Touchscreen works with the Wacom driver (package: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=xf86-input-wacom">xf86-input-wacom</a></span>).
Also using the Stylus, only one of the two buttons on the pen is usable.
</p>
<h3><span class="mw-headline" id="Video">Video</span></h3>
<p>The kernel supports HD Graphics 520 from version 4.3. With default configuration, tearing is apparent when playing videos. DRI3 and glamor are supported. To solve tearing and use DRI3 and glamor, create the file <code>/etc/X11/xorg.conf.d/20-intel.conf</code> with the following content:
</p>
<pre>Section "Device"
   Identifier  "Intel Graphics"
   Driver      "intel"
   Option      "AccelMethod"  "glamor"
   Option      "DRI"    "3"
   Option      "TearFree"    "true"
EndSection
</pre>
<p>The miniDP port works, at least when used with a VGA adapter. The connected display shows up in <i>xrandr</i> correctly..
</p>
<h3><span class="mw-headline" id="Card_reader">Card reader</span></h3>
<p>The microSD-card reader works out of the box.
</p>
<h3><span class="mw-headline" id="Bluetooth">Bluetooth</span></h3>
<p>The Bluetooth adapter works out of the box. It was tested with Android tethering and file transfer.
</p>
<p><br>
</p>
<h2><span class="mw-headline" id="Hardware_information">Hardware information</span></h2>
<p>The output of <i>lspci</i> is
</p>
<pre>00:00.0 Host bridge: Intel Corporation Sky Lake Host Bridge/DRAM Registers (rev 08)
00:02.0 VGA compatible controller: Intel Corporation Sky Lake Integrated Graphics (rev 07)
00:08.0 System peripheral: Intel Corporation Sky Lake Gaussian Mixture Model
00:13.0 Non-VGA unclassified device: Intel Corporation Device 9d35 (rev 21)
00:14.0 USB controller: Intel Corporation Device 9d2f (rev 21)
00:14.2 Signal processing controller: Intel Corporation Device 9d31 (rev 21)
00:16.0 Communication controller: Intel Corporation Device 9d3a (rev 21)
00:17.0 SATA controller: Intel Corporation Device 9d03 (rev 21)
00:1c.0 PCI bridge: Intel Corporation Device 9d10 (rev f1)
00:1c.2 PCI bridge: Intel Corporation Device 9d12 (rev f1)
00:1f.0 ISA bridge: Intel Corporation Device 9d48 (rev 21)
00:1f.2 Memory controller: Intel Corporation Device 9d21 (rev 21)
00:1f.3 Audio device: Intel Corporation Device 9d70 (rev 21)
00:1f.4 SMBus: Intel Corporation Device 9d23 (rev 21)
00:1f.6 Ethernet controller: Intel Corporation Ethernet Connection I219-V (rev 21)
02:00.0 Unassigned class [ff00]: Realtek Semiconductor Co., Ltd. Device 522a (rev 01)
04:00.0 Network controller: Intel Corporation Wireless 8260 (rev 3a)
</pre>
<p>The output of <i>lsusb</i> is
</p>
<pre>Bus 001 Device 004: ID 138a:0090 Validity Sensors, Inc. 
Bus 001 Device 003: ID 13d3:5248 IMC Networks 
Bus 001 Device 002: ID 8087:0a2b Intel Corp. 
Bus 001 Device 005: ID 056a:5048 Wacom Co., Ltd 
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
</pre>
<p><br>
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="High_CPU_usage_in_idle">High CPU usage in idle</span></h3>
<p>If the Thinkpad has unusually high CPU usage in idle then it might be an acpi firmware issue. On Windows this behaviour stops after a regular update. On Linux you can workaround by disabling whatever device is interrupting excessively.
</p>
<p>Find the interrupting source:
</p>
<pre>grep . -r /sys/firmware/acpi/interrupts
</pre>
<p>This might output something like this:
</p>
<pre>...
/sys/firmware/acpi/interrupts/gpe34:   30289   enabled  &lt;-- this causes many interrupts
/sys/firmware/acpi/interrupts/gpe35:       3   enabled
...
</pre>
<p>Disable it (as root, not just sudo):
</p>
<pre>echo "disable" &gt; /sys/firmware/acpi/interrupts/gpe34
</pre>
<p>Now the CPU should idle at 0-2% usage.
</p>
<p><br>
Unfortunately you have to do that on every startup. A systemd service can do that automatically for you.
</p>
<p>Create <code>/etc/systemd/system/disable-interrupts.service</code>:
</p>
<pre>[Unit]
Description=Disable acpi interrupts
[Service]
ExecStart=/usr/bin/bash -c 'echo "disable" &gt; /sys/firmware/acpi/interrupts/gpe34'
[Install]
WantedBy=multi-user.target
</pre>
<p>Then <a href="../en/Systemd.html#Using_units" title="Enable" class="mw-redirect">enable</a> the <code>disable-interrupts.service</code> systemd unit.
</p>
<h3><span class="mw-headline" id="Blank_screen_after_loading_kernel">Blank screen after loading kernel</span></h3>
<p>This happens with older kernels because the Intel P-State driver had problems. The workaround is to disable the buggy part of the driver. To achieve this, add <code>intel_pstate=no_hwp</code> as a kernel parameter. If you use GRUB, edit your <code>/etc/default/grub</code> file and add the following:
</p>
<pre>GRUB_CMDLINE_LINUX="intel_pstate=no_hwp"
</pre>
<p>Don't forget to generate the config files with <code>grub-mkconfig</code>.
</p>
<p>With a standard Arch-USB-ISO this can be done by pressing the Tabulator-Key on selecting the boot-menu-entry.
</p>
<h3><span class="mw-headline" id="Screen_rotation_not_working">Screen rotation not working</span></h3>
<p>Enabling the option <code>"TearFree"</code> might break screen rotation: <i>xrandr -o left</i> will either result in a blank screen or in an error message (<code>xrandr: Configure crtc 0 failed</code>). The X.org Intel driver above version 1:2.99.917+641+ge4ef6e9 no longer has this bug. Either upgrade the driver or disable the tear-free playback.
</p>
</div>
<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Lenovo.html" title="Category:Lenovo">Lenovo</a></li></ul>
</div></div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
