<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Conky - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Conky skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Conky</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" width="48" height="48"></a><b>This article or section needs language, wiki syntax or style improvements.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Lots of useless config dumps and unneeded complexity (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Conky">Talk:Conky#</a>)</div>
</div>
<p><i>Conky</i> is a system monitor software for the X Window System. It is available for GNU/Linux and FreeBSD. It is free software released under the terms of the GPL license. Conky is able to monitor many system variables including CPU, memory, swap, disk space, temperature, top, upload, download, system messages, and much more. It is extremely configurable, however, the configuration can be a little hard to understand. <i>Conky</i> is a fork of torsmo.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Installation_and_configuration"><span class="tocnumber">1</span> <span class="toctext">Installation and configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#AUR_packages"><span class="tocnumber">1.1</span> <span class="toctext">AUR packages</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3">
<a href="#Tips_and_tricks"><span class="tocnumber">2</span> <span class="toctext">Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Config_file_syntax_changed"><span class="tocnumber">2.1</span> <span class="toctext">Config file syntax changed</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Enable_real_transparency_in_KDE4_and_Xfce4"><span class="tocnumber">2.2</span> <span class="toctext">Enable real transparency in KDE4 and Xfce4</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Autostart_with_Xfce4"><span class="tocnumber">2.3</span> <span class="toctext">Autostart with Xfce4</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Prevent_flickering"><span class="tocnumber">2.4</span> <span class="toctext">Prevent flickering</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Custom_colors"><span class="tocnumber">2.5</span> <span class="toctext">Custom colors</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Dual_Screen"><span class="tocnumber">2.6</span> <span class="toctext">Dual Screen</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Do_not_minimize_on_Show_Desktop"><span class="tocnumber">2.7</span> <span class="toctext">Do not minimize on Show Desktop</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Integrate_with_GNOME"><span class="tocnumber">2.8</span> <span class="toctext">Integrate with GNOME</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Integrate_with_Razor-qt"><span class="tocnumber">2.9</span> <span class="toctext">Integrate with Razor-qt</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Display_package_update_information"><span class="tocnumber">2.10</span> <span class="toctext">Display package update information</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Display_weather_forecast"><span class="tocnumber">2.11</span> <span class="toctext">Display weather forecast</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Display_a_countdown_timer"><span class="tocnumber">2.12</span> <span class="toctext">Display a countdown timer</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Display_RSS_feeds"><span class="tocnumber">2.13</span> <span class="toctext">Display RSS feeds</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Display_rTorrent_stats"><span class="tocnumber">2.14</span> <span class="toctext">Display rTorrent stats</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Display_your_WordPress_blog_stats"><span class="tocnumber">2.15</span> <span class="toctext">Display your WordPress blog stats</span></a></li>
<li class="toclevel-2 tocsection-19">
<a href="#Display_number_of_new_emails"><span class="tocnumber">2.16</span> <span class="toctext">Display number of new emails</span></a>
<ul>
<li class="toclevel-3 tocsection-20">
<a href="#Gmail"><span class="tocnumber">2.16.1</span> <span class="toctext">Gmail</span></a>
<ul>
<li class="toclevel-4 tocsection-21"><a href="#method_1"><span class="tocnumber">2.16.1.1</span> <span class="toctext">method 1</span></a></li>
<li class="toclevel-4 tocsection-22"><a href="#method_2"><span class="tocnumber">2.16.1.2</span> <span class="toctext">method 2</span></a></li>
<li class="toclevel-4 tocsection-23"><a href="#method_3"><span class="tocnumber">2.16.1.3</span> <span class="toctext">method 3</span></a></li>
<li class="toclevel-4 tocsection-24"><a href="#method_4"><span class="tocnumber">2.16.1.4</span> <span class="toctext">method 4</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-25"><a href="#IMAP_.2B_SSL_using_Perl"><span class="tocnumber">2.16.2</span> <span class="toctext">IMAP + SSL using Perl</span></a></li>
<li class="toclevel-3 tocsection-26"><a href="#IMAP_using_PHP"><span class="tocnumber">2.16.3</span> <span class="toctext">IMAP using PHP</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-27"><a href="#Show_graphic_of_active_network_interface"><span class="tocnumber">2.17</span> <span class="toctext">Show graphic of active network interface</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Fix_scrolling_with_UTF-8_multibyte_characters"><span class="tocnumber">2.18</span> <span class="toctext">Fix scrolling with UTF-8 multibyte characters</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-29">
<a href="#User-contributed_configuration_examples"><span class="tocnumber">3</span> <span class="toctext">User-contributed configuration examples</span></a>
<ul>
<li class="toclevel-2 tocsection-30"><a href="#A_sample_rings_script_with_nvidia_support"><span class="tocnumber">3.1</span> <span class="toctext">A sample rings script with nvidia support</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-31"><a href="#A_note_about_symbolic_fonts"><span class="tocnumber">4</span> <span class="toctext">A note about symbolic fonts</span></a></li>
<li class="toclevel-1 tocsection-32"><a href="#Fonts_appear_smaller_than_they_should_with_Infinality"><span class="tocnumber">5</span> <span class="toctext">Fonts appear smaller than they should with Infinality</span></a></li>
<li class="toclevel-1 tocsection-33"><a href="#Universal_method_to_enable_true_transparency"><span class="tocnumber">6</span> <span class="toctext">Universal method to enable true transparency</span></a></li>
<li class="toclevel-1 tocsection-34"><a href="#See_also"><span class="tocnumber">7</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation_and_configuration">Installation and configuration</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=conky">conky</a></span> package. For alternative packages with more features, see <a href="#AUR_packages">#AUR packages</a>.
</p>
<p>Create a local configuration file:
</p>
<pre>$ mkdir -p ~/.config/conky
$ conky -C &gt; ~/.config/conky/conky.conf
</pre>
<p>Now you can edit <code>~/.config/conky/conky.conf</code> to customize conky as you wish. For a few example configuration files, see <a rel="nofollow" class="external text" href="https://github.com/brndnmtthws/conky/wiki/User-Configs">this page</a>.
</p>
<p>When editing your config file, you will see immediately the effect of any change as soon as you save it. There is no need to log out/log in your X session. So best is to test all kind of options, one by one, save the configuration file and see the change on your <i>conky</i> window, and correct if your change is inappropriate.
</p>
<p>One of the nice features of <i>conky</i> is to pipe to your desktop some <code>/var/log/</code> files to read all kinds of log messages. Most of these files can only be read by <code>root</code>, but running <i>conky</i> as <code>root</code> is not recommended, so you will need to add <code><i>username</i></code> to the <code>log</code> group:
</p>
<pre># usermod -aG log <i>username</i>
</pre>
<h3><span class="mw-headline" id="AUR_packages">AUR packages</span></h3>
<p>In addition to the basic <i>conky</i> package, there are various <a href="../en/Arch_User_Repository.html" title="AUR" class="mw-redirect">AUR</a> packages available with extra compile options enabled:
</p>
<ul><li> <b>conky-cli</b> — <i>Conky</i> without X11 dependencies</li></ul>
<dl><dd> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/conky-cli/">conky-cli</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li> <b>conky-lua</b> — <i>Conky</i> with Lua support</li></ul>
<dl><dd> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/conky-lua/">conky-lua</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li> <b>conky-lua-nv</b> — <i>Conky</i> with both Lua and Nvidia support</li></ul>
<dl><dd> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/conky-lua-nv/">conky-lua-nv</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li> <b>conky-nvidia</b> — <i>Conky</i> with Nvidia support</li></ul>
<dl><dd> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/conky-nvidia/">conky-nvidia</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Config_file_syntax_changed">Config file syntax changed</span></h3>
<p>Since Conky 1.10, configuration files have been written with Lua syntax, like so:
</p>
<pre> conky.config = {
   -- Comments start with a double dash
   bool_value = true,
   string_value = 'foo',
   int_value = 42,
 }
 conky.text = [[
 $variable
 ${evaluated variable}
 ]]
</pre>
<p>Some examples below may still use the old syntax, which looks like this:
</p>
<pre> bool_value yes
 string_value 'foo'
 int_value 42
</pre>
<p>A Lua script is available to convert from the old syntax to the new Lua syntax <a rel="nofollow" class="external text" href="https://github.com/brndnmtthws/conky/blob/master/extras/convert.lua">here</a>.
</p>
<p>If in doubt, or something doesn't work at all, you can start with the default config file:
</p>
<pre> $ conky -C &gt; conky.conf.default
</pre>
<h3><span class="mw-headline" id="Enable_real_transparency_in_KDE4_and_Xfce4">Enable real transparency in KDE4 and Xfce4</span></h3>
<p>Since version 1.8.0 <i>conky</i> supports real transparency. To enable it add this line to <code>conky.conf</code>:
</p>
<pre>own_window_transparent = true,
</pre>
<p>The above option is not desired with the <code>OWN_WINDOW_ARGB_VISUAL yes</code> option.
This replaces the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=feh">feh</a></span> method described below.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong><a href="../en/Xfce.html" title="Xfce">Xfce</a> requires enabled compositing, see <a rel="nofollow" class="external autonumber" href="https://forum.xfce.org/viewtopic.php?pid=25939">[1]</a>.</div>
<h3><span class="mw-headline" id="Autostart_with_Xfce4">Autostart with Xfce4</span></h3>
<p>In <code>conky.conf</code> file:
</p>
<pre>background = yes,
</pre>
<p>This variable will fork <i>conky</i> to your background. If you want to make your window always visible on your desktop, sticky across all workspaces and not showing in your taskbar, add these arguments:
</p>
<pre>own_window = true,
own_window_type = 'override',
</pre>
<p>The <code>override</code> takes <i>conky</i> out of the control of your window manager.
</p>
<p>Add a <code>~/.config/autostart/conky.desktop</code>:
</p>
<pre>[Desktop Entry]
Encoding=UTF-8
Version=0.9.4
Type=Application
Name=conky
Comment=
Exec=conky -d
StartupNotify=false
Terminal=false
Hidden=false
</pre>
<h3><span class="mw-headline" id="Prevent_flickering">Prevent flickering</span></h3>
<p><i>Conky</i> needs Double Buffer Extension (DBE) support from the X server to prevent flickering because it cannot update the window fast enough without it. It can be enabled in <code>/etc/X11/xorg.conf</code> with <code>Load "dbe"</code> line in <code>"Module"</code> section. The <code>xorg.conf</code> file has been replaced (1.8.x patch upwards) by <code>/etc/X11/xorg.conf.d</code> which contains the particular configuration files. <i>DBE</i> is loaded automatically.
</p>
<p>To enable double buffering, add the option
</p>
<pre> double_buffer = true,
</pre>
<p>to your <code>conky.conf</code>.
</p>
<h3><span class="mw-headline" id="Custom_colors">Custom colors</span></h3>
<p>Aside the classic preset colors (white, black, yellow...), you can set your own custom color using the color name code. To determine the code of a color, use a color selector app. The basic <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=gcolor2">gcolor2</a></span> package in the <a href="../en/Official_repositories.html" title="Official repositories">official repositories</a> will give you the color name. It is made of six hexadecimal digits (0-9, A-F).
Add this line in your configuration file for a custom color:
</p>
<pre> color0 = 'white', --convention for standard named colors
 color1 = '00CC00', --convention for hex colors: no pound sign
</pre>
<p>Then, when editing the <code>TEXT</code> section, use custom color number previously defined, for example <code>${color3} </code>.
</p>
<h3><span class="mw-headline" id="Dual_Screen">Dual Screen</span></h3>
<p>When using a dual screen configuration, you will need to play with two options to place your <i>conky</i> window. Let's say you are running a 1680X1050 pixels resolution, and you want the window on middle top of your left monitor, you will use this:
</p>
<pre>alignment = 'top_left',
gap_X = 840,
</pre>
<p>The <code>alignment</code> option is trivial, and <code>gap_X</code> option is the distance, in pixels, from the left border of your screen.
</p>
<p>The <code>xinerama_head</code> option might also need to be set.
</p>
<h3><span class="mw-headline" id="Do_not_minimize_on_Show_Desktop">Do not minimize on Show Desktop</span></h3>
<p><b>Using Compiz:</b> If the 'Show Desktop' button or key-binding minimizes Conky along with all other windows, start the Compiz configuration settings manager, go to "General Options" and uncheck the "Hide Skip Taskbar Windows" option.
</p>
<p>If you do not use Compiz, try editing <code>conky.conf</code> and adding/changing the following line:
</p>
<pre>own_window_type = 'override',
</pre>
<p>or
</p>
<pre>own_window_type = 'desktop',
</pre>
<p>Refer to <i>conky</i>s man page for the exact differences. But the latter option enables you to snap windows to <i>conky</i>s border using resize key-binds in e.g. Openbox, which the first one does not.
</p>
<h3><span class="mw-headline" id="Integrate_with_GNOME">Integrate with GNOME</span></h3>
<p>Some have experienced problems with <i>conky</i> showing up under <a href="../en/GNOME.html" title="GNOME">GNOME</a>.
</p>
<ul><li> Add these lines to <code>conky.conf</code>:</li></ul>
<pre>own_window yes
own_window_type conky
own_window_transparent yes
own_window_hints undecorated,below,sticky,skip_taskbar,skip_pager
</pre>
<p>If you still experience problems with transparency. You could add these lines.
</p>
<pre>own_window_argb_visual yes
own_window_argb_value 255
</pre>
<h3><span class="mw-headline" id="Integrate_with_Razor-qt">Integrate with Razor-qt</span></h3>
<p>With <i>conky'</i>s default configuration, its window might disappear from the desktop when you click on the latter. Add these lines to: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">conky.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">own_window yes
own_window_class Conky
own_window_type normal
own_window_hints undecorated,below,sticky,skip_taskbar,skip_pager
own_window_transparent yes
</pre>
<h3><span class="mw-headline" id="Display_package_update_information">Display package update information</span></h3>
<ul>
<li> <a href="../en/Pacman.html" title="Pacman">Pacman</a> provides its own script called <code>checkupdates</code> which displays package updates from the official repos. Use <code>${execpi 3600 checkupdates | wc -l}</code> to display the total number of packages.</li>
<li> <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=68104">Paconky</a> - Displays package update information in a user-defined format. The output of this program can be included in Conky with the <code>${execpi}</code> command.</li>
<li> <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=53761">Scrolling Notifications</a> - Prints scrolling update notifications. From the author of <i>paconky</i>.</li>
<li> <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=57291">Perl Script</a> - Simpler and earlier script from the author of <i>paconky</i>. Prints only the number of packages needing an update.</li>
<li> <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=37284">Python Script</a> - Fairly configurable update notification program in <a href="../en/Python.html" title="Python">Python</a>.</li>
<li> <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=483742#p483742">Bash Script</a> - <a href="../en/Bash.html" title="Bash">Bash</a> script for users that have enabled ShowSize.</li>
</ul>
<h3><span class="mw-headline" id="Display_weather_forecast">Display weather forecast</span></h3>
<p>See <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=37381">this thread</a>.
</p>
<h3><span class="mw-headline" id="Display_a_countdown_timer">Display a countdown timer</span></h3>
<p><a rel="nofollow" class="external text" href="https://github.com/orschiro/scriptlets/tree/master/ConkyTimer">ConkyTimer</a> is a simple countdown timer that displays the remaining time of a defined task.
</p>
<p>Start the timer using <code>conkytimer "&lt;task description&gt;" &lt;min&gt;</code>.
</p>
<h3><span class="mw-headline" id="Display_RSS_feeds">Display RSS feeds</span></h3>
<p><i>Conky</i> has the ability to display RSS feeds natively without the need for an outside script to run and output into Conky. For example, to display the titles of the ten most recent Planet Arch updates and refresh the feed every minute, you would put this into your <code>conky.conf</code> in the <code>TEXT</code> section:
</p>
<pre>${rss <a rel="nofollow" class="external free" href="https://planet.archlinux.org/rss20.xml">https://planet.archlinux.org/rss20.xml</a> 1 item_titles 10 }
</pre>
<p>If you want to display Arch Forum rss feed, add this line:
</p>
<pre>${rss <a rel="nofollow" class="external free" href="https://bbs.archlinux.org/extern.php?action=feed&amp;type=rss">https://bbs.archlinux.org/extern.php?action=feed&amp;type=rss</a> 1 item_titles 4}
</pre>
<p>where 1 is in minutes the refresh interval (15 mn is default),4 the number of items you wish to show.
</p>
<h3><span class="mw-headline" id="Display_rTorrent_stats">Display rTorrent stats</span></h3>
<p>See <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=67304">this thread</a>.
</p>
<h3><span class="mw-headline" id="Display_your_WordPress_blog_stats">Display your WordPress blog stats</span></h3>
<p>This can be achieved by using the in python written extension named <a rel="nofollow" class="external text" href="http://evilshit.wordpress.com/2013/04/20/conkypress-a-wordpress-stats-visualization-tool-for-your-desktop/">ConkyPress</a>.
</p>
<h3><span class="mw-headline" id="Display_number_of_new_emails">Display number of new emails</span></h3>
<h4><span class="mw-headline" id="Gmail">Gmail</span></h4>
<h5><span class="mw-headline" id="method_1">method 1</span></h5>
<p>Create a file named <code>gmail.py</code> in a convenient location (this example uses <code>~/.scripts/</code>) with the following <a href="../en/Python.html" title="Python">Python</a> code:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">gmail.py</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
#!/usr/bin/env python

from urllib.request import FancyURLopener

email = 'your email' # @gmail.com can be left out
password  = 'your password'

url = 'https://%s:%s@mail.google.com/mail/feed/atom' % (email, password)

opener = FancyURLopener()
page = opener.open(url)

contents = page.read().decode('utf-8')

ifrom = contents.index('&lt;fullcount&gt;') + 11
ito   = contents.index('&lt;/fullcount&gt;')

fullcount = contents[ifrom:ito]

print(fullcount + ' new')
</pre>
<h5><span class="mw-headline" id="method_2">method 2</span></h5>
<p>The following script does less "by hand", and uses more of the capabilities of Python.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">gmail.py</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">
#! /usr/bin/env python

import urllib.request
from xml.etree import ElementTree as etree

# Enter your username and password below within quotes below, in place of ****.
# Set up authentication for gmail
auth_handler = urllib.request.HTTPBasicAuthHandler()
auth_handler.add_password(realm='mail.google.com',
                          uri='https://mail.google.com/',
                          user= '****',
                          passwd= '****')
opener = urllib.request.build_opener(auth_handler)
# ...and install it globally so it can be used with urlopen.
urllib.request.install_opener(opener)

gmail = 'https://mail.google.com/gmail/feed/atom'
NS = '{http://purl.org/atom/ns#}'
with urllib.request.urlopen(gmail) as source:
    tree = etree.parse(source)
fullcount = tree.find(NS + 'fullcount').text

print(fullcount + ' new')
</pre>
<p>Add the following string to your <code>conky.conf</code> in order the check your Gmail account for new email every five minutes (300 seconds) and display:
</p>
<pre>${execpi 300 python ~/.scripts/gmail.py}
</pre>
<h5><span class="mw-headline" id="method_3">method 3</span></h5>
<p>The same way, but with using <code>curl</code>, <code>grep</code> and <code>sed</code>:
</p>
<pre>$ curl -s -u '''email''':'''password''' https://mail.google.com/mail/feed/atom | grep fullcount | sed 's/&lt;[^0-9]*&gt;//g'
</pre>
<p>replace <i>email</i> and <i>password</i> with your data.
</p>
<h5><span class="mw-headline" id="method_4">method 4</span></h5>
<p>Alternatively, you can use <a rel="nofollow" class="external text" href="http://www.stunnel.org/">stunnel</a> which is provided by the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=stunnel">stunnel</a></span> package.
</p>
<p>The following configuration is taken from <a rel="nofollow" class="external text" href="https://github.com/brndnmtthws/conky/wiki/FAQ">Conky's FAQ</a>
</p>
<p>Modify <code>/etc/stunnel/stunnel.conf</code> as follows, and then <a href="../en/Systemd.html#Using_units" title="Start" class="mw-redirect">start</a> <code>stunnel.service</code>:
</p>
<pre># Service-level configuration for TLS server
[imap]
client = yes
accept  = 143
connect = imap.gmail.com:143
protocol = imap
sslVersion = TLSv1
# Service-level configuration for SSL server
[imaps]
client = yes
accept  = 993
connect = imap.gmail.com:993
</pre>
<p>The only thing left is our <code>conky.conf</code>:
</p>
<pre>imap localhost username * -i 120 -p 993
TEXT
Inbox: ${imap_unseen}/${imap_messages}
</pre>
<p>Here I used <code>*</code> as the password for <i>conky</i> to ask for it at start, but you do <b>not</b> have to do it.
</p>
<h4><span class="mw-headline" id="IMAP_.2B_SSL_using_Perl">IMAP + SSL using Perl</span></h4>
<p><i>Conky</i> has built in support for IMAP accounts but does not support SSL. This can be provided using this script from <a rel="nofollow" class="external text" href="http://www.unix.com/shell-programming-scripting/115322-perl-conky-gmail-imap-unread-message-count.html">this forum post</a>. This requires the Perl/CPAN Modules Mail::IMAPClient and IO::Socket::SSL which are in the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/perl-mail-imapclient/">perl-mail-imapclient</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=perl-io-socket-ssl">perl-io-socket-ssl</a></span> packages
</p>
<p>Create a file named <code>imap.pl</code> in a location to be read by <i>conky</i>. In this file, add (with the appropriate changes):
</p>
<pre>#!/usr/bin/perl

# gimap.pl by gxmsgx
# description: get the count of unread messages on imap

use strict;
use Mail::IMAPClient;
use IO::Socket::SSL;

my $username = 'example.username'; 
my $password = 'password123'; 

my $socket = IO::Socket::SSL-&gt;new(
  PeerAddr =&gt; 'imap.server',
  PeerPort =&gt; 993
 )
 or die "socket(): $@";

my $client = Mail::IMAPClient-&gt;new(
  Socket   =&gt; $socket,
  User     =&gt; $username,
  Password =&gt; $password,
 )
 or die "new(): $@";

if ($client-&gt;IsAuthenticated()) {
   my $msgct;

   $client-&gt;select("INBOX");
   $msgct = $client-&gt;unseen_count||'0';
   print "$msgct\n";
}

$client-&gt;logout();
</pre>
<p>Add to <code>conky.conf</code>:
</p>
<pre>${execpi 300 ~/.conky/imap.pl} 
</pre>
<p>or wherever you saved the file.
</p>
<p>If you use Gmail you might need to <a rel="nofollow" class="external text" href="http://www.google.com/accounts/IssuedAuthSubTokens?hide_authsub=1">generate</a> an application specific password.
</p>
<p>Alternatively, you can use stunnel as shown above: <a href="#Gmail">#Gmail</a>
</p>
<h4><span class="mw-headline" id="IMAP_using_PHP">IMAP using PHP</span></h4>
<p>Another alternative using PHP. PHP needs to be installed and <code>extension=imap.so</code> must be uncommented in <code>/etc/php/php.ini</code>.
</p>
<p>Then create a file named <code>imap.php</code> in a location to be read by <i>conky</i>. Make the file executable:
</p>
<pre>$ chmod +x imap.php
</pre>
<p>In this file, add (with the appropriate changes):
</p>
<pre>#!/usr/bin/php
&lt;?php
// See <a rel="nofollow" class="external free" href="http://php.net/manual/function.imap-open.php">http://php.net/manual/function.imap-open.php</a> for more information about
// the mailbox string in the first parameter of imap_open.
// This example is ready to use with Office 365 Exchange Mails,
// just replace your username (=email address) and the password.
$mbox = imap_open("{outlook.office365.com:993/imap/ssl/novalidate-cert}", "username", "password");

// Total number of emails
$nrTotal = imap_num_msg($mbox);

// Number of unseen emails. There are other ways using imap_status to count
// unseen messages, but they don't work with Office 365 Exchange. This one does.
$unseen = imap_search($mbox, 'UNSEEN');
$nrUnseen = $unseen ? count($unseen) : 0;

// Display the result, format as you like.
echo $nrUnseen.'/'.$nrTotal;

// Not needed, because the connection is closed after the script end.
// For the sake of clean public available scripts, we are nice to
// the imap server and close the connection manually.
imap_close($mbox);
</pre>
<p>Add to <code>conky.conf</code>:
</p>
<pre>${execpi 300 ~/.conky/imap.php} 
</pre>
<p>or wherever you saved the file.
</p>
<p>This script displays A/B where A is the number of unseen emails and B is the total number of mails in the mailbox. There are a lot of other informations available through a lot of PHP functions like with imap_Status (<a rel="nofollow" class="external free" href="http://php.net/manual/function.imap-status.php">http://php.net/manual/function.imap-status.php</a>). Just see the PHP docs about IMAP: <a rel="nofollow" class="external free" href="http://php.net/manual/ref.imap.php">http://php.net/manual/ref.imap.php</a>.
</p>
<h3><span class="mw-headline" id="Show_graphic_of_active_network_interface">Show graphic of active network interface</span></h3>
<p>To test if a network inferface is currently active, you can use the test conky variable <code> if_existing</code> on the <code> operstate</code> of the interface. Here's an example for wlo1 :
</p>
<pre>draw_graph_borders yes 
${if_existing /sys/class/net/wlo1/operstate up}
${color #0077ff}Net Down:$color ${downspeed wlo1}      ${color #0077ff}Net Up:$color ${upspeed wlo1}
${color #0077ff}${downspeedgraph wlo1 32,155 104E8B 0077ff} $alignr${color #0077ff}${upspeedgraph wlo1 32,155 104E8B 0077ff}
${endif}
</pre>
<p>This is the expected result :
</p>
<p><a rel="nofollow" class="external free" href="http://i.imgur.com/pQQbsP6.png">http://i.imgur.com/pQQbsP6.png</a>
</p>
<h3><span class="mw-headline" id="Fix_scrolling_with_UTF-8_multibyte_characters">Fix scrolling with UTF-8 multibyte characters</span></h3>
<p>The current version of <i>conky</i> (1.9.0) suffers from a <a rel="nofollow" class="external text" href="https://github.com/brndnmtthws/conky/issues/129">bug</a> where scrolling text increments by byte, not by character, resulting in text containing multibyte characters to disappear and reappear while scrolling.  A package with a patch fixing this bug can be found in the AUR: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/conky-utfscroll/">conky-utfscroll</a></span><sup><small>AUR</small></sup>
</p>
<h2><span class="mw-headline" id="User-contributed_configuration_examples">User-contributed configuration examples</span></h2>
<h3><span class="mw-headline" id="A_sample_rings_script_with_nvidia_support">A sample rings script with nvidia support</span></h3>
<p>See <a rel="nofollow" class="external autonumber" href="https://gist.github.com/anonymous/85d052c0c23e58bc3666">[2]</a>.
</p>
<h2><span class="mw-headline" id="A_note_about_symbolic_fonts">A note about symbolic fonts</span></h2>
<p>Many of the more decorated <code>conky.conf</code>'s use the fonts PizzaDude Bullets and Pie Charts for Maps. They are available from the AUR as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ttf-pizzadude-bullets/">ttf-pizzadude-bullets</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ttf-piechartsformaps/">ttf-piechartsformaps</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" title="ArchWiki:Requests">broken link</a>: archived in <a rel="nofollow" class="external text" href="https://github.com/felixonmars/aur3-mirror/tree/master/ttf-piechartsformaps">aur-mirror</a>]</sup> respectively, or they can be found and downloaded with a quick search and manually installed using the instructions in <a href="../en/Fonts.html" title="Fonts">Fonts</a>.
</p>
<h2><span class="mw-headline" id="Fonts_appear_smaller_than_they_should_with_Infinality">Fonts appear smaller than they should with Infinality</span></h2>
<p>If you notice that your <i>conky</i> fonts appear smaller than they should, or they do not align properly, it could be caused by a default setting in the infinality freetype2 patch.  This setting can cause some programs to display fonts at 72 DPI instead of 96 even if the rest of your system is set to 96. If you notice a problem open <code>/etc/fonts/infinality/infinality.conf</code>  search for the section on DPI and change 72 to 96.
</p>
<h2><span class="mw-headline" id="Universal_method_to_enable_true_transparency">Universal method to enable true transparency</span></h2>
<p>Transparency is a strange beast in <i>conky</i>, but there is a way to universally apply true transparency with any environment or window manager by using <i>xcompmgr</i> and <i>transset-df</i>. <a href="../en/Pacman.html#Installing_specific_packages" title="Pacman">Install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=xcompmgr">xcompmgr</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=transset-df">transset-df</a></span>.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>This may conflict with any other compositing manager you are already using.</div>
<p>Check <i>xcompmgr</i> documentation to help you decide which compositing options you would like to enable. The following is a common standard command.
</p>
<pre>$ xcompmgr -c -t-5 -l-5 -r4.2 -o.55 &amp;
</pre>
<p>Make sure <i>conky</i> is running with <code>conky &amp;</code>. Use <i>transset-df</i> to enable transparency on the <i>conky</i> window. Set '.5' to any value in the range 0 - 1.
</p>
<pre>$ transset-df .5 -n Conky
</pre>
<p>This should give your <i>conky</i> window true transparency. If you get an error like:
</p>
<pre>No Window matching Conky exists!
</pre>
<p>verify that <i>conky</i> is running, and use <i>xprop</i> and click on the <i>conky</i> window to find the name you should pass to <code>transset-df</code>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ xprop | grep WM_NAME</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">WM_NAME(STRING) = "Conky (ArchitectLinux)"</pre>
<p>In this case, <i>conky</i> is right, but for you it may be different, so be sure to use your output instead. If <code>conky.conf</code> has an option <code>own_window_type</code> set to <code>panel</code>, then this <i>xprop</i> invocation may show no output. Try using <code>dock</code>, <code>normal</code>, <code>override</code> or <code>desktop</code> instead.
</p>
<p>Use this in <code>~/.xinitrc</code> to have transparent <i>conky</i> after <a href="../en/Xorg.html" title="X" class="mw-redirect">X</a> starts up:
</p>
<pre>xcompmgr -c -t-5 -l-5 -r4.2 -o.55 &amp;
conky -d; sleep 1 &amp;&amp; transset-df .5 -n Conky
</pre>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li> <a rel="nofollow" class="external text" href="https://github.com/brndnmtthws/conky">Official website</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://conky.sourceforge.net/config_settings.html">Official Conky variables for configuration</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://conky.sourceforge.net/variables.html">Official Conky objects</a>
</li>
<li> <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=39906">Conky Configs on arch forums</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://freecode.com/projects/conky/">Conky</a> on <a href="https://en.wikipedia.org/wiki/Freecode" class="extiw" title="wikipedia:Freecode">Freecode</a>
</li>
<li> <a rel="nofollow" class="external text" href="irc://chat.freenode.org/conky">#conky</a> IRC chat channel on <a href="https://en.wikipedia.org/wiki/Freenode" class="extiw" title="wikipedia:Freenode">freenode</a>
</li>
<li> <a rel="nofollow" class="external text" href="http://novel.evilcoder.org/wiki/index.php?title=ConkyFAQ&amp;oldid=12463">FAQ</a>
</li>
</ul>

</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Status_monitoring_and_notification.html" title="Category:Status monitoring and notification">Status monitoring and notification</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
</ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
