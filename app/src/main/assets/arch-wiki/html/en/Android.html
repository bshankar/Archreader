<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>Android - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Android skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 0.5em; margin-bottom:0; margin-top:0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Android</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div style="width:45%; margin: 0 0 0.5em 0.5em;">
<p style="background:#333; color:white; padding:0.2em; border-bottom:5px #08c solid; margin:0; text-align:center; font-weight:bold;">Related articles</p>
<ul style="list-style-type:none; margin:0; padding:0.3em;">
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Android_notifier.html" title="Android notifier">Android notifier</a></li>
<li style="padding:0.4em 0; line-height:1;"><a href="../en/Android_tethering.html" title="Android tethering">Android tethering</a></li>
</ul>
</div>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Exploring_Android_device"><span class="tocnumber">1</span> <span class="toctext">Exploring Android device</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Android_development"><span class="tocnumber">2</span> <span class="toctext">Android development</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Android_SDK_core_components"><span class="tocnumber">2.1</span> <span class="toctext">Android SDK core components</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Android_SDK_platform_API"><span class="tocnumber">2.2</span> <span class="toctext">Android SDK platform API</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Android_System_Images"><span class="tocnumber">2.3</span> <span class="toctext">Android System Images</span></a></li>
<li class="toclevel-2 tocsection-6">
<a href="#Development_environment"><span class="tocnumber">2.4</span> <span class="toctext">Development environment</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#Android_Studio"><span class="tocnumber">2.4.1</span> <span class="toctext">Android Studio</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#Eclipse"><span class="tocnumber">2.4.2</span> <span class="toctext">Eclipse</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#Netbeans"><span class="tocnumber">2.4.3</span> <span class="toctext">Netbeans</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-10">
<a href="#Android_Debug_Bridge_.28ADB.29"><span class="tocnumber">2.5</span> <span class="toctext">Android Debug Bridge (ADB)</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="#Connect_device"><span class="tocnumber">2.5.1</span> <span class="toctext">Connect device</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#Figure_out_device_IDs"><span class="tocnumber">2.5.2</span> <span class="toctext">Figure out device IDs</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#Adding_udev_Rules"><span class="tocnumber">2.5.3</span> <span class="toctext">Adding udev Rules</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#Configuring_adb"><span class="tocnumber">2.5.4</span> <span class="toctext">Configuring adb</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#Detect_the_device"><span class="tocnumber">2.5.5</span> <span class="toctext">Detect the device</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#General_usage"><span class="tocnumber">2.5.6</span> <span class="toctext">General usage</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="#Notes_.26_Troubleshooting"><span class="tocnumber">2.5.7</span> <span class="toctext">Notes &amp; Troubleshooting</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-18"><a href="#NVIDIA_Tegra_platform"><span class="tocnumber">2.6</span> <span class="toctext">NVIDIA Tegra platform</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19">
<a href="#Building_Android"><span class="tocnumber">3</span> <span class="toctext">Building Android</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#OS_bitness"><span class="tocnumber">3.1</span> <span class="toctext">OS bitness</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Required_packages"><span class="tocnumber">3.2</span> <span class="toctext">Required packages</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Java_Development_Kit"><span class="tocnumber">3.3</span> <span class="toctext">Java Development Kit</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Setting_up_the_build_environment"><span class="tocnumber">3.4</span> <span class="toctext">Setting up the build environment</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Downloading_the_source_code"><span class="tocnumber">3.5</span> <span class="toctext">Downloading the source code</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Building_the_code"><span class="tocnumber">3.6</span> <span class="toctext">Building the code</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#Testing_the_build"><span class="tocnumber">3.7</span> <span class="toctext">Testing the build</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#Creating_a_Flashable_Image"><span class="tocnumber">3.8</span> <span class="toctext">Creating a Flashable Image</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-28">
<a href="#Restoring_Android"><span class="tocnumber">4</span> <span class="toctext">Restoring Android</span></a>
<ul>
<li class="toclevel-2 tocsection-29"><a href="#Fastboot"><span class="tocnumber">4.1</span> <span class="toctext">Fastboot</span></a></li>
<li class="toclevel-2 tocsection-30">
<a href="#Samsung_devices"><span class="tocnumber">4.2</span> <span class="toctext">Samsung devices</span></a>
<ul>
<li class="toclevel-3 tocsection-31"><a href="#Heimdall"><span class="tocnumber">4.2.1</span> <span class="toctext">Heimdall</span></a></li>
<li class="toclevel-3 tocsection-32"><a href="#Odin_.28Virtualbox.29"><span class="tocnumber">4.2.2</span> <span class="toctext">Odin (Virtualbox)</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-33">
<a href="#Alternative_connection_methods"><span class="tocnumber">5</span> <span class="toctext">Alternative connection methods</span></a>
<ul>
<li class="toclevel-2 tocsection-34"><a href="#adb-sync"><span class="tocnumber">5.1</span> <span class="toctext">adb-sync</span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#AirDroid"><span class="tocnumber">5.2</span> <span class="toctext">AirDroid</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#AndroidScreencast"><span class="tocnumber">5.3</span> <span class="toctext">AndroidScreencast</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#FTP"><span class="tocnumber">5.4</span> <span class="toctext">FTP</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#KDE_Connect"><span class="tocnumber">5.5</span> <span class="toctext">KDE Connect</span></a></li>
<li class="toclevel-2 tocsection-39"><a href="#SSH_Server"><span class="tocnumber">5.6</span> <span class="toctext">SSH Server</span></a></li>
<li class="toclevel-2 tocsection-40"><a href="#Samba"><span class="tocnumber">5.7</span> <span class="toctext">Samba</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-41">
<a href="#Tips_.26_Tricks"><span class="tocnumber">6</span> <span class="toctext">Tips &amp; Tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-42"><a href="#During_Debugging_.22Source_not_found.22"><span class="tocnumber">6.1</span> <span class="toctext">During Debugging "Source not found"</span></a></li>
<li class="toclevel-2 tocsection-43"><a href="#Linux_distribution_on_the_sdcard"><span class="tocnumber">6.2</span> <span class="toctext">Linux distribution on the sdcard</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-44">
<a href="#Troubleshooting"><span class="tocnumber">7</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-45"><a href="#Android_Studio:_Android_Virtual_Devices_show_.27failed_to_load.27."><span class="tocnumber">7.1</span> <span class="toctext">Android Studio: Android Virtual Devices show 'failed to load'.</span></a></li>
<li class="toclevel-2 tocsection-46"><a href="#aapt:_No_such_file_or_directory"><span class="tocnumber">7.2</span> <span class="toctext">aapt: No such file or directory</span></a></li>
<li class="toclevel-2 tocsection-47"><a href="#ValueError:_unsupported_pickle_protocol"><span class="tocnumber">7.3</span> <span class="toctext">ValueError: unsupported pickle protocol</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Exploring_Android_device">Exploring Android device</span></h2>
<p>There are few methods of exploring your device:
</p>
<ul>
<li>
<a href="../en/MTP.html" title="MTP">MTP</a> over USB for files transferring.</li>
<li>
<a href="#Alternative_connection_methods">Alternative methods</a> (such as FTP, SSH).</li>
</ul>
<p>For more advanced usage, development, flashing and restore:
</p>
<ul>
<li>
<a href="#Android_Debug_Bridge_.28ADB.29">ADB</a> mostly for development purposes.</li>
<li>
<a href="#Restoring_Android">Restoring Android</a> for flashing and restoring Android firmwares (includes fastboot).</li>
</ul>
<h2><span class="mw-headline" id="Android_development">Android development</span></h2>
<p>There are 3 steps that need to be performed before you can develop Android applications on your Arch Linux box:
</p>
<ol>
<li> Install the Android SDK core component,</li>
<li> Install one or several Android SDK Platform packages,</li>
<li> Install one of the IDEs compatible with the Android SDK.</li>
</ol>
<h3><span class="mw-headline" id="Android_SDK_core_components">Android SDK core components</span></h3>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>If you are running a 64-bit system, make sure the <a href="../en/Multilib.html" title="Multilib">multilib</a> repository is enabled to avoid "error: target not found: lib32-zlib" error messages.</div>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>If you plan to install <a href="#Android_Studio">#Android Studio</a> and want the IDE to manage your SDK installation, you do not need to install these packages</div>
<p>Before developing Android applications, you need to install the Android SDK, which is made of 3 distinct packages, all installable from <a href="../en/Arch_User_Repository.html" title="AUR" class="mw-redirect">AUR</a>:
</p>
<ol>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/android-sdk/">android-sdk</a></span><sup><small>AUR</small></sup>
</li>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/android-sdk-platform-tools/">android-sdk-platform-tools</a></span><sup><small>AUR</small></sup>
</li>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/android-sdk-build-tools/">android-sdk-build-tools</a></span><sup><small>AUR</small></sup>
</li>
</ol>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/android-support/">android-support</a></span><sup><small>AUR</small></sup> is also required if supporting older devices.
</p>
<p>Android-sdk will be installed on <code>/opt/android-sdk</code>. This folder has root permissions, so keep in mind to run sdk manager as root, otherwise you will not be able to modify anything in this directory. If you intend to use it as a regular user, create the Android sdk users group:
</p>
<pre># groupadd sdkusers
</pre>
<p>Add your user into this group:
</p>
<pre># gpasswd -a &lt;user&gt; sdkusers
</pre>
<p>Change folder's group.
</p>
<pre># chown -R :sdkusers /opt/android-sdk/
</pre>
<p>Change permissions of the folder so the user that was just added to the group will be able to write in it:
</p>
<pre># chmod -R g+w /opt/android-sdk/
</pre>
<p>Re-login or as &lt;user&gt; log your terminal in to the newly created group:
</p>
<pre>$ newgrp sdkusers
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>As an alternative to a global install with the <a href="../en/Arch_User_Repository.html" title="AUR" class="mw-redirect">AUR</a> packages, the SDK can be installed to a user's home directory via <a rel="nofollow" class="external text" href="https://developer.android.com/sdk/index.html">the upstream instructions</a>. You may also use the android-*-dummy packages in the <a href="../en/Arch_User_Repository.html" title="AUR" class="mw-redirect">AUR</a> to handle the system dependencies.</div>
<h3><span class="mw-headline" id="Android_SDK_platform_API">Android SDK platform API</span></h3>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>If you plan to install <a href="#Android_Studio">#Android Studio</a> and want the IDE to handle your SDK, you don't need to install these packages</div>
<p>Install the desired Android SDK Platform package from the <a href="../en/Arch_User_Repository.html" title="AUR" class="mw-redirect">AUR</a>:
</p>
<ul>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/android-platform/">android-platform</a></span><sup><small>AUR</small></sup> (latest)</li>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/android-platform-23/">android-platform-23</a></span><sup><small>AUR</small></sup>
</li>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/android-platform-22/">android-platform-22</a></span><sup><small>AUR</small></sup>
</li>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/android-platform-21/">android-platform-21</a></span><sup><small>AUR</small></sup>
</li>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/android-platform-20/">android-platform-20</a></span><sup><small>AUR</small></sup>
</li>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/android-platform-19/">android-platform-19</a></span><sup><small>AUR</small></sup>
</li>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/android-platform-18/">android-platform-18</a></span><sup><small>AUR</small></sup>
</li>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/android-platform-17/">android-platform-17</a></span><sup><small>AUR</small></sup>
</li>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/android-platform-16/">android-platform-16</a></span><sup><small>AUR</small></sup>
</li>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/android-platform-15/">android-platform-15</a></span><sup><small>AUR</small></sup>
</li>
<li> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/android-platform-14/">android-platform-14</a></span><sup><small>AUR</small></sup>
</li>
</ul>
<h3><span class="mw-headline" id="Android_System_Images">Android System Images</span></h3>
<p>Install the desired <a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/?O=0&amp;K=android+system+image">Android system image</a> package from the <a href="../en/Arch_User_Repository.html" title="AUR" class="mw-redirect">AUR</a>. This step may not be necessary if installing Android Studio.
</p>
<h3><span class="mw-headline" id="Development_environment">Development environment</span></h3>
<p>Android Studio is the new official Android development environment based on IntelliJ IDEA. Alternatively, you can use <a href="../en/Eclipse.html" title="Eclipse">Eclipse</a> with the official but deprecated ADT plugin, or <a href="../en/Netbeans.html" title="Netbeans">Netbeans</a> with the NBAndroid plugin. All are described below.
</p>
<h4><span class="mw-headline" id="Android_Studio">Android Studio</span></h4>
<p><a rel="nofollow" class="external text" href="https://developer.android.com/sdk/index.html">Android Studio</a> is the official Android development environment based on <a rel="nofollow" class="external text" href="https://www.jetbrains.com/idea/">IntelliJ Idea</a>. Android Studio replaces the older <a rel="nofollow" class="external text" href="https://developer.android.com/tools/help/adt.html">Eclipse Android Developer Tools</a> and provides integrated Android developer tools for development and debugging.
</p>
<p>You can download and install it with the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/android-studio/">android-studio</a></span><sup><small>AUR</small></sup> package from the <a href="../en/Arch_User_Repository.html" title="AUR" class="mw-redirect">AUR</a>. If you get an error about a missing SDK, refer to the section Getting Android SDK platform API above.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>If you are using a tiling window manager other than i3wm, you may need to apply one of the fixes mentioned in <a rel="nofollow" class="external text" href="https://code.google.com/p/android/issues/detail?id=57675">this</a> issue page.</div>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Make sure you properly <a href="../en/Java.html#Change_default_Java_environment" title="Java">set the Java environment</a> otherwise android-studio will not start.</div>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Bad font rendering in Android Studio can be fixed by installing the <a href="../en/Infinality.html#Installation" title="Infinality">infinality-bundle</a> and using infinality patched openJDK 7 (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jdk7-openjdk-infinality/">jdk7-openjdk-infinality</a></span><sup><small>AUR</small></sup>) or openJDK 8 (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jdk8-openjdk-infinality/">jdk8-openjdk-infinality</a></span><sup><small>AUR</small></sup>) from the AUR as mentioned in <a rel="nofollow" class="external text" href="https://youtrack.jetbrains.com/issue/IDEA-57233#comment=27-876236">this</a> issue page. Patched OpenJDK8 is also available from <a href="../en/Unofficial_user_repositories.html#infinality-bundle" title="Unofficial user repositories">Infinality unofficial repository</a>.</div>
<p>Normally, apps are built through the Android Studio GUI. To build apps from the commandline (using e.g. <code>./gradlew assembleDebug</code>), add the following to your <code>~/.bashrc</code>:
</p>
<pre>export ANDROID_HOME=/opt/android-sdk
</pre>
<h4><span class="mw-headline" id="Eclipse">Eclipse</span></h4>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Since 2014-12-08, the ADT plugin is officially considered deprecated and Android Studio is now the official IDE.</div>
<p>The official, but deprecated, <a rel="nofollow" class="external text" href="http://developer.android.com/sdk/eclipse-adt.html">Eclipse ADT</a> plugin can be installed with the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/eclipse-android/">eclipse-android</a></span><sup><small>AUR</small></sup> package.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>
<ul>
<li> if you get a message about unresolvable dependencies, install <a href="../en/Java.html" title="Java">Java</a> manually and try again.</li>
<li> as an alternative, you can install the ADT via eclipse's built in "add new software" command (see instructions on ADT site).</li>
<li> if you are in real trouble, it is also possible to download Android SDK and use the bundled Eclipse. This usually works without problems.</li>
<li> if you need to install extra SDK plugins not found in the AUR, you must change the file ownership of /opt/android-sdk first. You can do this with <code># chgrp -R users /opt/android-sdk ; chmod -R 0775 /opt/android-sdk</code> (see <a href="../en/File_permissions_and_attributes.html" title="File Permissions" class="mw-redirect">File Permissions</a> for more details).</li>
</ul>
</div>
<p>Enter the path to the Android SDK Location in
</p>
<pre>Windows -&gt; Preferences -&gt; Android
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>
<p>If the plugins do not show up in Eclipse after the AUR package has been upgraded, then eclipse probably has out-of-date caches. Running <code>sudo eclipse -clean</code> once should clear them. If the problem persists, uninstall eclipse and all the plugins, delete <code>/usr/share/eclipse</code>, and reinstall everything.
</p>
</div>
<h4><span class="mw-headline" id="Netbeans">Netbeans</span></h4>
<p>If you prefer using <a href="../en/Netbeans.html" title="Netbeans">Netbeans</a> as your IDE and want to develop Android applications, download the <a rel="nofollow" class="external text" href="http://www.nbandroid.org">NBAndroid</a> by going to:
</p>
<pre>Tools -&gt; Plugins -&gt; Settings
</pre>
<p>Add the following URL: <a rel="nofollow" class="external free" href="http://nbandroid.org/release81/updates/updates.xml">http://nbandroid.org/release81/updates/updates.xml</a>
</p>
<p>Then go to <b>Available Plugins</b> and install the <b>Android</b> and <b>JUnit</b> plugins. Once you have installed go to:
</p>
<pre>Tools -&gt; Options -&gt; Miscellaneous -&gt; Android
</pre>
<p>and select the path where the SDK is installed (/opt/android-sdk by default). That is it, now you can create a new Android project and start developing using Netbeans.
</p>
<h3><span class="mw-headline" id="Android_Debug_Bridge_.28ADB.29">Android Debug Bridge (ADB)</span></h3>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDFFDD; border: thin solid #BBDDBB; overflow: hidden;">
<strong> Tip: </strong>For some devices, you may have to enable MTP on the device, before ADB will work. Some other devices require enable PTP mode to work.</div>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDFFDD; border: thin solid #BBDDBB; overflow: hidden;">
<strong> Tip: </strong>Many devices' udev rules are included in <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=libmtp">libmtp</a></span>, so if you have this installed, the following steps may not be necessary.</div>
<h4><span class="mw-headline" id="Connect_device">Connect device</span></h4>
<p>To connect to a real device or phone via ADB under Arch, you must:
</p>
<ol>
<li> Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=android-tools">android-tools</a></span>. In addition, you might want to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=android-udev">android-udev</a></span> if you wish to connect the device to the proper <code>/dev/</code> entries.</li>
<li> Enable USB Debugging on your phone or device:
<ul>
<li> Jelly Bean (4.2) and newer: Go to <code>Settings --&gt; About Phone</code> tap “Build Number” until you get a popup that you have become a developer (7 times). Then go to <code>Settings --&gt; Developer --&gt; USB debugging</code> and enable it.</li>
<li> Older versions: This is usually done from <code>Settings --&gt; Applications --&gt; Development --&gt; USB debugging</code>. Reboot the phone after checking this option to make sure USB debugging is enabled.</li>
</ul>
</li>
<li> Add yourself to the <i>adbusers</i> group:</li>
</ol>
<pre># gpasswd -a <i>username</i> adbusers
</pre>
<p>If <a href="#Detect_the_device">ADB recognizes your device</a> (it is visible and accessible in IDE), you are done. Otherwise see instructions below.
</p>
<h4><span class="mw-headline" id="Figure_out_device_IDs">Figure out device IDs</span></h4>
<p>Each Android device has a USB vendor/product ID. An example for HTC Evo is:
</p>
<pre>vendor id: 0bb4
product id: 0c8d
</pre>
<p>Plug in your device and execute:
</p>
<pre>$ lsusb
</pre>
<p>It should come up something like this:
</p>
<pre>Bus 002 Device 006: ID 0bb4:0c8d High Tech Computer Corp.
</pre>
<h4><span class="mw-headline" id="Adding_udev_Rules">Adding udev Rules</span></h4>
<p>Use the rules from <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/android-udev-git/">android-udev-git</a></span><sup><small>AUR</small></sup>, install them manually from <a rel="nofollow" class="external text" href="http://source.android.com/source/initializing.html#configuring-usb-access">Android developer</a>, or use the following template for your udev rules, just replace [VENDOR ID] and [PRODUCT ID] with yours. Copy these rules into <code>/etc/udev/rules.d/51-android.rules</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/51-android.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="usb", ATTR{idVendor}=="[VENDOR ID]", MODE="0660", GROUP="adbusers"
SUBSYSTEM=="usb",ATTR{idVendor}=="[VENDOR ID]",ATTR{idProduct}=="[PRODUCT ID]",SYMLINK+="android_adb"
SUBSYSTEM=="usb",ATTR{idVendor}=="[VENDOR ID]",ATTR{idProduct}=="[PRODUCT ID]",SYMLINK+="android_fastboot"</pre>
<p>Then, to reload your new udev rules, execute:
</p>
<pre># udevadm control --reload-rules
</pre>
<p>Make sure you are member of <code>adbusers</code> <a href="../en/Users_and_groups.html#Group_management" title="Group" class="mw-redirect">group</a> to access <code>adb</code> devices.
</p>
<h4><span class="mw-headline" id="Configuring_adb">Configuring adb</span></h4>
<p>Instead of using udev rules, you may create/edit <code>~/.android/adb_usb.ini</code> which contains a list of vendor IDs.
</p>
<pre>$ cat ~/.android/adb_usb.ini 
0x27e8
</pre>
<h4><span class="mw-headline" id="Detect_the_device">Detect the device</span></h4>
<p>After you have setup the udev rules, unplug your device and replug it.
</p>
<p>After running:
</p>
<pre>$ adb devices
</pre>
<p>you should see something like:
</p>
<pre>List of devices attached 
HT07VHL00676    device
</pre>
<h4><span class="mw-headline" id="General_usage">General usage</span></h4>
<p>You can now use adb to transfer files between the device and your computer. To transfer files to the device, use
</p>
<pre>$ adb push <i>&lt;what-to-copy&gt;</i> <i>&lt;where-to-place&gt;</i>
</pre>
<p>To transfer files from the device, use
</p>
<pre>$ adb pull <i>&lt;what-to-pull&gt;</i> <i>&lt;where-to-place&gt;</i>
</pre>
<h4><span class="mw-headline" id="Notes_.26_Troubleshooting">Notes &amp; Troubleshooting</span></h4>
<ul><li> <b>ADB</b> can also be installed via <a href="#Android_SDK_platform_API">platform tools</a>(usually available in <code>/opt/android-sdk/platform-tools/</code>), so it might not be necesarry to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=android-tools">android-tools</a></span> (available in <code>/usr/bin/</code>).</li></ul>
<ul><li> If you are getting an empty list (your device is not there), it may be because you have not enabled USB debugging on your device. You can do that by going to Settings =&gt; Applications =&gt; Development and enabling USB debugging. On Android 4.2 (Jelly Bean) the Development menu is hidden; to enable it go to Settings =&gt; About phone and tap Build number 7 times.</li></ul>
<ul><li> If there are still problems such as <i>adb</i> displaying <code>???????? no permissions</code> under devices, try restarting the adb server as root.</li></ul>
<pre># adb kill-server
# adb start-server
</pre>
<ul><li> On moto e it could happen to have a different vendor/product id while you are on sideload or fastboot, verify again lsusb if you get no permission.</li></ul>
<h3><span class="mw-headline" id="NVIDIA_Tegra_platform">NVIDIA Tegra platform</span></h3>
<p>If you target your application at NVIDIA Tegra platform, you might also want to install tools, samples and documentation provided by NVIDIA. In <a rel="nofollow" class="external text" href="http://developer.nvidia.com/category/zone/mobile-development">NVIDIA Developer Zone for Mobile</a> there are two tools: 
</p>
<ol>
<li> The <a rel="nofollow" class="external text" href="http://developer.nvidia.com/tegra-resources">Tegra Android Development Pack</a> provides tools (NVIDIA Debug Manager) related to <a rel="nofollow" class="external text" href="http://developer.android.com/sdk/eclipse-adt.html">Eclipse ADT</a> and their documentation. </li>
<li> The <a rel="nofollow" class="external text" href="http://developer.nvidia.com/tegra-resources">Tegra Toolkit</a> provides tools (mostly CPU and GPU optimization related), samples and documentation. </li>
</ol>
<p>Both are currently not available in the <a href="../en/Arch_User_Repository.html" title="AUR" class="mw-redirect">AUR</a> anymore, because NVIDIA requires a registration/login for the download.
</p>
<h2><span class="mw-headline" id="Building_Android">Building Android</span></h2>
<p>Please note that these instructions are based on the <a rel="nofollow" class="external text" href="http://source.android.com/source/building.html">official AOSP build instructions</a>. Other Android-derived systems such as CyanogenMod will often require extra steps.
</p>
<h3><span class="mw-headline" id="OS_bitness">OS bitness</span></h3>
<p>Android 2.2.x (Froyo) and below are the only versions of Android that will build on a 32-bit system. For 2.3.x (Gingerbread) and above, you will need a 64-bit installation. 
</p>
<h3><span class="mw-headline" id="Required_packages">Required packages</span></h3>
<p>To build any version of Android, you need to install these packages:
</p>
<ul><li> 32-bit and 64-bit systems: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=gcc">gcc</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=git">git</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=gnupg">gnupg</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=flex">flex</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=bison">bison</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=gperf">gperf</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=sdl">sdl</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=wxgtk">wxgtk</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=squashfs-tools">squashfs-tools</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=curl">curl</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=ncurses">ncurses</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=zlib">zlib</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=schedtool">schedtool</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=perl-switch">perl-switch</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=zip">zip</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=unzip">unzip</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=libxslt">libxslt</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=python2-virtualenv">python2-virtualenv</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=bc">bc</a></span>
</li></ul>
<ul><li> 64-bit systems only: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=gcc-multilib">gcc-multilib</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=lib32-zlib">lib32-zlib</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=lib32-ncurses">lib32-ncurses</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=lib32-readline">lib32-readline</a></span>
</li></ul>
<ul><li> AUR Packages 32-bit and 64-bit systems: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ncurses5-compat-libs/">ncurses5-compat-libs</a></span><sup><small>AUR</small></sup>
</li></ul>
<ul><li> AUR Packages 64-bit systems only: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lib32-ncurses5-compat-libs/">lib32-ncurses5-compat-libs</a></span><sup><small>AUR</small></sup>
</li></ul>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>The PGP signatures for <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ncurses5-compat-libs/">ncurses5-compat-libs</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lib32-ncurses5-compat-libs/">lib32-ncurses5-compat-libs</a></span><sup><small>AUR</small></sup> may cause errors, that can be solved by manually importing the needed signature: 
<pre>$ gpg --recv-keys 702353E0F7E48EDB
</pre>
</div>
<p>To build Android 6+, you need to install these additional packages:
</p>
<ul><li> 32-bit and 64-bit systems: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=rsync">rsync</a></span>
</li></ul>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>You must now also install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=maven">maven</a></span> to build CyanogenMod since, from cm-13.0, they are using maven artifacts</div>
<h3><span class="mw-headline" id="Java_Development_Kit">Java Development Kit</span></h3>
<ul>
<li>For Android 7 (Nougat), OpenJDK 8 is required, which is available with the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=jdk8-openjdk">jdk8-openjdk</a></span>.<a rel="nofollow" class="external autonumber" href="https://source.android.com/source/requirements.html">[1]</a> package. </li>
<li>For Android 5 and 6 (Lollipop and Marshmallow), OpenJDK 7 is required, which is available with the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=jdk7-openjdk">jdk7-openjdk</a></span> package.</li>
</ul>
<p>Older versions <a rel="nofollow" class="external text" href="http://source.android.com/source/initializing.html">require</a> a working <b>Oracle JDK</b> installed on your build system. It <b>will not</b> work with OpenJDK.
</p>
<ul>
<li>For Gingerbread through KitKat (2.3 - 4.4), Java 6 is required, which is available as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jdk6/">jdk6</a></span><sup><small>AUR</small></sup> from the AUR.</li>
<li>For Cupcake through Froyo (1.5 - 2.2), Java 5 is required, which is available as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jdk5/">jdk5</a></span><sup><small>AUR</small></sup> from the AUR.</li>
</ul>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Android expect java in /usr/lib/jvm/java-x-openjdk-amd64, where x is the java version.
<p>Set JAVA_HOME to avoid this requirement and match archlinux installation path.
Example:
</p>
<pre>$ export JAVA_HOME=/usr/lib/jvm/java-x-openjdk
</pre>
This change will be valid only for the current terminal session.</div>
<h3><span class="mw-headline" id="Setting_up_the_build_environment">Setting up the build environment</span></h3>
<p><a href="../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=repo">repo</a></span> package, then:
</p>
<pre>$ mkdir ~/bin
$ export PATH=~/bin:$PATH
$ curl https://storage.googleapis.com/git-repo-downloads/repo &gt; ~/bin/repo
$ chmod a+x ~/bin/repo
</pre>
<p>Create a directory to build.
</p>
<pre>$ mkdir ~/android
$ cd ~/android
</pre>
<p>You will need to change the default Python from version 3 to version 2:
</p>
<pre>$ virtualenv2 venv # Creates a directory, venv/, containing the Virtualenv
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>During build you may receive error pertaining to missing python modules. A quick and dirty fix is to symlink /usr/lib/python2.7/* to ~/android/venv/python2.7/ (Change ~/android to reflect your build directory if different than above).
<p>Example:
</p>
<pre>$ ln -s /usr/lib/python2.7/* /Data/Android_Build/venv/lib/python2.7/
</pre>
</div>
<p>Activate the Virtualenv, which will update $PATH to point at Python 2.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>this activation is only active for the current terminal session.
</div>
<pre>$ source venv/bin/activate
</pre>
<h3><span class="mw-headline" id="Downloading_the_source_code">Downloading the source code</span></h3>
<p>This will clone the repositories. You <b>only</b> need to do this the first time you build Android, or if you want to switch branches.
</p>
<ul><li> The <code>repo</code> has a <code>-j</code> switch that operates similarly to the one used with <code>make</code>. Since it controls the number of simultaneous downloads, you should adjust the value depending on downstream network bandwidth.</li></ul>
<ul><li> You will need to specify a <b>branch</b> (release of Android) to check out with the <code>-b</code> switch. If you leave the switch out, you will get the so-called <b>master branch</b>.</li></ul>
<pre>$ repo init -u <a rel="nofollow" class="external free" href="https://android.googlesource.com/platform/manifest">https://android.googlesource.com/platform/manifest</a> -b master
$ repo sync -j4
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>To further decrease sync times, you can utilize the -c switch with the repo command as such:
<pre>$ repo sync -j8 -c
</pre>
<p>The <code>-c</code> switch will only sync the branch which is specified in the manifest, which in turn is determined by the branch specified with the <code>-b</code> switch, or the default branch set by the repository maintainer.
</p>
</div>
<p>Wait a long time. Just the uncompiled source code, along with the <code>.repo</code> and <code>.git</code> directories that are used to keep track of it, are well over 10 GB. As of Android 6.0.1, the entire codebase totals 40 GB.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>If you want to update your local copy of the Android source, at a later time, simply enter the build directory, load the Virtualenv, and re-sync:
<pre>$ repo sync
</pre>
</div>
<h3><span class="mw-headline" id="Building_the_code">Building the code</span></h3>
<p>This should do what you need for AOSP:
</p>
<pre>$ source build/envsetup.sh
$ lunch full-eng
$ make -j4
</pre>
<p>If you run <b>lunch</b> without arguments, it will ask what build you want to create. Use -j with a number between one and two times number of cores/threads.
</p>
<p>The build takes a very long time.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Make sure you have enough RAM.
<p>Android will use the /tmp directory heavily. By default the size of the partition the /tmp folder is mounted on is half the size of your RAM. If it fills up, the build will fail. 4GB of RAM or more is recommended.
</p>
<ul><li> Alternatively, you can get rid of the tmpfs from <a href="../en/Fstab.html" title="Fstab">fstab</a> all together. </li></ul>
</div>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>From the <a rel="nofollow" class="external text" href="https://source.android.com/source/building-running.html#build-the-code">Android Building and Running guide</a>:
<p>"GNU make can handle parallel tasks with a -jN argument, and it's common to use a number of tasks N that's between 1 and 2 times the number of hardware threads on the computer being used for the build. E.g. on a dual-E5520 machine (2 CPUs, 4 cores per CPU, 2 threads per core), the fastest builds are made with commands between make -j16 and make -j32."
</p>
</div>
<h3><span class="mw-headline" id="Testing_the_build">Testing the build</span></h3>
<p>When finished, run/test the final image(s).
</p>
<pre>$ emulator
</pre>
<h3><span class="mw-headline" id="Creating_a_Flashable_Image">Creating a Flashable Image</span></h3>
<p>To create an image that can be flashed it is necessary to:
</p>
<pre>make -j8 updatepackage
</pre>
<p>This will create a zip image under <b>out/target/product/hammerhead</b> (hammerhead being the device name) that can be flashed.
</p>
<h2><span class="mw-headline" id="Restoring_Android">Restoring Android</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> <span style="color:red;">please use the first argument of the template to provide a brief explanation.</span> (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Android">Talk:Android#</a>)</div>
</div>
<p>In some cases, you want to return to the stock Android after flashing custom ROMs to your Android mobile device. For flashing instructions of your device, please use <a rel="nofollow" class="external text" href="http://forum.xda-developers.com/">XDA forums</a>.
</p>
<h3><span class="mw-headline" id="Fastboot">Fastboot</span></h3>
<p>Fastboot (as well as <a href="#Android_Debug_Bridge_.28ADB.29">ADB</a>) comes together with a package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=android-tools">android-tools</a></span> from the <a href="../en/Official_repositories.html" title="Official repositories">official repositories</a>.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Restoring firmwares using <code>fastboot</code> can be quite tricky, but you might want to browse <a rel="nofollow" class="external text" href="http://www.xda-developers.com/">XDA developers forums</a> for a stock firmware, which is mostly a <code>*.zip</code> file, but inside of it, comes with the firmware files and <code>flash-all.sh</code> script. For example, <a rel="nofollow" class="external text" href="https://developers.google.com/android/nexus/images">Google Nexus</a> firmwares include <code>flash-all.sh</code> script or another example could be for OnePlus One - <a rel="nofollow" class="external text" href="http://forum.xda-developers.com/oneplus-one/general/guide-return-opo-to-100-stock-t2826541">XDA thread</a>, where you can find firmwares with included <code>flash-all.sh</code> script.</div>
<h3><span class="mw-headline" id="Samsung_devices">Samsung devices</span></h3>
<p>Samsung devices can't be flashed using <b>Fastboot</b> tool. Alternatives are only <b>Heimdall</b> and <b>Odin</b> (by using Windows and VirtualBox).
</p>
<h4><span class="mw-headline" id="Heimdall">Heimdall</span></h4>
<p><a rel="nofollow" class="external text" href="http://glassechidna.com.au/heimdall/">Heimdall</a> is a cross-platform open-source tool suite used to flash firmware (also known as ROMs) onto Samsung mobile devices and is also known as an alternative to <a rel="nofollow" class="external text" href="http://odindownload.com/">Odin</a>. It can be installed as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=heimdall">heimdall</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/heimdall-git/">heimdall-git</a></span><sup><small>AUR</small></sup>.
</p>
<p>The flashing instructions can be found on Heimdall's <a rel="nofollow" class="external text" href="https://github.com/Benjamin-Dobell/Heimdall/tree/master/Linux">GitHub page</a> or on <a rel="nofollow" class="external text" href="http://forum.xda-developers.com/showthread.php?t=1922461">XDA forums</a>.
</p>
<h4><span class="mw-headline" id="Odin_.28Virtualbox.29">Odin (Virtualbox)</span></h4>
<p>It is also possible to restore stock Android on the Samsung devices using <a rel="nofollow" class="external text" href="http://odindownload.com/">Odin</a>, but inside the <a href="../en/VirtualBox.html" title="VirtualBox">VirtualBox</a>. For more information, see <a rel="nofollow" class="external text" href="http://forum.xda-developers.com/showthread.php?t=758634">XDA thread</a>.
</p>
<p>Arch Linux related steps:
</p>
<ol>
<li> Install <a href="../en/VirtualBox.html" title="VirtualBox">VirtualBox</a> together with its <a href="../en/VirtualBox.html#Extension_pack" title="VirtualBox">extension pack</a> and <a href="../en/VirtualBox.html#Guest_additions_disc" title="VirtualBox">guest additions</a>.</li>
<li> Install your preferred, but compatible with Odin, Windows operating system (with VirtualBox guest additions) into a virtual hard drive using VirtualBox</li>
<li> Open VirtualBox settings of your Windows operating system, navigate to <b>USB</b>, then tick (or make sure it is ticked) <b>Enable USB 2.0 (EHCI) Controller</b>.</li>
<li> At VirtualBox running Windows operating system, click in the menu bar <b>Devices</b>, then <b>USB Devices</b>, then click on your Samsung mobile device connected to your computer via USB.</li>
</ol>
<p>Windows related links:
</p>
<ul>
<li> Samsung drivers can be downloaded from <a rel="nofollow" class="external text" href="http://androidxda.com/download-samsung-usb-drivers">here</a>.</li>
<li> Odin can be downloaded from <a rel="nofollow" class="external text" href="https://www.androidfilehost.com/?fid=23501681358557126">here</a>.</li>
<li> Samsung Android firmware can be downloaded from <a rel="nofollow" class="external text" href="http://www.sammobile.com/firmwares/">here</a>.</li>
</ul>
<p>If you want to make sure that everything is working and ready:
</p>
<ol>
<li> Turn your device into Download mode and connect to your Linux machine.</li>
<li> In virtual machine toolbar, select <code>devices</code> --&gt; <code>USB</code> --&gt; <code>...Samsung...</code> device.</li>
<li> Open Odin. The white box (a big one at the bottom-left side) named <b>Message</b>, should print a line similar to this:</li>
</ol>
<pre>&lt;ID:0/003&gt; Added!!
</pre>
<p>which means that your device is visible to Odin and is ready to be flashed.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>There are no general instructions of restoring stock firmware on Samsung mobile devices. You have to use <a rel="nofollow" class="external text" href="https://www.google.com">Google</a> and <a rel="nofollow" class="external text" href="http://www.xda-developers.com">XDA developers forums</a> to find a flashing instructions for specific device. For example, this is how the <a rel="nofollow" class="external text" href="http://goo.gl/cZLyF8">thread</a> about the Samsung Galaxy S4 looks like</div>
<h2><span class="mw-headline" id="Alternative_connection_methods">Alternative connection methods</span></h2>
<h3><span class="mw-headline" id="adb-sync">adb-sync</span></h3>
<p><a rel="nofollow" class="external text" href="https://github.com/google/adb-sync">adb-sync</a> (available in <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/adb-sync-git/">adb-sync-git</a></span><sup><small>AUR</small></sup>) is a tool to synchronize files between a PC and an Android device using the ADB protocol.
</p>
<h3><span class="mw-headline" id="AirDroid">AirDroid</span></h3>
<p><a rel="nofollow" class="external text" href="http://goo.gl/EZQ9GQ">AirDroid</a> is an Android app to access files from your web browser.
</p>
<h3><span class="mw-headline" id="AndroidScreencast">AndroidScreencast</span></h3>
<p><a rel="nofollow" class="external text" href="http://xsavikx.github.io/AndroidScreencast">AndroidScreencast</a> was developed to view and control your android device from a PC (using ADB).
</p>
<h3><span class="mw-headline" id="FTP">FTP</span></h3>
<p>You run a FTP server on Arch and connect to it from your phone, or the other way around: run a FTP server on your phone and connect to it from Arch.
</p>
<p>See <a href="../en/List_of_applications/Internet.html#FTP" title="List of applications/Internet">List of applications/Internet#FTP</a>. There are a lot of FTP clients/servers available for Android.
</p>
<h3><span class="mw-headline" id="KDE_Connect">KDE Connect</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=kdeconnect">kdeconnect</a></span> integrates your android device with the KDE desktop. Its features include synced notifications, clipboard sync, multimedia control, and file/URL sharing.
</p>
<h3><span class="mw-headline" id="SSH_Server">SSH Server</span></h3>
<p>There are many SSH servers available for Android, it allows you to transfer files using <code>scp</code> command. See also <a href="../en/Secure_Shell.html" title="SSH" class="mw-redirect">SSH</a>.
</p>
<h3><span class="mw-headline" id="Samba">Samba</span></h3>
<p>See <a href="../en/Samba.html" title="Samba">Samba</a>.
</p>
<h2><span class="mw-headline" id="Tips_.26_Tricks">Tips &amp; Tricks</span></h2>
<h3><span class="mw-headline" id="During_Debugging_.22Source_not_found.22">During Debugging "Source not found"</span></h3>
<p>Most probably the debugger wants to step into the Java code. As the source code of Android does not come with the Android SDK, this leads to an error. The best solution is to use step filters to not jump into the Java source code. Step filters are not activated by default. To activate them: 
</p>
<pre>Window -&gt; Preferences -&gt; Java -&gt; Debug -&gt; Step Filtering
</pre>
<p>Consider to select them all. If appropriate you can add the android.* package. See the forum post for more information: <a rel="nofollow" class="external free" href="http://www.eclipsezone.com/eclipse/forums/t83338.rhtml">http://www.eclipsezone.com/eclipse/forums/t83338.rhtml</a>
</p>
<h3><span class="mw-headline" id="Linux_distribution_on_the_sdcard">Linux distribution on the sdcard</span></h3>
<p>You can install Debian like in this <a rel="nofollow" class="external text" href="http://forum.xda-developers.com/showthread.php?t=631389">thread</a>. Excellent guide to installing Arch in chroot (in parallel with Android) can be found on <a rel="nofollow" class="external text" href="http://archlinuxarm.org/forum/viewtopic.php?f=27&amp;t=1361&amp;start=40">archlinuxarm.org forum</a>.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Android_Studio:_Android_Virtual_Devices_show_.27failed_to_load.27.">Android Studio: Android Virtual Devices show 'failed to load'.</span></h3>
<p>Make sure you've exported the variable <code>ANDROID_HOME</code> as explained in <a href="#Android_Studio">#Android Studio</a>.
</p>
<h3><span class="mw-headline" id="aapt:_No_such_file_or_directory">aapt: No such file or directory</span></h3>
<p>The build tools include 32-bit binaries. For this reason they require 32-bit libraries. If you happened to install the SDK manually, you will additionally need to install
<b>multilib/lib32-libstdc++5</b> and <b>multilib/lib32-zlib</b>.
</p>
<h3><span class="mw-headline" id="ValueError:_unsupported_pickle_protocol">ValueError: unsupported pickle protocol</span></h3>
<p>One fix is to issue:
</p>
<pre>rm ~/.repopickle_.gitconfig
</pre>
<p>If that does not work, then try this:
</p>
<pre>rm `find /path/to/android-root -name .repopickle_config`
</pre>
</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Development.html" title="Category:Development">Development</a></li>
<li><a href="../en/Category:Mobile_devices.html" title="Category:Mobile devices">Mobile devices</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li></ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
Extracted from <a href="https://wiki.archlinux.org"> ArchWiki </a> and licensed under <a href="http://www.gnu.org/copyleft/fdl.html"> GDL >= 1.3</a>
		</div>
		</div>
		</body>
</html>
