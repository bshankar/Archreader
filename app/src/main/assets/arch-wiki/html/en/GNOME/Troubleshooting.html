<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8">
<title>GNOME/Troubleshooting - ArchWiki</title>
<link rel="stylesheet" href="../../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<style></style>
<meta name="generator" content="MediaWiki 1.26.4">
<meta name="robots" content="noindex,follow">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-GNOME_Troubleshooting skin-archlinux action-view">

		<div id="globalWrapper" style="width: 100%">
		<div id="column-content">
			<div id="content" class="mw-body" role="main" style="margin: 2em; margin-bottom: 0">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">GNOME/Troubleshooting</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="contentSub"><span class="subpages">&lt; <a href="../../en/GNOME.html" title="GNOME">GNOME</a></span></div>
										<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<p>See <a href="../../en/GNOME.html" title="GNOME">GNOME</a> for the main article.
</p>
<div id="toc" class="toc">
<div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Shell_freezes"><span class="tocnumber">1</span> <span class="toctext">Shell freezes</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Incorrect_application_defaults"><span class="tocnumber">2</span> <span class="toctext">Incorrect application defaults</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Tracker_.26_Documents_do_not_list_any_local_files"><span class="tocnumber">3</span> <span class="toctext">Tracker &amp; Documents do not list any local files</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Unable_to_add_accounts_in_Empathy_and_GNOME_Online_Accounts"><span class="tocnumber">4</span> <span class="toctext">Unable to add accounts in Empathy and GNOME Online Accounts</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Empathy_does_not_use_GNOME_Online_Accounts"><span class="tocnumber">5</span> <span class="toctext">Empathy does not use GNOME Online Accounts</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Cannot_change_settings_in_dconf-editor"><span class="tocnumber">6</span> <span class="toctext">Cannot change settings in dconf-editor</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#When_an_extension_breaks_the_shell"><span class="tocnumber">7</span> <span class="toctext">When an extension breaks the shell</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Extensions_do_not_work_after_GNOME_3_update"><span class="tocnumber">8</span> <span class="toctext">Extensions do not work after GNOME 3 update</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Extensions_disabled_at_every_system_startup"><span class="tocnumber">9</span> <span class="toctext">Extensions disabled at every system startup</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Keyboard_shortcut_do_not_work_with_only_conky_running"><span class="tocnumber">10</span> <span class="toctext">Keyboard shortcut do not work with only conky running</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Unable_to_apply_stored_configuration_for_monitors"><span class="tocnumber">11</span> <span class="toctext">Unable to apply stored configuration for monitors</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="#Consistent_cursor_theme"><span class="tocnumber">12</span> <span class="toctext">Consistent cursor theme</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#Windows_cannot_be_modified_with_Alt-Key_.2B_mouse-button"><span class="tocnumber">13</span> <span class="toctext">Windows cannot be modified with Alt-Key + mouse-button</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="#Slow_loading_of_system_icons.2Fslow_GDM_login"><span class="tocnumber">14</span> <span class="toctext">Slow loading of system icons/slow GDM login</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="#Artifacts_when_maximizing_windows"><span class="tocnumber">15</span> <span class="toctext">Artifacts when maximizing windows</span></a></li>
<li class="toclevel-1 tocsection-16"><a href="#Tear-free_video_with_Intel_HD_Graphics"><span class="tocnumber">16</span> <span class="toctext">Tear-free video with Intel HD Graphics</span></a></li>
<li class="toclevel-1 tocsection-17"><a href="#Window_opens_behind_other_windows_when_using_multiple_monitors"><span class="tocnumber">17</span> <span class="toctext">Window opens behind other windows when using multiple monitors</span></a></li>
<li class="toclevel-1 tocsection-18"><a href="#Lock_button_fails_to_re-enable_touchpad"><span class="tocnumber">18</span> <span class="toctext">Lock button fails to re-enable touchpad</span></a></li>
<li class="toclevel-1 tocsection-19"><a href="#GNOME_Shell_keyboard_sources_menu_not_visible"><span class="tocnumber">19</span> <span class="toctext">GNOME Shell keyboard sources menu not visible</span></a></li>
<li class="toclevel-1 tocsection-20"><a href="#Mouse_cursor_missing"><span class="tocnumber">20</span> <span class="toctext">Mouse cursor missing</span></a></li>
<li class="toclevel-1 tocsection-21"><a href="#No_restart_button_in_session_menu_when_screen_is_locked"><span class="tocnumber">21</span> <span class="toctext">No restart button in session menu when screen is locked</span></a></li>
<li class="toclevel-1 tocsection-22"><a href="#PulseAudio_system-wide_causes_delay_in_GNOME_and_GDM"><span class="tocnumber">22</span> <span class="toctext">PulseAudio system-wide causes delay in GNOME and GDM</span></a></li>
<li class="toclevel-1 tocsection-23"><a href="#GNOME_crashes_when_trying_to_reorder_applications_in_the_GNOME_Shell_Dash"><span class="tocnumber">23</span> <span class="toctext">GNOME crashes when trying to reorder applications in the GNOME Shell Dash</span></a></li>
<li class="toclevel-1 tocsection-24"><a href="#Setting_global_Wayland_environment_with_an_environment_variable"><span class="tocnumber">24</span> <span class="toctext">Setting global Wayland environment with an environment variable</span></a></li>
<li class="toclevel-1 tocsection-25"><a href="#Gnome_Crashes_while_installing_gnome-extra"><span class="tocnumber">25</span> <span class="toctext">Gnome Crashes while installing gnome-extra</span></a></li>
<li class="toclevel-1 tocsection-26"><a href="#No_H264_Video_in_Gnome_Video_Player_.28Totem.29"><span class="tocnumber">26</span> <span class="toctext">No H264 Video in Gnome Video Player (Totem)</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Shell_freezes">Shell freezes</span></h2>
<p>In the event of a Shell freeze (which might be caused by certain appearance tweaks, malfunctioning extensions or perhaps a lack of available memory) restarting the Shell by pressing <code>Alt</code> + <code>F2</code> and then entering <b>r</b> may not be possible.
</p>
<p>In this case, try switching to another TTY (<b>Ctrl</b> + <b>Alt</b> + <b>F2</b>) and entering the following command: <code>pkill -HUP gnome-shell</code>. It may take a few seconds before the Shell successfully restarts. Restarting the shell in this fashion should not log the user out but it is a good idea to try and ensure that all work is saved anyway.
</p>
<p>If this fails, the <a href="../../en/Xorg.html" title="Xorg">Xorg</a> server will need to be restarted either by: <code>pkill X</code> for console logins or: <code>systemctl restart gdm</code> for GDM logins. Bear in mind that restarting the Xorg server will log the user out so try to ensure that all work is saved before attempting this.
</p>
<h2><span class="mw-headline" id="Incorrect_application_defaults">Incorrect application defaults</span></h2>
<p>When installing applications for the first time you may find that GNOME has the wrong application associated to a certain protocols - for instance, <i>easytag</i> becomes the folder handler instead of <a href="../../en/GNOME/Files.html" title="GNOME Files" class="mw-redirect">GNOME Files</a>.
</p>
<p>For GNOME Files see the following page: <a href="../../en/GNOME/Files.html#Files_is_no_longer_the_default_file_manager" title="GNOME Files" class="mw-redirect">GNOME Files#Files is no longer the default file manager</a>.
</p>
<p>For Document Viewer, run the following command:
</p>
<pre>$ xdg-mime default evince.desktop application/pdf
</pre>
<p>For other applications, default handler settings are detailed on the following page: <a href="../../en/Default_applications.html" title="Default applications">Default applications</a>.
</p>
<p>Optionally, you can <a href="../../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gnome-defaults-list/">gnome-defaults-list</a></span><sup><small>AUR</small></sup>. It will place your configuration file at <code>/etc/gnome/defaults.list</code>.
</p>
<h2><span class="mw-headline" id="Tracker_.26_Documents_do_not_list_any_local_files">Tracker &amp; Documents do not list any local files</span></h2>
<p>In order for Tracker (and, therefore, Documents) to detect your local files, they must be stored in an <a rel="nofollow" class="external text" href="http://standards.freedesktop.org/basedir-spec/basedir-spec-latest.html">XDG compliant directory</a> (such as 'Documents' or 'Music'). For more information, see <a href="../../en/XDG_user_directories.html" title="XDG user directories">XDG user directories</a>.
</p>
<p>You can also configure Tracker to recursively search inside specific directories such as your home directory. These settings can be made using <code>tracker-preferences</code>.
</p>
<h2><span class="mw-headline" id="Unable_to_add_accounts_in_Empathy_and_GNOME_Online_Accounts">Unable to add accounts in Empathy and GNOME Online Accounts</span></h2>
<p>Empathy, the engine behind integrated messaging, GNOME Online Accounts, and all other system settings based on messaging accounts will not function correctly unless the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/groups/x86_64/telepathy/">telepathy</a></span> group of packages or at least one of the backends (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=telepathy-gabble">telepathy-gabble</a></span>, or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=telepathy-haze">telepathy-haze</a></span>, for example) is <a href="../../en/Help:Reading.html#Installation_of_packages" title="Install" class="mw-redirect">installed</a>. View descriptions of <i>telepathy</i> components on the <a rel="nofollow" class="external text" href="http://telepathy.freedesktop.org/wiki/Components">freedesktop.org telepathy wiki</a>.
</p>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong><a href="../../en/Avahi.html" title="Avahi">Avahi</a> daemon is required for connecting with the People Nearby account, and also in order for some desktop extensions to work correctly like <a rel="nofollow" class="external text" href="https://extensions.gnome.org/extension/746/chat-status/">Chat Status</a>
</div>
<h2><span class="mw-headline" id="Empathy_does_not_use_GNOME_Online_Accounts">Empathy does not use GNOME Online Accounts</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="../../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../../File:Tango-inaccurate.png" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../../File:Tango-inaccurate.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> This isn't Windows, on a general basis restarts are only required for kernel updates. If you don't bother to identify the process in question, a logout/login should work (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:GNOME/Troubleshooting">Talk:GNOME/Troubleshooting#</a>)</div>
</div>
<p>Restart is necessary to enable Empathy to recognize and use GNOME Online Accounts.
</p>
<h2><span class="mw-headline" id="Cannot_change_settings_in_dconf-editor">Cannot change settings in dconf-editor</span></h2>
<p>When one cannot set settings in <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=dconf">dconf</a></span>, it is possible their dconf user settings are corrupt. In this case it is best to delete the user dconf files in <code>~/.config/dconf/user*</code> and set the settings in dconf-editor after.
</p>
<h2><span class="mw-headline" id="When_an_extension_breaks_the_shell">When an extension breaks the shell</span></h2>
<p>When enabling shell extensions causes GNOME breakage, you should first remove the <i>user-theme</i> and <i>auto-move-windows</i> extensions from their installation directory.
</p>
<p>The installation directory could be one of  <code>~/.local/share/gnome‑shell/extensions</code>, <code>/usr/share/gnome‑shell/extensions</code> or <code>/usr/local/share/gnome‑shell/extensions</code>. Removing these two extension-containing folders may fix the breakage. Otherwise, isolate the problem extension with trial‑and‑error.
</p>
<p>Removing or adding an extension-containing folder to the aforementioned directories removes or adds the corresponding extension to your system. Details on GNOME Shell extensions are available at the <a rel="nofollow" class="external text" href="https://live.gnome.org/GnomeShell/Extensions">GNOME web site.</a>
</p>
<p>If you have trouble with uninstalling an extension via <a rel="nofollow" class="external text" href="https://extensions.gnome.org/local/">extensions.gnome.org/local</a>, then probably they have been installed as system-wide extensions with the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://www.archlinux.org/packages/?name=gnome-shell-extensions">gnome-shell-extensions</a></span> package. Removing the package again obviously affects all user accounts.
</p>
<h2><span class="mw-headline" id="Extensions_do_not_work_after_GNOME_3_update">Extensions do not work after GNOME 3 update</span></h2>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>Please bear in mind that whilst the methods below will allow you to <b>try</b> and activate an extension with an unsupported version of GNOME Shell, it is by no means a guarantee that the extension will work successfully. The most likely outcome of trying to activate such an extension is that GNOME Shell will crash and then restart.</div>
<p>Before trying the workarounds below, check if an update is available for the extension by visiting <a rel="nofollow" class="external text" href="https://extensions.gnome.org/local">extensions.gnome.org/local</a>. 
</p>
<p>If there is no update for your current GNOME version yet, use the following command to disable version validation for extensions:
</p>
<pre>$ gsettings set org.gnome.shell disable-extension-version-validation true
</pre>
<p>Alternatively, you could modify the extension itself, changing the supported shell version to satisfy the version validation. See the method below.
</p>
<p>Locate the folder where your extensions are installed. It might be <code>~/.local/share/gnome-shell/extensions</code> or <code>/usr/share/gnome-shell/extensions</code>.
</p>
<p>Edit each occurrence of <code>metadata.json</code> which appears in each extension sub-folder.
</p>
<table border="0">
<tr>
<td> Insert: </td>
<td> <code>"shell-version": ["3.x"]</code>
</td>
</tr>
<tr>
<td> Instead of (for example): </td>
<td> <code>"shell-version": ["3.4"]</code>
</td>
</tr>
</table>
<p><code>"3.x"</code> indicates the extension works with every shell version. If it breaks, you will know to change it back.
</p>
<h2><span class="mw-headline" id="Extensions_disabled_at_every_system_startup">Extensions disabled at every system startup</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="../../File:Tango-edit-cut.png" class="image"><img alt="Tango-edit-cut.png" src="../../File:Tango-edit-cut.png" width="48" height="48"></a><b>This section is being considered for removal.</b><a href="../../File:Tango-edit-cut.png" class="image"><img alt="Tango-edit-cut.png" src="../../File:Tango-edit-cut.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Linked issue is fixed in gnome-session 3.4, Arch ships 3.20 now. See <a rel="nofollow" class="external free" href="https://bugs.launchpad.net/ubuntu/+source/gnome-session/+bug/1385572">https://bugs.launchpad.net/ubuntu/+source/gnome-session/+bug/1385572</a> Do we still need to keep such workaround? (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:GNOME/Troubleshooting#Extensions_disabled_at_every_system_startup">Talk:GNOME/Troubleshooting#Extensions disabled at every system startup</a>)</div>
</div>
<p>This is a known bug <a rel="nofollow" class="external autonumber" href="https://bugs.launchpad.net/ubuntu/+source/gnome-shell/+bug/1236749">[1]</a>. Until it is fixed, the following workaround can be helpful.
</p>
<p>Get the active extensions:
</p>
<pre>$ gsettings get org.gnome.shell enabled-extensions
</pre>
<p>Create a <a href="../../en/Desktop_entries.html" title="Desktop entry" class="mw-redirect">desktop entry</a> in <code>~/.config/autostart/restore-extensions.desktop</code>, replacing <code>active_extensions</code> with the output from the above command:
</p>
<pre>[Desktop Entry]
Type=Application
Exec=gsettings set org.gnome.shell enabled-extensions <i>active_extensions</i>
Hidden=false
NoDisplay=false
X-GNOME-Autostart-enabled=true
Name=Restore Extensions
Comment=Restore enabled extensions on login
</pre>
<h2><span class="mw-headline" id="Keyboard_shortcut_do_not_work_with_only_conky_running">Keyboard shortcut do not work with only conky running</span></h2>
<p>The GNOME shell keyboard shortcuts like <code>Alt+F2</code>, <code>Alt+F1</code>, and the media key shortcuts do not work if conky is the only program running. However, if another application like <i>gedit</i> is running, then the keyboard shortcuts work.
</p>
<p>Solution: edit <code>.conkyrc</code>
</p>
<pre>own_window yes
own_window_transparent yes
own_window_argb_visual yes
own_window_type dock
own_window_class Conky
own_window_hints undecorated,below,sticky,skip_taskbar,skip_pager
</pre>
<h2><span class="mw-headline" id="Unable_to_apply_stored_configuration_for_monitors">Unable to apply stored configuration for monitors</span></h2>
<p>If you encounter this message try to disable the <i>xrandr</i> <code>gnome-settings-daemon plugin</code>:
</p>
<pre>$ dconf write /org/gnome/settings-daemon/plugins/xrandr/active false
</pre>
<h2><span class="mw-headline" id="Consistent_cursor_theme">Consistent cursor theme</span></h2>
<p>See <a href="../../en/Cursor_themes.html#Desktop_environments" title="Cursor themes">Cursor themes#Desktop environments</a>.
</p>
<h2><span class="mw-headline" id="Windows_cannot_be_modified_with_Alt-Key_.2B_mouse-button">Windows cannot be modified with Alt-Key + mouse-button</span></h2>
<p>In GNOME 3.6 and above, the mouse button modifier (the key that allows you to drag a window from a location other than the titlebar) is the <code>Super</code> key instead of the <code>Alt</code> key which was used in the past. The change was made in response to the following <a rel="nofollow" class="external text" href="https://bugzilla.gnome.org/show_bug.cgi?id=607797">bug report</a>. 
</p>
<p>To change the mouse button modifier back to the <code>Alt</code> key, execute the following:
</p>
<pre>$ gsettings set org.gnome.desktop.wm.preferences mouse-button-modifier '&lt;Alt&gt;'  
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>It is not possible to change this with <i>System settings</i> &gt; <i>Keyboard</i> &gt; <i>Shortcuts</i>
</div>
<h2><span class="mw-headline" id="Slow_loading_of_system_icons.2Fslow_GDM_login">Slow loading of system icons/slow GDM login</span></h2>
<p>Problems with the loading of system icons, such the ones in the title bar of Files, might be solved by executing the following command:
</p>
<pre># gdk-pixbuf-query-loaders --update-cache
</pre>
<p>Running the aforementioned command may also fix repeated occurrences of the  "Oh no! Something has gone wrong!" error screen and/or very slow loading and login with GDM as described in the following <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1414157">forum thread</a>.
</p>
<h2><span class="mw-headline" id="Artifacts_when_maximizing_windows">Artifacts when maximizing windows</span></h2>
<p>Maximizing windows may cause artifacts as of GNOME 3.12.0 - see the following <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=183617">forum thread</a>  and <a rel="nofollow" class="external text" href="https://bugzilla.gnome.org/show_bug.cgi?id=728385">bug report</a>. A solution is detailed in the following section: <a href="#Tear-free_video_with_Intel_HD_Graphics">#Tear-free video with Intel HD Graphics</a>.
</p>
<h2><span class="mw-headline" id="Tear-free_video_with_Intel_HD_Graphics">Tear-free video with Intel HD Graphics</span></h2>
<dl><dt>DRI3</dt></dl>
<p>According to <a rel="nofollow" class="external text" href="https://bugzilla.gnome.org/show_bug.cgi?id=711028#c2">this bug report</a>, DRI3 includes the <code>buffer_age</code> extension that allows GNOME Shell's Mutter compositor to sync windows to vblank in an efficient way. <a href="../../en/Intel_graphics.html#Direct_Rendering_Infrastructure_3_.28DRI3.29" title="Intel graphics">Enable</a><sup>[<a href="../../en/ArchWiki:Requests.html#Broken_section_links" title="ArchWiki:Requests">broken link</a>: invalid section]</sup> it in the Xorg driver. You can change <code>AccelMethod</code> to your preference in the configuration file created, but the line must be included when the file is created; otherwise, <code>gnome-session</code> will crash upon login in a non-Wayland session.
</p>
<dl><dt>Intel TearFree</dt></dl>
<p>Enabling the <a href="../../en/Intel_graphics.html#Tear-free_video" title="Intel graphics">Xorg Intel TearFree option</a> is a known workaround for tearing problems on Intel adapters. However, the way this option acts makes it redundant with the use of a compositor (it increases memory consumption and lowers performance, see <a rel="nofollow" class="external text" href="https://bugs.freedesktop.org/show_bug.cgi?id=37686#c123">the original bug report's final comment</a>).
</p>
<dl><dt>Mutter tweaks</dt></dl>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBDD; overflow: hidden;">
<strong> Note: </strong>This workaround has been <a rel="nofollow" class="external text" href="https://bugzilla.gnome.org/show_bug.cgi?id=711028#c0">reported</a> to have side effects and may not fix tearing in all cases.</div>
<p>GNOME Shell's Mutter compositor has a tweak known to address tearing problems (see <a rel="nofollow" class="external text" href="https://bugzilla.gnome.org/show_bug.cgi?id=657071#c1">the original suggestion for this fix</a> and its mention in <a rel="nofollow" class="external text" href="https://bugs.freedesktop.org/show_bug.cgi?id=37686#c59">the Freedesktop bug report</a>). To enable this tweak, append the following line to <code>/etc/environment</code>: <code>CLUTTER_PAINT=disable-clipped-redraws:disable-culling</code>. Then restart the Xorg server.
</p>
<h2><span class="mw-headline" id="Window_opens_behind_other_windows_when_using_multiple_monitors">Window opens behind other windows when using multiple monitors</span></h2>
<p>This is possibly a bug in GNOME Shell which causes new windows to open behind others. To fix this issue, one can run the following command:
</p>
<pre>$ gsettings set org.gnome.shell.overrides workspaces-only-on-primary false
</pre>
<h2><span class="mw-headline" id="Lock_button_fails_to_re-enable_touchpad">Lock button fails to re-enable touchpad</span></h2>
<p>Some laptops have a touchpad lock button that disables the touchpad so that users can type without worrying about touching the touchpad. Currently, it appears that although GNOME can lock the touchpad by pressing this button, it cannot unlock it. If the touchpad gets locked you can run the following to unlock it:
</p>
<pre>$ xinput set-prop "SynPS/2 Synaptics TouchPad" "Device Enabled" 1
</pre>
<h2><span class="mw-headline" id="GNOME_Shell_keyboard_sources_menu_not_visible">GNOME Shell keyboard sources menu not visible</span></h2>
<p>A menu showing the keyboard input sources (for example 'en' for an English keyboard layout) should be visible next to the status area containing icons for network, volume and power sources. If the keyboard sources menu is not visible, this is probably because you have configured your <a href="../../en/Xorg.html" title="Xorg">Xorg</a> keyboard layout in a way which GNOME does not recognise.
</p>
<p>To ensure that the menu is visible, remove any Xorg keyboard configuration you might have created and set the keyboard locale using <a href="../../en/Keyboard_configuration_in_Xorg.html#Using_localectl" title="Keyboard configuration in Xorg">localectl</a>.
</p>
<p>Upon running the command and then logging out, you should find that the keyboard input sources menu is visible in GDM and in the GNOME Shell desktop. See <a rel="nofollow" class="external text" href="http://blogs.gnome.org/mclasen/2012/09/21/input-sources-in-gnome/">Input sources in GNOME</a> for more information.
</p>
<h2><span class="mw-headline" id="Mouse_cursor_missing">Mouse cursor missing</span></h2>
<p>When using a separate <a href="../../en/Window_manager.html" title="Window manager">window manager</a> with <i>gnome-settings-daemon</i>, the mouse cursor may vanish. Run:
</p>
<pre>$ gsettings set org.gnome.settings-daemon.plugins.cursor active false
</pre>
<h2><span class="mw-headline" id="No_restart_button_in_session_menu_when_screen_is_locked">No restart button in session menu when screen is locked</span></h2>
<p>If <a href="../../en/XScreenSaver.html" title="XScreenSaver">XScreenSaver</a> is installed, ensure that it is not running at startup, see <a href="../../en/GNOME.html#Startup_applications" title="GNOME">GNOME#Startup applications</a>.
</p>
<h2><span class="mw-headline" id="PulseAudio_system-wide_causes_delay_in_GNOME_and_GDM">PulseAudio system-wide causes delay in GNOME and GDM</span></h2>
<p>If you are running <a href="../../en/PulseAudio.html" title="PulseAudio">PulseAudio</a> in system-wide mode, the PulseAudio 7.0 upgrade breaks <a href="../../en/GDM.html" title="GDM">GDM</a> and GNOME.
See <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=203051">this forum post</a> for more information.
</p>
<h2><span class="mw-headline" id="GNOME_crashes_when_trying_to_reorder_applications_in_the_GNOME_Shell_Dash">GNOME crashes when trying to reorder applications in the GNOME Shell Dash</span></h2>
<p>The dash is the "toolbar" that appears, by default, <a href="https://en.wikipedia.org/wiki/GNOME_Shell#Design_components" class="extiw" title="wikipedia:GNOME Shell">on the left</a> when you click Activities. Applications can be reordered in the dash by dragging and dropping. If this fails, and/or causes GNOME to crash, try <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=171689">changing your icon theme</a>.
</p>
<h2><span class="mw-headline" id="Setting_global_Wayland_environment_with_an_environment_variable">Setting global Wayland environment with an environment variable</span></h2>
<p>Setting a global Wayland environment, by running <code>env GDK_BACKEND=wayland gnome-session --session=gnome-wayland</code>, currently does not work - <i>gnome-session</i> will exit immediately.  Instead, use <code>export GDK_BACKEND='wayland,x11'</code> in your bash profile, or use <code>env GDK_BACKEND='wayland,x11' gnome-session --session=gnome-wayland</code> on the command line.  But in general, neither of these environment settings are necessary, and running <code>gnome-session</code> with the <code>--session=gnome-wayland</code> switch is sufficient.  Without the <code>GDK_BACKEND</code> environment variable, the GNOME Application must be "Wayland aware" to run as a Wayland application, or default to running on Xwayland otherwise. See also <code>GDK_BACKEND</code> under GNOME <a rel="nofollow" class="external text" href="https://developer.gnome.org/gtk3/stable/gtk-running.html">Environment variables</a>.
</p>
<h2><span class="mw-headline" id="Gnome_Crashes_while_installing_gnome-extra">Gnome Crashes while installing gnome-extra</span></h2>
<div class="noprint archwiki-template-message">
<p><a href="../../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../../File:Tango-view-fullscreen.png" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../../File:Tango-view-fullscreen.png" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Is there a related bug report? (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:GNOME/Troubleshooting">Talk:GNOME/Troubleshooting#</a>)</div>
</div>
<p>Attempting to install the gnome-extra group while a gnome environment is running will crash gnome while installing gnome-getting-started-docs. X will continue to run, but gnome will not work until fixed. To fix, simply install gnome-extra from a terminal rather than inside gnome. When complete, gnome should work again.
</p>
<p><br>
</p>
<h2><span class="mw-headline" id="No_H264_Video_in_Gnome_Video_Player_.28Totem.29">No H264 Video in Gnome Video Player (Totem)</span></h2>
<p><a href="../../en/Codecs.html#Tips_and_tricks" title="Codecs"> See Codecs</a>
</p>
</div>
<div id="catlinks" class="catlinks">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../../en/Category:Desktop_environments.html" title="Category:Desktop environments">Desktop environments</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
<li><a href="../../en/Category:Sections_flagged_with_Template:Remove.html" title="Category:Sections flagged with Template:Remove">Sections flagged with Template:Remove</a></li>
<li><a href="../../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
<li><a href="../../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
</ul>
</div>
</div>					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<ul id="f-list" style="margin: 0 2em">
									<li>
Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=GNOME/Troubleshooting&amp;oldid=453731">https://wiki.archlinux.org/index.php?title=GNOME/Troubleshooting&amp;oldid=453731</a>"</li>
					<li id="lastmod"> This page was last modified on 12 October 2016, at 23:53.</li>
									<li id="copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
									<br><li id="privacy"><a href="../../en/ArchWiki:General_disclaimer.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="../../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
									<li id="disclaimer"><a href="../../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		</body>
</html>
